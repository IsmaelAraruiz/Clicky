function s1(n,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(o,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function gv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function a1(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var s=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return n[o]}})}),t}var Sh={exports:{}},Fa={},Ih={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function l1(){if(Ag)return be;Ag=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function F(V,Q,me){this.props=V,this.context=Q,this.refs=z,this.updater=me||D}F.prototype.isReactComponent={},F.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function se(){}se.prototype=F.prototype;function ae(V,Q,me){this.props=V,this.context=Q,this.refs=z,this.updater=me||D}var ue=ae.prototype=new se;ue.constructor=ae,M(ue,F.prototype),ue.isPureReactComponent=!0;var fe=Array.isArray,Ne=Object.prototype.hasOwnProperty,Ae={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(V,Q,me){var xe,ke={},De=null,Ue=null;if(Q!=null)for(xe in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(De=""+Q.key),Q)Ne.call(Q,xe)&&!O.hasOwnProperty(xe)&&(ke[xe]=Q[xe]);var He=arguments.length-2;if(He===1)ke.children=me;else if(1<He){for(var Ye=Array(He),St=0;St<He;St++)Ye[St]=arguments[St+2];ke.children=Ye}if(V&&V.defaultProps)for(xe in He=V.defaultProps,He)ke[xe]===void 0&&(ke[xe]=He[xe]);return{$$typeof:n,type:V,key:De,ref:Ue,props:ke,_owner:Ae.current}}function P(V,Q){return{$$typeof:n,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function R(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return Q[me]})}var x=/\/+/g;function S(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?R(""+V.key):Q.toString(36)}function ne(V,Q,me,xe,ke){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=V,ke=ke(Ue),V=xe===""?"."+S(Ue,0):xe,fe(ke)?(me="",V!=null&&(me=V.replace(x,"$&/")+"/"),ne(ke,Q,me,"",function(St){return St})):ke!=null&&(N(ke)&&(ke=P(ke,me+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(x,"$&/")+"/")+V)),Q.push(ke)),1;if(Ue=0,xe=xe===""?".":xe+":",fe(V))for(var He=0;He<V.length;He++){De=V[He];var Ye=xe+S(De,He);Ue+=ne(De,Q,me,Ye,ke)}else if(Ye=C(V),typeof Ye=="function")for(V=Ye.call(V),He=0;!(De=V.next()).done;)De=De.value,Ye=xe+S(De,He++),Ue+=ne(De,Q,me,Ye,ke);else if(De==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ie(V,Q,me){if(V==null)return V;var xe=[],ke=0;return ne(V,xe,"","",function(De){return Q.call(me,De,ke++)}),xe}function Ie(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var $={current:null},K={transition:null},le={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:K,ReactCurrentOwner:Ae};function te(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:ie,forEach:function(V,Q,me){ie(V,function(){Q.apply(this,arguments)},me)},count:function(V){var Q=0;return ie(V,function(){Q++}),Q},toArray:function(V){return ie(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},be.Component=F,be.Fragment=t,be.Profiler=s,be.PureComponent=ae,be.StrictMode=o,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,be.act=te,be.cloneElement=function(V,Q,me){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var xe=M({},V.props),ke=V.key,De=V.ref,Ue=V._owner;if(Q!=null){if(Q.ref!==void 0&&(De=Q.ref,Ue=Ae.current),Q.key!==void 0&&(ke=""+Q.key),V.type&&V.type.defaultProps)var He=V.type.defaultProps;for(Ye in Q)Ne.call(Q,Ye)&&!O.hasOwnProperty(Ye)&&(xe[Ye]=Q[Ye]===void 0&&He!==void 0?He[Ye]:Q[Ye])}var Ye=arguments.length-2;if(Ye===1)xe.children=me;else if(1<Ye){He=Array(Ye);for(var St=0;St<Ye;St++)He[St]=arguments[St+2];xe.children=He}return{$$typeof:n,type:V.type,key:ke,ref:De,props:xe,_owner:Ue}},be.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},be.createElement=I,be.createFactory=function(V){var Q=I.bind(null,V);return Q.type=V,Q},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:h,render:V}},be.isValidElement=N,be.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Ie}},be.memo=function(V,Q){return{$$typeof:v,type:V,compare:Q===void 0?null:Q}},be.startTransition=function(V){var Q=K.transition;K.transition={};try{V()}finally{K.transition=Q}},be.unstable_act=te,be.useCallback=function(V,Q){return $.current.useCallback(V,Q)},be.useContext=function(V){return $.current.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V){return $.current.useDeferredValue(V)},be.useEffect=function(V,Q){return $.current.useEffect(V,Q)},be.useId=function(){return $.current.useId()},be.useImperativeHandle=function(V,Q,me){return $.current.useImperativeHandle(V,Q,me)},be.useInsertionEffect=function(V,Q){return $.current.useInsertionEffect(V,Q)},be.useLayoutEffect=function(V,Q){return $.current.useLayoutEffect(V,Q)},be.useMemo=function(V,Q){return $.current.useMemo(V,Q)},be.useReducer=function(V,Q,me){return $.current.useReducer(V,Q,me)},be.useRef=function(V){return $.current.useRef(V)},be.useState=function(V){return $.current.useState(V)},be.useSyncExternalStore=function(V,Q,me){return $.current.useSyncExternalStore(V,Q,me)},be.useTransition=function(){return $.current.useTransition()},be.version="18.3.1",be}var Pg;function sl(){return Pg||(Pg=1,Ih.exports=l1()),Ih.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function u1(){if(Rg)return Fa;Rg=1;var n=sl(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,g,v){var _,E={},C=null,D=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(D=g.ref);for(_ in g)o.call(g,_)&&!l.hasOwnProperty(_)&&(E[_]=g[_]);if(h&&h.defaultProps)for(_ in g=h.defaultProps,g)E[_]===void 0&&(E[_]=g[_]);return{$$typeof:e,type:h,key:C,ref:D,props:E,_owner:s.current}}return Fa.Fragment=t,Fa.jsx=d,Fa.jsxs=d,Fa}var xg;function c1(){return xg||(xg=1,Sh.exports=u1()),Sh.exports}var k=c1(),X=sl();const d1=gv(X),h1=s1({__proto__:null,default:d1},[X]);var ju={},Ah={exports:{}},an={},Ph={exports:{}},Rh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function f1(){return kg||(kg=1,function(n){function e(K,le){var te=K.length;K.push(le);e:for(;0<te;){var V=te-1>>>1,Q=K[V];if(0<s(Q,le))K[V]=le,K[te]=Q,te=V;else break e}}function t(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var le=K[0],te=K.pop();if(te!==le){K[0]=te;e:for(var V=0,Q=K.length,me=Q>>>1;V<me;){var xe=2*(V+1)-1,ke=K[xe],De=xe+1,Ue=K[De];if(0>s(ke,te))De<Q&&0>s(Ue,ke)?(K[V]=Ue,K[De]=te,V=De):(K[V]=ke,K[xe]=te,V=xe);else if(De<Q&&0>s(Ue,te))K[V]=Ue,K[De]=te,V=De;else break e}}return le}function s(K,le){var te=K.sortIndex-le.sortIndex;return te!==0?te:K.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],v=[],_=1,E=null,C=3,D=!1,M=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(K){for(var le=t(v);le!==null;){if(le.callback===null)o(v);else if(le.startTime<=K)o(v),le.sortIndex=le.expirationTime,e(g,le);else break;le=t(v)}}function fe(K){if(z=!1,ue(K),!M)if(t(g)!==null)M=!0,Ie(Ne);else{var le=t(v);le!==null&&$(fe,le.startTime-K)}}function Ne(K,le){M=!1,z&&(z=!1,se(I),I=-1),D=!0;var te=C;try{for(ue(le),E=t(g);E!==null&&(!(E.expirationTime>le)||K&&!R());){var V=E.callback;if(typeof V=="function"){E.callback=null,C=E.priorityLevel;var Q=V(E.expirationTime<=le);le=n.unstable_now(),typeof Q=="function"?E.callback=Q:E===t(g)&&o(g),ue(le)}else o(g);E=t(g)}if(E!==null)var me=!0;else{var xe=t(v);xe!==null&&$(fe,xe.startTime-le),me=!1}return me}finally{E=null,C=te,D=!1}}var Ae=!1,O=null,I=-1,P=5,N=-1;function R(){return!(n.unstable_now()-N<P)}function x(){if(O!==null){var K=n.unstable_now();N=K;var le=!0;try{le=O(!0,K)}finally{le?S():(Ae=!1,O=null)}}else Ae=!1}var S;if(typeof ae=="function")S=function(){ae(x)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=x,S=function(){ie.postMessage(null)}}else S=function(){F(x,0)};function Ie(K){O=K,Ae||(Ae=!0,S())}function $(K,le){I=F(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){M||D||(M=!0,Ie(Ne))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(K){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var te=C;C=le;try{return K()}finally{C=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=C;C=K;try{return le()}finally{C=te}},n.unstable_scheduleCallback=function(K,le,te){var V=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?V+te:V):te=V,K){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,K={id:_++,callback:le,priorityLevel:K,startTime:te,expirationTime:Q,sortIndex:-1},te>V?(K.sortIndex=te,e(v,K),t(g)===null&&K===t(v)&&(z?(se(I),I=-1):z=!0,$(fe,te-V))):(K.sortIndex=Q,e(g,K),M||D||(M=!0,Ie(Ne))),K},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(K){var le=C;return function(){var te=C;C=le;try{return K.apply(this,arguments)}finally{C=te}}}}(Rh)),Rh}var bg;function p1(){return bg||(bg=1,Ph.exports=f1()),Ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function m1(){if(Ng)return an;Ng=1;var n=sl(),e=p1();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(r,i){d(r,i),d(r+"Capture",i)}function d(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function C(r){return g.call(E,r)?!0:g.call(_,r)?!1:v.test(r)?E[r]=!0:(_[r]=!0,!1)}function D(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,i,a,c){if(i===null||typeof i>"u"||D(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function z(r,i,a,c,f,m,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];F[i]=new z(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function ae(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(se,ae);F[i]=new z(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(se,ae);F[i]=new z(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(se,ae);F[i]=new z(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function ue(r,i,a,c){var f=F.hasOwnProperty(i)?F[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,a,f,c)&&(a=null),c||f===null?C(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var fe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),K=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var te=Object.assign,V;function Q(r){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var me=!1;function xe(r,i){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var c=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){c=q}r.call(i.prototype)}else{try{throw Error()}catch(q){c=q}r()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),m=c.stack.split(`
`),w=f.length-1,A=m.length-1;1<=w&&0<=A&&f[w]!==m[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==m[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==m[A]){var b=`
`+f[w].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=w&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function ke(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=xe(r.type,!1),r;case 11:return r=xe(r.type.render,!1),r;case 1:return r=xe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case Ae:return"Portal";case P:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case x:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ie:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case Ie:i=r._payload,r=r._init;try{return De(r(i))}catch{}}return null}function Ue(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function He(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function St(r){var i=Ye(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function _r(r){r._valueTracker||(r._valueTracker=St(r))}function Eo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Ye(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bi(r,i){var a=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function To(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=He(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function qs(r,i){i=i.checked,i!=null&&ue(r,"checked",i,!1)}function Hs(r,i){qs(r,i);var a=He(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Co(r,i.type,a):i.hasOwnProperty("defaultValue")&&Co(r,i.type,He(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Sl(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Co(r,i,a){(i!=="number"||zr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Er=Array.isArray;function Tr(r,i,a,c){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+He(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Ws(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function So(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Er(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:He(a)}}function Io(r,i){var a=He(i.value),c=He(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Ks(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Cr,Qs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,f)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function $r(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Di=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(r){Di.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ni[i]=Ni[r]})});function Gs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ni.hasOwnProperty(r)&&Ni[r]?(""+i).trim():i+"px"}function Ys(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Gs(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Xs=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(r,i){if(i){if(Xs[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Zs(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function Ao(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Po=null,Pn=null,tr=null;function Ro(r){if(r=Ca(r)){if(typeof Po!="function")throw Error(t(280));var i=r.stateNode;i&&(i=eu(i),Po(r.stateNode,r.type,i))}}function nr(r){Pn?tr?tr.push(r):tr=[r]:Pn=r}function ea(){if(Pn){var r=Pn,i=tr;if(tr=Pn=null,Ro(r),i)for(r=0;r<i.length;r++)Ro(i[r])}}function Oi(r,i){return r(i)}function ta(){}var Sr=!1;function na(r,i,a){if(Sr)return r(i,a);Sr=!0;try{return Oi(r,i,a)}finally{Sr=!1,(Pn!==null||tr!==null)&&(ta(),ea())}}function ut(r,i){var a=r.stateNode;if(a===null)return null;var c=eu(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var xo=!1;if(h)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{xo=!1}function Li(r,i,a,c,f,m,w,A,b){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(Z){this.onError(Z)}}var Mi=!1,ko=null,jn=!1,ra=null,Jc={onError:function(r){Mi=!0,ko=r}};function bo(r,i,a,c,f,m,w,A,b){Mi=!1,ko=null,Li.apply(Jc,arguments)}function Il(r,i,a,c,f,m,w,A,b){if(bo.apply(this,arguments),Mi){if(Mi){var q=ko;Mi=!1,ko=null}else throw Error(t(198));jn||(jn=!0,ra=q)}}function Bn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Fi(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Un(r){if(Bn(r)!==r)throw Error(t(188))}function Al(r){var i=r.alternate;if(!i){if(i=Bn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Un(f),r;if(m===c)return Un(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,c=m;break}if(A===c){w=!0,c=f,a=m;break}A=A.sibling}if(!w){for(A=m.child;A;){if(A===a){w=!0,a=m,c=f;break}if(A===c){w=!0,c=m,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function ia(r){return r=Al(r),r!==null?No(r):null}function No(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=No(r);if(i!==null)return i;r=r.sibling}return null}var Do=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,Zc=e.unstable_requestPaint,Xe=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,xl=e.unstable_IdlePriority,Bi=null,pn=null;function kl(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Bi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Nl,aa=Math.log,bl=Math.LN2;function Nl(r){return r>>>=0,r===0?32:31-(aa(r)/bl|0)|0}var Vo=64,Oo=4194304;function Hr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ui(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,m=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?c=Hr(A):(m&=w,m!==0&&(c=Hr(m)))}else w=a&~f,w!==0?c=Hr(w):m!==0&&(c=Hr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-Kt(i),f=1<<a,c|=r[a],i&=~f;return c}function ed(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-Kt(m),A=1<<w,b=f[w];b===-1?(!(A&a)||A&c)&&(f[w]=ed(A,i)):b<=i&&(r.expiredLanes|=A),m&=~A}}function mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zi(){var r=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),r}function Wr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Kr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Kt(i),r[i]=a}function Qe(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Kt(a),m=1<<f;i[f]=0,c[f]=-1,r[f]=-1,a&=~m}}function Qr(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-Kt(a),f=1<<c;f&i|r[c]&i&&(r[c]|=i),a&=~f}}var Oe=0;function Gr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Dl,Lo,Vl,Ol,Ll,la=!1,rr=[],Dt=null,zn=null,$n=null,Yr=new Map,xn=new Map,ir=[],td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ml(r,i){switch(r){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Yr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(i.pointerId)}}function Zt(r,i,a,c,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ca(i),i!==null&&Lo(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function nd(r,i,a,c,f){switch(i){case"focusin":return Dt=Zt(Dt,r,i,a,c,f),!0;case"dragenter":return zn=Zt(zn,r,i,a,c,f),!0;case"mouseover":return $n=Zt($n,r,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Yr.set(m,Zt(Yr.get(m)||null,r,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,xn.set(m,Zt(xn.get(m)||null,r,i,a,c,f)),!0}return!1}function Fl(r){var i=Ki(r.target);if(i!==null){var a=Bn(i);if(a!==null){if(i=a.tag,i===13){if(i=Fi(a),i!==null){r.blockedOn=i,Ll(r.priority,function(){Vl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ar(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Mo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Vi=c,a.target.dispatchEvent(c),Vi=null}else return i=Ca(a),i!==null&&Lo(i),r.blockedOn=a,!1;i.shift()}return!0}function $i(r,i,a){Ar(r)&&a.delete(i)}function jl(){la=!1,Dt!==null&&Ar(Dt)&&(Dt=null),zn!==null&&Ar(zn)&&(zn=null),$n!==null&&Ar($n)&&($n=null),Yr.forEach($i),xn.forEach($i)}function qn(r,i){r.blockedOn===i&&(r.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function Hn(r){function i(f){return qn(f,r)}if(0<rr.length){qn(rr[0],r);for(var a=1;a<rr.length;a++){var c=rr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Dt!==null&&qn(Dt,r),zn!==null&&qn(zn,r),$n!==null&&qn($n,r),Yr.forEach(i),xn.forEach(i),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Fl(a),a.blockedOn===null&&ir.shift()}var Pr=fe.ReactCurrentBatchConfig,Xr=!0;function nt(r,i,a,c){var f=Oe,m=Pr.transition;Pr.transition=null;try{Oe=1,ua(r,i,a,c)}finally{Oe=f,Pr.transition=m}}function rd(r,i,a,c){var f=Oe,m=Pr.transition;Pr.transition=null;try{Oe=4,ua(r,i,a,c)}finally{Oe=f,Pr.transition=m}}function ua(r,i,a,c){if(Xr){var f=Mo(r,i,a,c);if(f===null)pd(r,i,c,qi,a),Ml(r,c);else if(nd(f,r,i,a,c))c.stopPropagation();else if(Ml(r,c),i&4&&-1<td.indexOf(r)){for(;f!==null;){var m=Ca(f);if(m!==null&&Dl(m),m=Mo(r,i,a,c),m===null&&pd(r,i,c,qi,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else pd(r,i,c,null,a)}}var qi=null;function Mo(r,i,a,c){if(qi=null,r=Ao(c),r=Ki(r),r!==null)if(i=Bn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Fi(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return qi=r,null}function ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case ji:return 1;case qr:return 4;case Rn:case sa:return 16;case xl:return 536870912;default:return 16}default:return 16}}var gn=null,Fo=null,en=null;function da(){if(en)return en;var r,i=Fo,a=i.length,c,f="value"in gn?gn.value:gn.textContent,m=f.length;for(r=0;r<a&&i[r]===f[r];r++);var w=a-r;for(c=1;c<=w&&i[a-c]===f[m-c];c++);return en=f.slice(r,1<c?1-c:void 0)}function jo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function ha(){return!1}function Vt(r){function i(a,c,f,m,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?or:ha,this.isPropagationStopped=ha,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Vt(Wn),sr=te({},Wn,{view:0,detail:0}),id=Vt(sr),Uo,Rr,Jr,Hi=te({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(Uo=r.screenX-Jr.screenX,Rr=r.screenY-Jr.screenY):Rr=Uo=0,Jr=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:Rr}}),zo=Vt(Hi),fa=te({},Hi,{dataTransfer:0}),Bl=Vt(fa),$o=te({},sr,{relatedTarget:0}),qo=Vt($o),Ul=te({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=Vt(Ul),zl=te({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),$l=Vt(zl),ql=te({},Wn,{data:0}),pa=Vt(ql),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Hl[r])?!!i[r]:!1}function ar(){return Wl}var u=te({},sr,{key:function(r){if(r.key){var i=Ho[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=jo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(r){return r.type==="keypress"?jo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?jo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=Vt(u),y=te({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Vt(y),j=te({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),H=Vt(j),oe=te({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Vt(oe),_t=te({},Hi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Vt(_t),It=[9,13,27,32],pt=h&&"CompositionEvent"in window,kn=null;h&&"documentMode"in document&&(kn=document.documentMode);var yn=h&&"TextEvent"in window&&!kn,Wi=h&&(!pt||kn&&8<kn&&11>=kn),Wo=" ",_p=!1;function Ep(r,i){switch(r){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ko=!1;function r_(r,i){switch(r){case"compositionend":return Tp(i);case"keypress":return i.which!==32?null:(_p=!0,Wo);case"textInput":return r=i.data,r===Wo&&_p?null:r;default:return null}}function i_(r,i){if(Ko)return r==="compositionend"||!pt&&Ep(r,i)?(r=da(),en=Fo=gn=null,Ko=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wi&&i.locale!=="ko"?null:i.data;default:return null}}var o_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!o_[r.type]:i==="textarea"}function Sp(r,i,a,c){nr(c),i=Xl(i,"onChange"),0<i.length&&(a=new Bo("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var ma=null,ga=null;function s_(r){zp(r,0)}function Kl(r){var i=Jo(r);if(Eo(i))return r}function a_(r,i){if(r==="change")return i}var Ip=!1;if(h){var od;if(h){var sd="oninput"in document;if(!sd){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),sd=typeof Ap.oninput=="function"}od=sd}else od=!1;Ip=od&&(!document.documentMode||9<document.documentMode)}function Pp(){ma&&(ma.detachEvent("onpropertychange",Rp),ga=ma=null)}function Rp(r){if(r.propertyName==="value"&&Kl(ga)){var i=[];Sp(i,ga,r,Ao(r)),na(s_,i)}}function l_(r,i,a){r==="focusin"?(Pp(),ma=i,ga=a,ma.attachEvent("onpropertychange",Rp)):r==="focusout"&&Pp()}function u_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Kl(ga)}function c_(r,i){if(r==="click")return Kl(i)}function d_(r,i){if(r==="input"||r==="change")return Kl(i)}function h_(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Kn=typeof Object.is=="function"?Object.is:h_;function ya(r,i){if(Kn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Kn(r[f],i[f]))return!1}return!0}function xp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kp(r,i){var a=xp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xp(a)}}function bp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?bp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Np(){for(var r=window,i=zr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=zr(r.document)}return i}function ad(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function f_(r){var i=Np(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&bp(a.ownerDocument.documentElement,a)){if(c!==null&&ad(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!r.extend&&m>c&&(f=c,c=m,m=f),f=kp(a,m);var w=kp(a,c);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),m>c?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var p_=h&&"documentMode"in document&&11>=document.documentMode,Qo=null,ld=null,va=null,ud=!1;function Dp(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ud||Qo==null||Qo!==zr(c)||(c=Qo,"selectionStart"in c&&ad(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),va&&ya(va,c)||(va=c,c=Xl(ld,"onSelect"),0<c.length&&(i=new Bo("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=Qo)))}function Ql(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Go={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},cd={},Vp={};h&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Gl(r){if(cd[r])return cd[r];if(!Go[r])return r;var i=Go[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vp)return cd[r]=i[a];return r}var Op=Gl("animationend"),Lp=Gl("animationiteration"),Mp=Gl("animationstart"),Fp=Gl("transitionend"),jp=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,i){jp.set(r,i),l(i,[r])}for(var dd=0;dd<Bp.length;dd++){var hd=Bp[dd],m_=hd.toLowerCase(),g_=hd[0].toUpperCase()+hd.slice(1);Zr(m_,"on"+g_)}Zr(Op,"onAnimationEnd"),Zr(Lp,"onAnimationIteration"),Zr(Mp,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Fp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Up(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,Il(c,i,void 0,r),r.currentTarget=null}function zp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var w=c.length-1;0<=w;w--){var A=c[w],b=A.instance,q=A.currentTarget;if(A=A.listener,b!==m&&f.isPropagationStopped())break e;Up(f,A,q),m=b}else for(w=0;w<c.length;w++){if(A=c[w],b=A.instance,q=A.currentTarget,A=A.listener,b!==m&&f.isPropagationStopped())break e;Up(f,A,q),m=b}}}if(jn)throw r=ra,jn=!1,ra=null,r}function et(r,i){var a=i[_d];a===void 0&&(a=i[_d]=new Set);var c=r+"__bubble";a.has(c)||($p(i,r,2,!1),a.add(c))}function fd(r,i,a){var c=0;i&&(c|=4),$p(a,r,c,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function _a(r){if(!r[Yl]){r[Yl]=!0,o.forEach(function(a){a!=="selectionchange"&&(y_.has(a)||fd(a,!1,r),fd(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,fd("selectionchange",!1,i))}}function $p(r,i,a,c){switch(ca(i)){case 1:var f=nt;break;case 4:f=rd;break;default:f=ua}a=f.bind(null,i,a,r),f=void 0,!xo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function pd(r,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;w=w.return}for(;A!==null;){if(w=Ki(A),w===null)return;if(b=w.tag,b===5||b===6){c=m=w;continue e}A=A.parentNode}}c=c.return}na(function(){var q=m,Z=Ao(a),ee=[];e:{var J=jp.get(r);if(J!==void 0){var de=Bo,ge=r;switch(r){case"keypress":if(jo(a)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":ge="focus",de=qo;break;case"focusout":ge="blur",de=qo;break;case"beforeblur":case"afterblur":de=qo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=H;break;case Op:case Lp:case Mp:de=xr;break;case Fp:de=We;break;case"scroll":de=id;break;case"wheel":de=Le;break;case"copy":case"cut":case"paste":de=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=T}var ye=(i&4)!==0,ct=!ye&&r==="scroll",B=ye?J!==null?J+"Capture":null:J;ye=[];for(var L=q,U;L!==null;){U=L;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,B!==null&&(re=ut(L,B),re!=null&&ye.push(Ea(L,re,U)))),ct)break;L=L.return}0<ye.length&&(J=new de(J,ge,null,a,Z),ee.push({event:J,listeners:ye}))}}if(!(i&7)){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&a!==Vi&&(ge=a.relatedTarget||a.fromElement)&&(Ki(ge)||ge[kr]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(ge=a.relatedTarget||a.toElement,de=q,ge=ge?Ki(ge):null,ge!==null&&(ct=Bn(ge),ge!==ct||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=q),de!==ge)){if(ye=zo,re="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ye=T,re="onPointerLeave",B="onPointerEnter",L="pointer"),ct=de==null?J:Jo(de),U=ge==null?J:Jo(ge),J=new ye(re,L+"leave",de,a,Z),J.target=ct,J.relatedTarget=U,re=null,Ki(Z)===q&&(ye=new ye(B,L+"enter",ge,a,Z),ye.target=U,ye.relatedTarget=ct,re=ye),ct=re,de&&ge)t:{for(ye=de,B=ge,L=0,U=ye;U;U=Yo(U))L++;for(U=0,re=B;re;re=Yo(re))U++;for(;0<L-U;)ye=Yo(ye),L--;for(;0<U-L;)B=Yo(B),U--;for(;L--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=Yo(ye),B=Yo(B)}ye=null}else ye=null;de!==null&&qp(ee,J,de,ye,!1),ge!==null&&ct!==null&&qp(ee,ct,ge,ye,!0)}}e:{if(J=q?Jo(q):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ve=a_;else if(Cp(J))if(Ip)ve=d_;else{ve=u_;var _e=l_}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=c_);if(ve&&(ve=ve(r,q))){Sp(ee,ve,a,Z);break e}_e&&_e(r,J,q),r==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&Co(J,"number",J.value)}switch(_e=q?Jo(q):window,r){case"focusin":(Cp(_e)||_e.contentEditable==="true")&&(Qo=_e,ld=q,va=null);break;case"focusout":va=ld=Qo=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Dp(ee,a,Z);break;case"selectionchange":if(p_)break;case"keydown":case"keyup":Dp(ee,a,Z)}var Ee;if(pt)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ko?Ep(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Wi&&a.locale!=="ko"&&(Ko||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ko&&(Ee=da()):(gn=Z,Fo="value"in gn?gn.value:gn.textContent,Ko=!0)),_e=Xl(q,Pe),0<_e.length&&(Pe=new pa(Pe,r,null,a,Z),ee.push({event:Pe,listeners:_e}),Ee?Pe.data=Ee:(Ee=Tp(a),Ee!==null&&(Pe.data=Ee)))),(Ee=yn?r_(r,a):i_(r,a))&&(q=Xl(q,"onBeforeInput"),0<q.length&&(Z=new pa("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:q}),Z.data=Ee))}zp(ee,i)})}function Ea(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Xl(r,i){for(var a=i+"Capture",c=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ut(r,a),m!=null&&c.unshift(Ea(r,m,f)),m=ut(r,i),m!=null&&c.push(Ea(r,m,f))),r=r.return}return c}function Yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qp(r,i,a,c,f){for(var m=i._reactName,w=[];a!==null&&a!==c;){var A=a,b=A.alternate,q=A.stateNode;if(b!==null&&b===c)break;A.tag===5&&q!==null&&(A=q,f?(b=ut(a,m),b!=null&&w.unshift(Ea(a,b,A))):f||(b=ut(a,m),b!=null&&w.push(Ea(a,b,A)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var v_=/\r\n?/g,w_=/\u0000|\uFFFD/g;function Hp(r){return(typeof r=="string"?r:""+r).replace(v_,`
`).replace(w_,"")}function Jl(r,i,a){if(i=Hp(i),Hp(r)!==i&&a)throw Error(t(425))}function Zl(){}var md=null,gd=null;function yd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(r){return Wp.resolve(null).then(r).catch(T_)}:vd;function T_(r){setTimeout(function(){throw r})}function wd(r,i){var a=i,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),Hn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Hn(i)}function ei(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Kp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),lr="__reactFiber$"+Xo,Ta="__reactProps$"+Xo,kr="__reactContainer$"+Xo,_d="__reactEvents$"+Xo,C_="__reactListeners$"+Xo,S_="__reactHandles$"+Xo;function Ki(r){var i=r[lr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[kr]||a[lr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Kp(r);r!==null;){if(a=r[lr])return a;r=Kp(r)}return i}r=a,a=r.parentNode}return null}function Ca(r){return r=r[lr]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Jo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function eu(r){return r[Ta]||null}var Ed=[],Zo=-1;function ti(r){return{current:r}}function tt(r){0>Zo||(r.current=Ed[Zo],Ed[Zo]=null,Zo--)}function Je(r,i){Zo++,Ed[Zo]=r.current,r.current=i}var ni={},Bt=ti(ni),tn=ti(!1),Qi=ni;function es(r,i){var a=r.type.contextTypes;if(!a)return ni;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function nn(r){return r=r.childContextTypes,r!=null}function tu(){tt(tn),tt(Bt)}function Qp(r,i,a){if(Bt.current!==ni)throw Error(t(168));Je(Bt,i),Je(tn,a)}function Gp(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Ue(r)||"Unknown",f));return te({},a,c)}function nu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ni,Qi=Bt.current,Je(Bt,r),Je(tn,tn.current),!0}function Yp(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Gp(r,i,Qi),c.__reactInternalMemoizedMergedChildContext=r,tt(tn),tt(Bt),Je(Bt,r)):tt(tn),Je(tn,a)}var br=null,ru=!1,Td=!1;function Xp(r){br===null?br=[r]:br.push(r)}function I_(r){ru=!0,Xp(r)}function ri(){if(!Td&&br!==null){Td=!0;var r=0,i=Oe;try{var a=br;for(Oe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}br=null,ru=!1}catch(f){throw br!==null&&(br=br.slice(r+1)),Do(ji,ri),f}finally{Oe=i,Td=!1}}return null}var ts=[],ns=0,iu=null,ou=0,bn=[],Nn=0,Gi=null,Nr=1,Dr="";function Yi(r,i){ts[ns++]=ou,ts[ns++]=iu,iu=r,ou=i}function Jp(r,i,a){bn[Nn++]=Nr,bn[Nn++]=Dr,bn[Nn++]=Gi,Gi=r;var c=Nr;r=Dr;var f=32-Kt(c)-1;c&=~(1<<f),a+=1;var m=32-Kt(i)+f;if(30<m){var w=f-f%5;m=(c&(1<<w)-1).toString(32),c>>=w,f-=w,Nr=1<<32-Kt(i)+f|a<<f|c,Dr=m+r}else Nr=1<<m|a<<f|c,Dr=r}function Cd(r){r.return!==null&&(Yi(r,1),Jp(r,1,0))}function Sd(r){for(;r===iu;)iu=ts[--ns],ts[ns]=null,ou=ts[--ns],ts[ns]=null;for(;r===Gi;)Gi=bn[--Nn],bn[Nn]=null,Dr=bn[--Nn],bn[Nn]=null,Nr=bn[--Nn],bn[Nn]=null}var vn=null,wn=null,rt=!1,Qn=null;function Zp(r,i){var a=Ln(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function em(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,vn=r,wn=ei(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,vn=r,wn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Gi!==null?{id:Nr,overflow:Dr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Ln(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,vn=r,wn=null,!0):!1;default:return!1}}function Id(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ad(r){if(rt){var i=wn;if(i){var a=i;if(!em(r,i)){if(Id(r))throw Error(t(418));i=ei(a.nextSibling);var c=vn;i&&em(r,i)?Zp(c,a):(r.flags=r.flags&-4097|2,rt=!1,vn=r)}}else{if(Id(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,vn=r}}}function tm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function su(r){if(r!==vn)return!1;if(!rt)return tm(r),rt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!yd(r.type,r.memoizedProps)),i&&(i=wn)){if(Id(r))throw nm(),Error(t(418));for(;i;)Zp(r,i),i=ei(i.nextSibling)}if(tm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){wn=ei(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}wn=null}}else wn=vn?ei(r.stateNode.nextSibling):null;return!0}function nm(){for(var r=wn;r;)r=ei(r.nextSibling)}function rs(){wn=vn=null,rt=!1}function Pd(r){Qn===null?Qn=[r]:Qn.push(r)}var A_=fe.ReactCurrentBatchConfig;function Sa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(w){var A=f.refs;w===null?delete A[m]:A[m]=w},i._stringRef=m,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function au(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function rm(r){var i=r._init;return i(r._payload)}function im(r){function i(B,L){if(r){var U=B.deletions;U===null?(B.deletions=[L],B.flags|=16):U.push(L)}}function a(B,L){if(!r)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=di(B,L),B.index=0,B.sibling=null,B}function m(B,L,U){return B.index=U,r?(U=B.alternate,U!==null?(U=U.index,U<L?(B.flags|=2,L):U):(B.flags|=2,L)):(B.flags|=1048576,L)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function A(B,L,U,re){return L===null||L.tag!==6?(L=vh(U,B.mode,re),L.return=B,L):(L=f(L,U),L.return=B,L)}function b(B,L,U,re){var ve=U.type;return ve===O?Z(B,L,U.props.children,re,U.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ie&&rm(ve)===L.type)?(re=f(L,U.props),re.ref=Sa(B,L,U),re.return=B,re):(re=bu(U.type,U.key,U.props,null,B.mode,re),re.ref=Sa(B,L,U),re.return=B,re)}function q(B,L,U,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=wh(U,B.mode,re),L.return=B,L):(L=f(L,U.children||[]),L.return=B,L)}function Z(B,L,U,re,ve){return L===null||L.tag!==7?(L=io(U,B.mode,re,ve),L.return=B,L):(L=f(L,U),L.return=B,L)}function ee(B,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=vh(""+L,B.mode,U),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ne:return U=bu(L.type,L.key,L.props,null,B.mode,U),U.ref=Sa(B,null,L),U.return=B,U;case Ae:return L=wh(L,B.mode,U),L.return=B,L;case Ie:var re=L._init;return ee(B,re(L._payload),U)}if(Er(L)||le(L))return L=io(L,B.mode,U,null),L.return=B,L;au(B,L)}return null}function J(B,L,U,re){var ve=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ve!==null?null:A(B,L,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ne:return U.key===ve?b(B,L,U,re):null;case Ae:return U.key===ve?q(B,L,U,re):null;case Ie:return ve=U._init,J(B,L,ve(U._payload),re)}if(Er(U)||le(U))return ve!==null?null:Z(B,L,U,re,null);au(B,U)}return null}function de(B,L,U,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return B=B.get(U)||null,A(L,B,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Ne:return B=B.get(re.key===null?U:re.key)||null,b(L,B,re,ve);case Ae:return B=B.get(re.key===null?U:re.key)||null,q(L,B,re,ve);case Ie:var _e=re._init;return de(B,L,U,_e(re._payload),ve)}if(Er(re)||le(re))return B=B.get(U)||null,Z(L,B,re,ve,null);au(L,re)}return null}function ge(B,L,U,re){for(var ve=null,_e=null,Ee=L,Pe=L=0,Rt=null;Ee!==null&&Pe<U.length;Pe++){Ee.index>Pe?(Rt=Ee,Ee=null):Rt=Ee.sibling;var $e=J(B,Ee,U[Pe],re);if($e===null){Ee===null&&(Ee=Rt);break}r&&Ee&&$e.alternate===null&&i(B,Ee),L=m($e,L,Pe),_e===null?ve=$e:_e.sibling=$e,_e=$e,Ee=Rt}if(Pe===U.length)return a(B,Ee),rt&&Yi(B,Pe),ve;if(Ee===null){for(;Pe<U.length;Pe++)Ee=ee(B,U[Pe],re),Ee!==null&&(L=m(Ee,L,Pe),_e===null?ve=Ee:_e.sibling=Ee,_e=Ee);return rt&&Yi(B,Pe),ve}for(Ee=c(B,Ee);Pe<U.length;Pe++)Rt=de(Ee,B,Pe,U[Pe],re),Rt!==null&&(r&&Rt.alternate!==null&&Ee.delete(Rt.key===null?Pe:Rt.key),L=m(Rt,L,Pe),_e===null?ve=Rt:_e.sibling=Rt,_e=Rt);return r&&Ee.forEach(function(hi){return i(B,hi)}),rt&&Yi(B,Pe),ve}function ye(B,L,U,re){var ve=le(U);if(typeof ve!="function")throw Error(t(150));if(U=ve.call(U),U==null)throw Error(t(151));for(var _e=ve=null,Ee=L,Pe=L=0,Rt=null,$e=U.next();Ee!==null&&!$e.done;Pe++,$e=U.next()){Ee.index>Pe?(Rt=Ee,Ee=null):Rt=Ee.sibling;var hi=J(B,Ee,$e.value,re);if(hi===null){Ee===null&&(Ee=Rt);break}r&&Ee&&hi.alternate===null&&i(B,Ee),L=m(hi,L,Pe),_e===null?ve=hi:_e.sibling=hi,_e=hi,Ee=Rt}if($e.done)return a(B,Ee),rt&&Yi(B,Pe),ve;if(Ee===null){for(;!$e.done;Pe++,$e=U.next())$e=ee(B,$e.value,re),$e!==null&&(L=m($e,L,Pe),_e===null?ve=$e:_e.sibling=$e,_e=$e);return rt&&Yi(B,Pe),ve}for(Ee=c(B,Ee);!$e.done;Pe++,$e=U.next())$e=de(Ee,B,Pe,$e.value,re),$e!==null&&(r&&$e.alternate!==null&&Ee.delete($e.key===null?Pe:$e.key),L=m($e,L,Pe),_e===null?ve=$e:_e.sibling=$e,_e=$e);return r&&Ee.forEach(function(o1){return i(B,o1)}),rt&&Yi(B,Pe),ve}function ct(B,L,U,re){if(typeof U=="object"&&U!==null&&U.type===O&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ne:e:{for(var ve=U.key,_e=L;_e!==null;){if(_e.key===ve){if(ve=U.type,ve===O){if(_e.tag===7){a(B,_e.sibling),L=f(_e,U.props.children),L.return=B,B=L;break e}}else if(_e.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ie&&rm(ve)===_e.type){a(B,_e.sibling),L=f(_e,U.props),L.ref=Sa(B,_e,U),L.return=B,B=L;break e}a(B,_e);break}else i(B,_e);_e=_e.sibling}U.type===O?(L=io(U.props.children,B.mode,re,U.key),L.return=B,B=L):(re=bu(U.type,U.key,U.props,null,B.mode,re),re.ref=Sa(B,L,U),re.return=B,B=re)}return w(B);case Ae:e:{for(_e=U.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){a(B,L.sibling),L=f(L,U.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else i(B,L);L=L.sibling}L=wh(U,B.mode,re),L.return=B,B=L}return w(B);case Ie:return _e=U._init,ct(B,L,_e(U._payload),re)}if(Er(U))return ge(B,L,U,re);if(le(U))return ye(B,L,U,re);au(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(a(B,L.sibling),L=f(L,U),L.return=B,B=L):(a(B,L),L=vh(U,B.mode,re),L.return=B,B=L),w(B)):a(B,L)}return ct}var is=im(!0),om=im(!1),lu=ti(null),uu=null,os=null,Rd=null;function xd(){Rd=os=uu=null}function kd(r){var i=lu.current;tt(lu),r._currentValue=i}function bd(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function ss(r,i){uu=r,Rd=os=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(rn=!0),r.firstContext=null)}function Dn(r){var i=r._currentValue;if(Rd!==r)if(r={context:r,memoizedValue:i,next:null},os===null){if(uu===null)throw Error(t(308));os=r,uu.dependencies={lanes:0,firstContext:r}}else os=os.next=r;return i}var Xi=null;function Nd(r){Xi===null?Xi=[r]:Xi.push(r)}function sm(r,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Nd(i)):(a.next=f.next,f.next=a),i.interleaved=a,Vr(r,c)}function Vr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ii=!1;function Dd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Or(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function oi(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,ze&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Vr(r,a)}return f=c.interleaved,f===null?(i.next=i,Nd(c)):(i.next=f.next,f.next=i),c.interleaved=i,Vr(r,a)}function cu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Qr(r,a)}}function lm(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function du(r,i,a,c){var f=r.updateQueue;ii=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var b=A,q=b.next;b.next=null,w===null?m=q:w.next=q,w=b;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==w&&(A===null?Z.firstBaseUpdate=q:A.next=q,Z.lastBaseUpdate=b))}if(m!==null){var ee=f.baseState;w=0,Z=q=b=null,A=m;do{var J=A.lane,de=A.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ge=r,ye=A;switch(J=i,de=a,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ee=ge.call(de,ee,J);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,J=typeof ge=="function"?ge.call(de,ee,J):ge,J==null)break e;ee=te({},ee,J);break e;case 2:ii=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[A]:J.push(A))}else de={eventTime:de,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(q=Z=de,b=ee):Z=Z.next=de,w|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(b=ee),f.baseState=b,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);eo|=w,r.lanes=w,r.memoizedState=ee}}function um(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Ia={},ur=ti(Ia),Aa=ti(Ia),Pa=ti(Ia);function Ji(r){if(r===Ia)throw Error(t(174));return r}function Vd(r,i){switch(Je(Pa,i),Je(Aa,r),Je(ur,Ia),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:wt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=wt(i,r)}tt(ur),Je(ur,i)}function as(){tt(ur),tt(Aa),tt(Pa)}function cm(r){Ji(Pa.current);var i=Ji(ur.current),a=wt(i,r.type);i!==a&&(Je(Aa,r),Je(ur,a))}function Od(r){Aa.current===r&&(tt(ur),tt(Aa))}var it=ti(0);function hu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ld=[];function Md(){for(var r=0;r<Ld.length;r++)Ld[r]._workInProgressVersionPrimary=null;Ld.length=0}var fu=fe.ReactCurrentDispatcher,Fd=fe.ReactCurrentBatchConfig,Zi=0,ot=null,Et=null,At=null,pu=!1,Ra=!1,xa=0,P_=0;function Ut(){throw Error(t(321))}function jd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Kn(r[a],i[a]))return!1;return!0}function Bd(r,i,a,c,f,m){if(Zi=m,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fu.current=r===null||r.memoizedState===null?b_:N_,r=a(c,f),Ra){m=0;do{if(Ra=!1,xa=0,25<=m)throw Error(t(301));m+=1,At=Et=null,i.updateQueue=null,fu.current=D_,r=a(c,f)}while(Ra)}if(fu.current=yu,i=Et!==null&&Et.next!==null,Zi=0,At=Et=ot=null,pu=!1,i)throw Error(t(300));return r}function Ud(){var r=xa!==0;return xa=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ot.memoizedState=At=r:At=At.next=r,At}function Vn(){if(Et===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var i=At===null?ot.memoizedState:At.next;if(i!==null)At=i,Et=r;else{if(r===null)throw Error(t(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?ot.memoizedState=At=r:At=At.next=r}return At}function ka(r,i){return typeof i=="function"?i(r):i}function zd(r){var i=Vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Et,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var A=w=null,b=null,q=m;do{var Z=q.lane;if((Zi&Z)===Z)b!==null&&(b=b.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:r(c,q.action);else{var ee={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};b===null?(A=b=ee,w=c):b=b.next=ee,ot.lanes|=Z,eo|=Z}q=q.next}while(q!==null&&q!==m);b===null?w=c:b.next=A,Kn(c,i.memoizedState)||(rn=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=b,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do m=f.lane,ot.lanes|=m,eo|=m,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function $d(r){var i=Vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=r(m,w.action),w=w.next;while(w!==f);Kn(m,i.memoizedState)||(rn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function dm(){}function hm(r,i){var a=ot,c=Vn(),f=i(),m=!Kn(c.memoizedState,f);if(m&&(c.memoizedState=f,rn=!0),c=c.queue,qd(mm.bind(null,a,c,r),[r]),c.getSnapshot!==i||m||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,ba(9,pm.bind(null,a,c,f,i),void 0,null),Pt===null)throw Error(t(349));Zi&30||fm(a,i,f)}return f}function fm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function pm(r,i,a,c){i.value=a,i.getSnapshot=c,gm(i)&&ym(r)}function mm(r,i,a){return a(function(){gm(i)&&ym(r)})}function gm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Kn(r,a)}catch{return!0}}function ym(r){var i=Vr(r,1);i!==null&&Jn(i,r,1,-1)}function vm(r){var i=cr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},i.queue=r,r=r.dispatch=k_.bind(null,ot,r),[i.memoizedState,r]}function ba(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function wm(){return Vn().memoizedState}function mu(r,i,a,c){var f=cr();ot.flags|=r,f.memoizedState=ba(1|i,a,void 0,c===void 0?null:c)}function gu(r,i,a,c){var f=Vn();c=c===void 0?null:c;var m=void 0;if(Et!==null){var w=Et.memoizedState;if(m=w.destroy,c!==null&&jd(c,w.deps)){f.memoizedState=ba(i,a,m,c);return}}ot.flags|=r,f.memoizedState=ba(1|i,a,m,c)}function _m(r,i){return mu(8390656,8,r,i)}function qd(r,i){return gu(2048,8,r,i)}function Em(r,i){return gu(4,2,r,i)}function Tm(r,i){return gu(4,4,r,i)}function Cm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Sm(r,i,a){return a=a!=null?a.concat([r]):null,gu(4,4,Cm.bind(null,i,r),a)}function Hd(){}function Im(r,i){var a=Vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&jd(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function Am(r,i){var a=Vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&jd(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Pm(r,i,a){return Zi&21?(Kn(a,i)||(a=zi(),ot.lanes|=a,eo|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function R_(r,i){var a=Oe;Oe=a!==0&&4>a?a:4,r(!0);var c=Fd.transition;Fd.transition={};try{r(!1),i()}finally{Oe=a,Fd.transition=c}}function Rm(){return Vn().memoizedState}function x_(r,i,a){var c=ui(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},xm(r))km(i,a);else if(a=sm(r,i,a,c),a!==null){var f=Yt();Jn(a,r,c,f),bm(a,i,c)}}function k_(r,i,a){var c=ui(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(xm(r))km(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,A=m(w,a);if(f.hasEagerState=!0,f.eagerState=A,Kn(A,w)){var b=i.interleaved;b===null?(f.next=f,Nd(i)):(f.next=b.next,b.next=f),i.interleaved=f;return}}catch{}finally{}a=sm(r,i,f,c),a!==null&&(f=Yt(),Jn(a,r,c,f),bm(a,i,c))}}function xm(r){var i=r.alternate;return r===ot||i!==null&&i===ot}function km(r,i){Ra=pu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function bm(r,i,a){if(a&4194240){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Qr(r,a)}}var yu={readContext:Dn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},b_={readContext:Dn,useCallback:function(r,i){return cr().memoizedState=[r,i===void 0?null:i],r},useContext:Dn,useEffect:_m,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,mu(4194308,4,Cm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return mu(4194308,4,r,i)},useInsertionEffect:function(r,i){return mu(4,2,r,i)},useMemo:function(r,i){var a=cr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=cr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=x_.bind(null,ot,r),[c.memoizedState,r]},useRef:function(r){var i=cr();return r={current:r},i.memoizedState=r},useState:vm,useDebugValue:Hd,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=vm(!1),i=r[0];return r=R_.bind(null,r[1]),cr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=ot,f=cr();if(rt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Pt===null)throw Error(t(349));Zi&30||fm(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,_m(mm.bind(null,c,m,r),[r]),c.flags|=2048,ba(9,pm.bind(null,c,m,a,i),void 0,null),a},useId:function(){var r=cr(),i=Pt.identifierPrefix;if(rt){var a=Dr,c=Nr;a=(c&~(1<<32-Kt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=xa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=P_++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},N_={readContext:Dn,useCallback:Im,useContext:Dn,useEffect:qd,useImperativeHandle:Sm,useInsertionEffect:Em,useLayoutEffect:Tm,useMemo:Am,useReducer:zd,useRef:wm,useState:function(){return zd(ka)},useDebugValue:Hd,useDeferredValue:function(r){var i=Vn();return Pm(i,Et.memoizedState,r)},useTransition:function(){var r=zd(ka)[0],i=Vn().memoizedState;return[r,i]},useMutableSource:dm,useSyncExternalStore:hm,useId:Rm,unstable_isNewReconciler:!1},D_={readContext:Dn,useCallback:Im,useContext:Dn,useEffect:qd,useImperativeHandle:Sm,useInsertionEffect:Em,useLayoutEffect:Tm,useMemo:Am,useReducer:$d,useRef:wm,useState:function(){return $d(ka)},useDebugValue:Hd,useDeferredValue:function(r){var i=Vn();return Et===null?i.memoizedState=r:Pm(i,Et.memoizedState,r)},useTransition:function(){var r=$d(ka)[0],i=Vn().memoizedState;return[r,i]},useMutableSource:dm,useSyncExternalStore:hm,useId:Rm,unstable_isNewReconciler:!1};function Gn(r,i){if(r&&r.defaultProps){i=te({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Wd(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:te({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var vu={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Yt(),f=ui(r),m=Or(c,f);m.payload=i,a!=null&&(m.callback=a),i=oi(r,m,f),i!==null&&(Jn(i,r,f,c),cu(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Yt(),f=ui(r),m=Or(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=oi(r,m,f),i!==null&&(Jn(i,r,f,c),cu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Yt(),c=ui(r),f=Or(a,c);f.tag=2,i!=null&&(f.callback=i),i=oi(r,f,c),i!==null&&(Jn(i,r,c,a),cu(i,r,c))}};function Nm(r,i,a,c,f,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,w):i.prototype&&i.prototype.isPureReactComponent?!ya(a,c)||!ya(f,m):!0}function Dm(r,i,a){var c=!1,f=ni,m=i.contextType;return typeof m=="object"&&m!==null?m=Dn(m):(f=nn(i)?Qi:Bt.current,c=i.contextTypes,m=(c=c!=null)?es(r,f):ni),i=new i(a,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vu,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),i}function Vm(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&vu.enqueueReplaceState(i,i.state,null)}function Kd(r,i,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Dd(r);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Dn(m):(m=nn(i)?Qi:Bt.current,f.context=es(r,m)),f.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Wd(r,i,m,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&vu.enqueueReplaceState(f,f.state,null),du(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ls(r,i){try{var a="",c=i;do a+=ke(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:f,digest:null}}function Qd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Gd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Om(r,i,a){a=Or(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Iu||(Iu=!0,ch=c),Gd(r,i)},a}function Lm(r,i,a){a=Or(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Gd(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Gd(r,i),typeof c!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function Mm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new V_;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),r=Q_.bind(null,r,i,a),i.then(r,r))}function Fm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function jm(r,i,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Or(-1,1),i.tag=2,oi(a,i,1))),a.lanes|=1),r)}var O_=fe.ReactCurrentOwner,rn=!1;function Gt(r,i,a,c){i.child=r===null?om(i,null,a,c):is(i,r.child,a,c)}function Bm(r,i,a,c,f){a=a.render;var m=i.ref;return ss(i,f),c=Bd(r,i,a,c,m,f),a=Ud(),r!==null&&!rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Lr(r,i,f)):(rt&&a&&Cd(i),i.flags|=1,Gt(r,i,c,f),i.child)}function Um(r,i,a,c,f){if(r===null){var m=a.type;return typeof m=="function"&&!yh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,zm(r,i,m,c,f)):(r=bu(a.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!(r.lanes&f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(w,c)&&r.ref===i.ref)return Lr(r,i,f)}return i.flags|=1,r=di(m,c),r.ref=i.ref,r.return=i,i.child=r}function zm(r,i,a,c,f){if(r!==null){var m=r.memoizedProps;if(ya(m,c)&&r.ref===i.ref)if(rn=!1,i.pendingProps=c=m,(r.lanes&f)!==0)r.flags&131072&&(rn=!0);else return i.lanes=r.lanes,Lr(r,i,f)}return Yd(r,i,a,c,f)}function $m(r,i,a){var c=i.pendingProps,f=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(cs,_n),_n|=a;else{if(!(a&1073741824))return r=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Je(cs,_n),_n|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Je(cs,_n),_n|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Je(cs,_n),_n|=c;return Gt(r,i,f,a),i.child}function qm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Yd(r,i,a,c,f){var m=nn(a)?Qi:Bt.current;return m=es(i,m),ss(i,f),a=Bd(r,i,a,c,m,f),c=Ud(),r!==null&&!rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Lr(r,i,f)):(rt&&c&&Cd(i),i.flags|=1,Gt(r,i,a,f),i.child)}function Hm(r,i,a,c,f){if(nn(a)){var m=!0;nu(i)}else m=!1;if(ss(i,f),i.stateNode===null)_u(r,i),Dm(i,a,c),Kd(i,a,c,f),c=!0;else if(r===null){var w=i.stateNode,A=i.memoizedProps;w.props=A;var b=w.context,q=a.contextType;typeof q=="object"&&q!==null?q=Dn(q):(q=nn(a)?Qi:Bt.current,q=es(i,q));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==c||b!==q)&&Vm(i,w,c,q),ii=!1;var J=i.memoizedState;w.state=J,du(i,c,w,f),b=i.memoizedState,A!==c||J!==b||tn.current||ii?(typeof Z=="function"&&(Wd(i,a,Z,c),b=i.memoizedState),(A=ii||Nm(i,a,A,c,J,b,q))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=b),w.props=c,w.state=b,w.context=q,c=A):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,am(r,i),A=i.memoizedProps,q=i.type===i.elementType?A:Gn(i.type,A),w.props=q,ee=i.pendingProps,J=w.context,b=a.contextType,typeof b=="object"&&b!==null?b=Dn(b):(b=nn(a)?Qi:Bt.current,b=es(i,b));var de=a.getDerivedStateFromProps;(Z=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==ee||J!==b)&&Vm(i,w,c,b),ii=!1,J=i.memoizedState,w.state=J,du(i,c,w,f);var ge=i.memoizedState;A!==ee||J!==ge||tn.current||ii?(typeof de=="function"&&(Wd(i,a,de,c),ge=i.memoizedState),(q=ii||Nm(i,a,q,c,J,ge,b)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ge,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ge,b)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ge),w.props=c,w.state=ge,w.context=b,c=q):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),c=!1)}return Xd(r,i,a,c,m,f)}function Xd(r,i,a,c,f,m){qm(r,i);var w=(i.flags&128)!==0;if(!c&&!w)return f&&Yp(i,a,!1),Lr(r,i,m);c=i.stateNode,O_.current=i;var A=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&w?(i.child=is(i,r.child,null,m),i.child=is(i,null,A,m)):Gt(r,i,A,m),i.memoizedState=c.state,f&&Yp(i,a,!0),i.child}function Wm(r){var i=r.stateNode;i.pendingContext?Qp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Qp(r,i.context,!1),Vd(r,i.containerInfo)}function Km(r,i,a,c,f){return rs(),Pd(f),i.flags|=256,Gt(r,i,a,c),i.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qm(r,i,a){var c=i.pendingProps,f=it.current,m=!1,w=(i.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Je(it,f&1),r===null)return Ad(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(w=c.children,r=c.fallback,m?(c=i.mode,m=i.child,w={mode:"hidden",children:w},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Nu(w,c,0,null),r=io(r,c,a,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Zd(a),i.memoizedState=Jd,r):eh(i,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return L_(r,i,w,c,A,f,a);if(m){m=c.fallback,w=i.mode,f=r.child,A=f.sibling;var b={mode:"hidden",children:c.children};return!(w&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=b,i.deletions=null):(c=di(f,b),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=di(A,m):(m=io(m,w,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,w=r.child.memoizedState,w=w===null?Zd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~a,i.memoizedState=Jd,c}return m=r.child,r=m.sibling,c=di(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function eh(r,i){return i=Nu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function wu(r,i,a,c){return c!==null&&Pd(c),is(i,r.child,null,a),r=eh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function L_(r,i,a,c,f,m,w){if(a)return i.flags&256?(i.flags&=-257,c=Qd(Error(t(422))),wu(r,i,w,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Nu({mode:"visible",children:c.children},f,0,null),m=io(m,f,w,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&is(i,r.child,null,w),i.child.memoizedState=Zd(w),i.memoizedState=Jd,m);if(!(i.mode&1))return wu(r,i,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(t(419)),c=Qd(m,c,void 0),wu(r,i,w,c)}if(A=(w&r.childLanes)!==0,rn||A){if(c=Pt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|w)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Vr(r,f),Jn(c,r,f,-1))}return gh(),c=Qd(Error(t(421))),wu(r,i,w,c)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=G_.bind(null,r),f._reactRetry=i,null):(r=m.treeContext,wn=ei(f.nextSibling),vn=i,rt=!0,Qn=null,r!==null&&(bn[Nn++]=Nr,bn[Nn++]=Dr,bn[Nn++]=Gi,Nr=r.id,Dr=r.overflow,Gi=i),i=eh(i,c.children),i.flags|=4096,i)}function Gm(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),bd(r.return,i,a)}function th(r,i,a,c,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Ym(r,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Gt(r,i,c.children,a),c=it.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gm(r,a,i);else if(r.tag===19)Gm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Je(it,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&hu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),th(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&hu(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}th(i,!0,a,null,m);break;case"together":th(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _u(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Lr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),eo|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=di(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=di(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function M_(r,i,a){switch(i.tag){case 3:Wm(i),rs();break;case 5:cm(i);break;case 1:nn(i.type)&&nu(i);break;case 4:Vd(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Je(lu,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Je(it,it.current&1),i.flags|=128,null):a&i.child.childLanes?Qm(r,i,a):(Je(it,it.current&1),r=Lr(r,i,a),r!==null?r.sibling:null);Je(it,it.current&1);break;case 19:if(c=(a&i.childLanes)!==0,r.flags&128){if(c)return Ym(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(it,it.current),c)break;return null;case 22:case 23:return i.lanes=0,$m(r,i,a)}return Lr(r,i,a)}var Xm,nh,Jm,Zm;Xm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nh=function(){},Jm=function(r,i,a,c){var f=r.memoizedProps;if(f!==c){r=i.stateNode,Ji(ur.current);var m=null;switch(a){case"input":f=bi(r,f),c=bi(r,c),m=[];break;case"select":f=te({},f,{value:void 0}),c=te({},c,{value:void 0}),m=[];break;case"textarea":f=Ws(r,f),c=Ws(r,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Zl)}Js(a,c);var w;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?m||(m=[]):(m=m||[]).push(q,null));for(q in c){var b=c[q];if(A=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&b!==A&&(b!=null||A!=null))if(q==="style")if(A){for(w in A)!A.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in b)b.hasOwnProperty(w)&&A[w]!==b[w]&&(a||(a={}),a[w]=b[w])}else a||(m||(m=[]),m.push(q,a)),a=b;else q==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,A=A?A.__html:void 0,b!=null&&A!==b&&(m=m||[]).push(q,b)):q==="children"?typeof b!="string"&&typeof b!="number"||(m=m||[]).push(q,""+b):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(b!=null&&q==="onScroll"&&et("scroll",r),m||A===b||(m=[])):(m=m||[]).push(q,b))}a&&(m=m||[]).push("style",a);var q=m;(i.updateQueue=q)&&(i.flags|=4)}},Zm=function(r,i,a,c){a!==c&&(i.flags|=4)};function Na(r,i){if(!rt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function F_(r,i,a){var c=i.pendingProps;switch(Sd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return nn(i.type)&&tu(),zt(i),null;case 3:return c=i.stateNode,as(),tt(tn),tt(Bt),Md(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(su(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Qn!==null&&(fh(Qn),Qn=null))),nh(r,i),zt(i),null;case 5:Od(i);var f=Ji(Pa.current);if(a=i.type,r!==null&&i.stateNode!=null)Jm(r,i,a,c,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return zt(i),null}if(r=Ji(ur.current),su(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[lr]=i,c[Ta]=m,r=(i.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(f=0;f<wa.length;f++)et(wa[f],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":To(c,m),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},et("invalid",c);break;case"textarea":So(c,m),et("invalid",c)}Js(a,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var A=m[w];w==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&Jl(c.textContent,A,r),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&Jl(c.textContent,A,r),f=["children",""+A]):s.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&et("scroll",c)}switch(a){case"input":_r(c),Sl(c,m,!0);break;case"textarea":_r(c),Ks(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Zl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[lr]=i,r[Ta]=c,Xm(r,i,!1,!1),i.stateNode=r;e:{switch(w=Zs(a,c),a){case"dialog":et("cancel",r),et("close",r),f=c;break;case"iframe":case"object":case"embed":et("load",r),f=c;break;case"video":case"audio":for(f=0;f<wa.length;f++)et(wa[f],r);f=c;break;case"source":et("error",r),f=c;break;case"img":case"image":case"link":et("error",r),et("load",r),f=c;break;case"details":et("toggle",r),f=c;break;case"input":To(r,c),f=bi(r,c),et("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=te({},c,{value:void 0}),et("invalid",r);break;case"textarea":So(r,c),f=Ws(r,c),et("invalid",r);break;default:f=c}Js(a,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var b=A[m];m==="style"?Ys(r,b):m==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Qs(r,b)):m==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&$r(r,b):typeof b=="number"&&$r(r,""+b):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?b!=null&&m==="onScroll"&&et("scroll",r):b!=null&&ue(r,m,b,w))}switch(a){case"input":_r(r),Sl(r,c,!1);break;case"textarea":_r(r),Ks(r);break;case"option":c.value!=null&&r.setAttribute("value",""+He(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?Tr(r,!!c.multiple,m,!1):c.defaultValue!=null&&Tr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Zl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return zt(i),null;case 6:if(r&&i.stateNode!=null)Zm(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ji(Pa.current),Ji(ur.current),su(i)){if(c=i.stateNode,a=i.memoizedProps,c[lr]=i,(m=c.nodeValue!==a)&&(r=vn,r!==null))switch(r.tag){case 3:Jl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Jl(c.nodeValue,a,(r.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[lr]=i,i.stateNode=c}return zt(i),null;case 13:if(tt(it),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&wn!==null&&i.mode&1&&!(i.flags&128))nm(),rs(),i.flags|=98560,m=!1;else if(m=su(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[lr]=i}else rs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;zt(i),m=!1}else Qn!==null&&(fh(Qn),Qn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||it.current&1?Tt===0&&(Tt=3):gh())),i.updateQueue!==null&&(i.flags|=4),zt(i),null);case 4:return as(),nh(r,i),r===null&&_a(i.stateNode.containerInfo),zt(i),null;case 10:return kd(i.type._context),zt(i),null;case 17:return nn(i.type)&&tu(),zt(i),null;case 19:if(tt(it),m=i.memoizedState,m===null)return zt(i),null;if(c=(i.flags&128)!==0,w=m.rendering,w===null)if(c)Na(m,!1);else{if(Tt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(w=hu(r),w!==null){for(i.flags|=128,Na(m,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,r=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Je(it,it.current&1|2),i.child}r=r.sibling}m.tail!==null&&Xe()>ds&&(i.flags|=128,c=!0,Na(m,!1),i.lanes=4194304)}else{if(!c)if(r=hu(w),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!rt)return zt(i),null}else 2*Xe()-m.renderingStartTime>ds&&a!==1073741824&&(i.flags|=128,c=!0,Na(m,!1),i.lanes=4194304);m.isBackwards?(w.sibling=i.child,i.child=w):(a=m.last,a!==null?a.sibling=w:i.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Xe(),i.sibling=null,a=it.current,Je(it,c?a&1|2:a&1),i):(zt(i),null);case 22:case 23:return mh(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?_n&1073741824&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function j_(r,i){switch(Sd(i),i.tag){case 1:return nn(i.type)&&tu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return as(),tt(tn),tt(Bt),Md(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Od(i),null;case 13:if(tt(it),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));rs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return tt(it),null;case 4:return as(),null;case 10:return kd(i.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Eu=!1,$t=!1,B_=typeof WeakSet=="function"?WeakSet:Set,pe=null;function us(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){at(r,i,c)}else a.current=null}function rh(r,i,a){try{a()}catch(c){at(r,i,c)}}var eg=!1;function U_(r,i){if(md=Xr,r=Np(),ad(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,A=-1,b=-1,q=0,Z=0,ee=r,J=null;t:for(;;){for(var de;ee!==a||f!==0&&ee.nodeType!==3||(A=w+f),ee!==m||c!==0&&ee.nodeType!==3||(b=w+c),ee.nodeType===3&&(w+=ee.nodeValue.length),(de=ee.firstChild)!==null;)J=ee,ee=de;for(;;){if(ee===r)break t;if(J===a&&++q===f&&(A=w),J===m&&++Z===c&&(b=w),(de=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=de}a=A===-1||b===-1?null:{start:A,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:r,selectionRange:a},Xr=!1,pe=i;pe!==null;)if(i=pe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,pe=r;else for(;pe!==null;){i=pe;try{var ge=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,ct=ge.memoizedState,B=i.stateNode,L=B.getSnapshotBeforeUpdate(i.elementType===i.type?ye:Gn(i.type,ye),ct);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){at(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,pe=r;break}pe=i.return}return ge=eg,eg=!1,ge}function Da(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&rh(i,a,m)}f=f.next}while(f!==c)}}function Tu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ih(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function tg(r){var i=r.alternate;i!==null&&(r.alternate=null,tg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[lr],delete i[Ta],delete i[_d],delete i[C_],delete i[S_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ng(r){return r.tag===5||r.tag===3||r.tag===4}function rg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ng(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zl));else if(c!==4&&(r=r.child,r!==null))for(oh(r,i,a),r=r.sibling;r!==null;)oh(r,i,a),r=r.sibling}function sh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(sh(r,i,a),r=r.sibling;r!==null;)sh(r,i,a),r=r.sibling}var Ot=null,Yn=!1;function si(r,i,a){for(a=a.child;a!==null;)ig(r,i,a),a=a.sibling}function ig(r,i,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 5:$t||us(a,i);case 6:var c=Ot,f=Yn;Ot=null,si(r,i,a),Ot=c,Yn=f,Ot!==null&&(Yn?(r=Ot,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ot.removeChild(a.stateNode));break;case 18:Ot!==null&&(Yn?(r=Ot,a=a.stateNode,r.nodeType===8?wd(r.parentNode,a):r.nodeType===1&&wd(r,a),Hn(r)):wd(Ot,a.stateNode));break;case 4:c=Ot,f=Yn,Ot=a.stateNode.containerInfo,Yn=!0,si(r,i,a),Ot=c,Yn=f;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&(m&2||m&4)&&rh(a,i,w),f=f.next}while(f!==c)}si(r,i,a);break;case 1:if(!$t&&(us(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){at(a,i,A)}si(r,i,a);break;case 21:si(r,i,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,si(r,i,a),$t=c):si(r,i,a);break;default:si(r,i,a)}}function og(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new B_),i.forEach(function(c){var f=Y_.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Xn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=r,w=i,A=w;e:for(;A!==null;){switch(A.tag){case 5:Ot=A.stateNode,Yn=!1;break e;case 3:Ot=A.stateNode.containerInfo,Yn=!0;break e;case 4:Ot=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Ot===null)throw Error(t(160));ig(m,w,f),Ot=null,Yn=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(q){at(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)sg(i,r),i=i.sibling}function sg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(i,r),dr(r),c&4){try{Da(3,r,r.return),Tu(3,r)}catch(ye){at(r,r.return,ye)}try{Da(5,r,r.return)}catch(ye){at(r,r.return,ye)}}break;case 1:Xn(i,r),dr(r),c&512&&a!==null&&us(a,a.return);break;case 5:if(Xn(i,r),dr(r),c&512&&a!==null&&us(a,a.return),r.flags&32){var f=r.stateNode;try{$r(f,"")}catch(ye){at(r,r.return,ye)}}if(c&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,w=a!==null?a.memoizedProps:m,A=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&qs(f,m),Zs(A,w);var q=Zs(A,m);for(w=0;w<b.length;w+=2){var Z=b[w],ee=b[w+1];Z==="style"?Ys(f,ee):Z==="dangerouslySetInnerHTML"?Qs(f,ee):Z==="children"?$r(f,ee):ue(f,Z,ee,q)}switch(A){case"input":Hs(f,m);break;case"textarea":Io(f,m);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Tr(f,!!m.multiple,de,!1):J!==!!m.multiple&&(m.defaultValue!=null?Tr(f,!!m.multiple,m.defaultValue,!0):Tr(f,!!m.multiple,m.multiple?[]:"",!1))}f[Ta]=m}catch(ye){at(r,r.return,ye)}}break;case 6:if(Xn(i,r),dr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(ye){at(r,r.return,ye)}}break;case 3:if(Xn(i,r),dr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Hn(i.containerInfo)}catch(ye){at(r,r.return,ye)}break;case 4:Xn(i,r),dr(r);break;case 13:Xn(i,r),dr(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(uh=Xe())),c&4&&og(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?($t=(q=$t)||Z,Xn(i,r),$t=q):Xn(i,r),dr(r),c&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&r.mode&1)for(pe=r,Z=r.child;Z!==null;){for(ee=pe=Z;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:Da(4,J,J.return);break;case 1:us(J,J.return);var ge=J.stateNode;if(typeof ge.componentWillUnmount=="function"){c=J,a=J.return;try{i=c,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(ye){at(c,a,ye)}}break;case 5:us(J,J.return);break;case 22:if(J.memoizedState!==null){ug(ee);continue}}de!==null?(de.return=J,pe=de):ug(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,q?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=ee.stateNode,b=ee.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,A.style.display=Gs("display",w))}catch(ye){at(r,r.return,ye)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(ye){at(r,r.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Xn(i,r),dr(r),c&4&&og(r);break;case 21:break;default:Xn(i,r),dr(r)}}function dr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(ng(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&($r(f,""),c.flags&=-33);var m=rg(r);sh(r,m,f);break;case 3:case 4:var w=c.stateNode.containerInfo,A=rg(r);oh(r,A,w);break;default:throw Error(t(161))}}catch(b){at(r,r.return,b)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function z_(r,i,a){pe=r,ag(r)}function ag(r,i,a){for(var c=(r.mode&1)!==0;pe!==null;){var f=pe,m=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Eu;if(!w){var A=f.alternate,b=A!==null&&A.memoizedState!==null||$t;A=Eu;var q=$t;if(Eu=w,($t=b)&&!q)for(pe=f;pe!==null;)w=pe,b=w.child,w.tag===22&&w.memoizedState!==null?cg(f):b!==null?(b.return=w,pe=b):cg(f);for(;m!==null;)pe=m,ag(m),m=m.sibling;pe=f,Eu=A,$t=q}lg(r)}else f.subtreeFlags&8772&&m!==null?(m.return=f,pe=m):lg(r)}}function lg(r){for(;pe!==null;){var i=pe;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:$t||Tu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!$t)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Gn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&um(i,m,c);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}um(i,w,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var b=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&Hn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||i.flags&512&&ih(i)}catch(J){at(i,i.return,J)}}if(i===r){pe=null;break}if(a=i.sibling,a!==null){a.return=i.return,pe=a;break}pe=i.return}}function ug(r){for(;pe!==null;){var i=pe;if(i===r){pe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,pe=a;break}pe=i.return}}function cg(r){for(;pe!==null;){var i=pe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Tu(4,i)}catch(b){at(i,a,b)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(b){at(i,f,b)}}var m=i.return;try{ih(i)}catch(b){at(i,m,b)}break;case 5:var w=i.return;try{ih(i)}catch(b){at(i,w,b)}}}catch(b){at(i,i.return,b)}if(i===r){pe=null;break}var A=i.sibling;if(A!==null){A.return=i.return,pe=A;break}pe=i.return}}var $_=Math.ceil,Cu=fe.ReactCurrentDispatcher,ah=fe.ReactCurrentOwner,On=fe.ReactCurrentBatchConfig,ze=0,Pt=null,mt=null,Lt=0,_n=0,cs=ti(0),Tt=0,Va=null,eo=0,Su=0,lh=0,Oa=null,on=null,uh=0,ds=1/0,Mr=null,Iu=!1,ch=null,ai=null,Au=!1,li=null,Pu=0,La=0,dh=null,Ru=-1,xu=0;function Yt(){return ze&6?Xe():Ru!==-1?Ru:Ru=Xe()}function ui(r){return r.mode&1?ze&2&&Lt!==0?Lt&-Lt:A_.transition!==null?(xu===0&&(xu=zi()),xu):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:ca(r.type)),r):1}function Jn(r,i,a,c){if(50<La)throw La=0,dh=null,Error(t(185));Kr(r,a,c),(!(ze&2)||r!==Pt)&&(r===Pt&&(!(ze&2)&&(Su|=a),Tt===4&&ci(r,Lt)),sn(r,c),a===1&&ze===0&&!(i.mode&1)&&(ds=Xe()+500,ru&&ri()))}function sn(r,i){var a=r.callbackNode;Ir(r,i);var c=Ui(r,r===Pt?Lt:0);if(c===0)a!==null&&oa(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&oa(a),i===1)r.tag===0?I_(hg.bind(null,r)):Xp(hg.bind(null,r)),E_(function(){!(ze&6)&&ri()}),a=null;else{switch(Gr(c)){case 1:a=ji;break;case 4:a=qr;break;case 16:a=Rn;break;case 536870912:a=xl;break;default:a=Rn}a=_g(a,dg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function dg(r,i){if(Ru=-1,xu=0,ze&6)throw Error(t(327));var a=r.callbackNode;if(hs()&&r.callbackNode!==a)return null;var c=Ui(r,r===Pt?Lt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=ku(r,c);else{i=c;var f=ze;ze|=2;var m=pg();(Pt!==r||Lt!==i)&&(Mr=null,ds=Xe()+500,no(r,i));do try{W_();break}catch(A){fg(r,A)}while(!0);xd(),Cu.current=m,ze=f,mt!==null?i=0:(Pt=null,Lt=0,i=Tt)}if(i!==0){if(i===2&&(f=mn(r),f!==0&&(c=f,i=hh(r,f))),i===1)throw a=Va,no(r,0),ci(r,c),sn(r,Xe()),a;if(i===6)ci(r,c);else{if(f=r.current.alternate,!(c&30)&&!q_(f)&&(i=ku(r,c),i===2&&(m=mn(r),m!==0&&(c=m,i=hh(r,m))),i===1))throw a=Va,no(r,0),ci(r,c),sn(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:ro(r,on,Mr);break;case 3:if(ci(r,c),(c&130023424)===c&&(i=uh+500-Xe(),10<i)){if(Ui(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Yt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=vd(ro.bind(null,r,on,Mr),i);break}ro(r,on,Mr);break;case 4:if(ci(r,c),(c&4194240)===c)break;for(i=r.eventTimes,f=-1;0<c;){var w=31-Kt(c);m=1<<w,w=i[w],w>f&&(f=w),c&=~m}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*$_(c/1960))-c,10<c){r.timeoutHandle=vd(ro.bind(null,r,on,Mr),c);break}ro(r,on,Mr);break;case 5:ro(r,on,Mr);break;default:throw Error(t(329))}}}return sn(r,Xe()),r.callbackNode===a?dg.bind(null,r):null}function hh(r,i){var a=Oa;return r.current.memoizedState.isDehydrated&&(no(r,i).flags|=256),r=ku(r,i),r!==2&&(i=on,on=a,i!==null&&fh(i)),r}function fh(r){on===null?on=r:on.push.apply(on,r)}function q_(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Kn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(r,i){for(i&=~lh,i&=~Su,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Kt(i),c=1<<a;r[a]=-1,i&=~c}}function hg(r){if(ze&6)throw Error(t(327));hs();var i=Ui(r,0);if(!(i&1))return sn(r,Xe()),null;var a=ku(r,i);if(r.tag!==0&&a===2){var c=mn(r);c!==0&&(i=c,a=hh(r,c))}if(a===1)throw a=Va,no(r,0),ci(r,i),sn(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ro(r,on,Mr),sn(r,Xe()),null}function ph(r,i){var a=ze;ze|=1;try{return r(i)}finally{ze=a,ze===0&&(ds=Xe()+500,ru&&ri())}}function to(r){li!==null&&li.tag===0&&!(ze&6)&&hs();var i=ze;ze|=1;var a=On.transition,c=Oe;try{if(On.transition=null,Oe=1,r)return r()}finally{Oe=c,On.transition=a,ze=i,!(ze&6)&&ri()}}function mh(){_n=cs.current,tt(cs)}function no(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,__(a)),mt!==null)for(a=mt.return;a!==null;){var c=a;switch(Sd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&tu();break;case 3:as(),tt(tn),tt(Bt),Md();break;case 5:Od(c);break;case 4:as();break;case 13:tt(it);break;case 19:tt(it);break;case 10:kd(c.type._context);break;case 22:case 23:mh()}a=a.return}if(Pt=r,mt=r=di(r.current,null),Lt=_n=i,Tt=0,Va=null,lh=Su=eo=0,on=Oa=null,Xi!==null){for(i=0;i<Xi.length;i++)if(a=Xi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var w=m.next;m.next=f,c.next=w}a.pending=c}Xi=null}return r}function fg(r,i){do{var a=mt;try{if(xd(),fu.current=yu,pu){for(var c=ot.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}pu=!1}if(Zi=0,At=Et=ot=null,Ra=!1,xa=0,ah.current=null,a===null||a.return===null){Tt=1,Va=i,mt=null;break}e:{var m=r,w=a.return,A=a,b=i;if(i=Lt,A.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=b,Z=A,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=Fm(w);if(de!==null){de.flags&=-257,jm(de,w,A,m,i),de.mode&1&&Mm(m,q,i),i=de,b=q;var ge=i.updateQueue;if(ge===null){var ye=new Set;ye.add(b),i.updateQueue=ye}else ge.add(b);break e}else{if(!(i&1)){Mm(m,q,i),gh();break e}b=Error(t(426))}}else if(rt&&A.mode&1){var ct=Fm(w);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),jm(ct,w,A,m,i),Pd(ls(b,A));break e}}m=b=ls(b,A),Tt!==4&&(Tt=2),Oa===null?Oa=[m]:Oa.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var B=Om(m,b,i);lm(m,B);break e;case 1:A=b;var L=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ai===null||!ai.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var re=Lm(m,A,i);lm(m,re);break e}}m=m.return}while(m!==null)}gg(a)}catch(ve){i=ve,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function pg(){var r=Cu.current;return Cu.current=yu,r===null?yu:r}function gh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Pt===null||!(eo&268435455)&&!(Su&268435455)||ci(Pt,Lt)}function ku(r,i){var a=ze;ze|=2;var c=pg();(Pt!==r||Lt!==i)&&(Mr=null,no(r,i));do try{H_();break}catch(f){fg(r,f)}while(!0);if(xd(),ze=a,Cu.current=c,mt!==null)throw Error(t(261));return Pt=null,Lt=0,Tt}function H_(){for(;mt!==null;)mg(mt)}function W_(){for(;mt!==null&&!Pl();)mg(mt)}function mg(r){var i=wg(r.alternate,r,_n);r.memoizedProps=r.pendingProps,i===null?gg(r):mt=i,ah.current=null}function gg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=j_(a,i),a!==null){a.flags&=32767,mt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,mt=null;return}}else if(a=F_(a,i,_n),a!==null){mt=a;return}if(i=i.sibling,i!==null){mt=i;return}mt=i=r}while(i!==null);Tt===0&&(Tt=5)}function ro(r,i,a){var c=Oe,f=On.transition;try{On.transition=null,Oe=1,K_(r,i,a,c)}finally{On.transition=f,Oe=c}return null}function K_(r,i,a,c){do hs();while(li!==null);if(ze&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(Qe(r,m),r===Pt&&(mt=Pt=null,Lt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Au||(Au=!0,_g(Rn,function(){return hs(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=On.transition,On.transition=null;var w=Oe;Oe=1;var A=ze;ze|=4,ah.current=null,U_(r,a),sg(a,r),f_(gd),Xr=!!md,gd=md=null,r.current=a,z_(a),Zc(),ze=A,Oe=w,On.transition=m}else r.current=a;if(Au&&(Au=!1,li=r,Pu=f),m=r.pendingLanes,m===0&&(ai=null),kl(a.stateNode),sn(r,Xe()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Iu)throw Iu=!1,r=ch,ch=null,r;return Pu&1&&r.tag!==0&&hs(),m=r.pendingLanes,m&1?r===dh?La++:(La=0,dh=r):La=0,ri(),null}function hs(){if(li!==null){var r=Gr(Pu),i=On.transition,a=Oe;try{if(On.transition=null,Oe=16>r?16:r,li===null)var c=!1;else{if(r=li,li=null,Pu=0,ze&6)throw Error(t(331));var f=ze;for(ze|=4,pe=r.current;pe!==null;){var m=pe,w=m.child;if(pe.flags&16){var A=m.deletions;if(A!==null){for(var b=0;b<A.length;b++){var q=A[b];for(pe=q;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:Da(8,Z,m)}var ee=Z.child;if(ee!==null)ee.return=Z,pe=ee;else for(;pe!==null;){Z=pe;var J=Z.sibling,de=Z.return;if(tg(Z),Z===q){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var ge=m.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var ct=ye.sibling;ye.sibling=null,ye=ct}while(ye!==null)}}pe=m}}if(m.subtreeFlags&2064&&w!==null)w.return=m,pe=w;else e:for(;pe!==null;){if(m=pe,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Da(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,pe=B;break e}pe=m.return}}var L=r.current;for(pe=L;pe!==null;){w=pe;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,pe=U;else e:for(w=L;pe!==null;){if(A=pe,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Tu(9,A)}}catch(ve){at(A,A.return,ve)}if(A===w){pe=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,pe=re;break e}pe=A.return}}if(ze=f,ri(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Bi,r)}catch{}c=!0}return c}finally{Oe=a,On.transition=i}}return!1}function yg(r,i,a){i=ls(a,i),i=Om(r,i,1),r=oi(r,i,1),i=Yt(),r!==null&&(Kr(r,1,i),sn(r,i))}function at(r,i,a){if(r.tag===3)yg(r,r,a);else for(;i!==null;){if(i.tag===3){yg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ai===null||!ai.has(c))){r=ls(a,r),r=Lm(i,r,1),i=oi(i,r,1),r=Yt(),i!==null&&(Kr(i,1,r),sn(i,r));break}}i=i.return}}function Q_(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Yt(),r.pingedLanes|=r.suspendedLanes&a,Pt===r&&(Lt&a)===a&&(Tt===4||Tt===3&&(Lt&130023424)===Lt&&500>Xe()-uh?no(r,0):lh|=a),sn(r,i)}function vg(r,i){i===0&&(r.mode&1?(i=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):i=1);var a=Yt();r=Vr(r,i),r!==null&&(Kr(r,i,a),sn(r,a))}function G_(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),vg(r,a)}function Y_(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),vg(r,a)}var wg;wg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return rn=!1,M_(r,i,a);rn=!!(r.flags&131072)}else rn=!1,rt&&i.flags&1048576&&Jp(i,ou,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;_u(r,i),r=i.pendingProps;var f=es(i,Bt.current);ss(i,a),f=Bd(null,i,c,r,f,a);var m=Ud();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,nn(c)?(m=!0,nu(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Dd(i),f.updater=vu,i.stateNode=f,f._reactInternals=i,Kd(i,c,r,a),i=Xd(null,i,c,!0,m,a)):(i.tag=0,rt&&m&&Cd(i),Gt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(_u(r,i),r=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=J_(c),r=Gn(c,r),f){case 0:i=Yd(null,i,c,r,a);break e;case 1:i=Hm(null,i,c,r,a);break e;case 11:i=Bm(null,i,c,r,a);break e;case 14:i=Um(null,i,c,Gn(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Gn(c,f),Yd(r,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Gn(c,f),Hm(r,i,c,f,a);case 3:e:{if(Wm(i),r===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,am(r,i),du(i,c,null,a);var w=i.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=ls(Error(t(423)),i),i=Km(r,i,c,a,f);break e}else if(c!==f){f=ls(Error(t(424)),i),i=Km(r,i,c,a,f);break e}else for(wn=ei(i.stateNode.containerInfo.firstChild),vn=i,rt=!0,Qn=null,a=om(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rs(),c===f){i=Lr(r,i,a);break e}Gt(r,i,c,a)}i=i.child}return i;case 5:return cm(i),r===null&&Ad(i),c=i.type,f=i.pendingProps,m=r!==null?r.memoizedProps:null,w=f.children,yd(c,f)?w=null:m!==null&&yd(c,m)&&(i.flags|=32),qm(r,i),Gt(r,i,w,a),i.child;case 6:return r===null&&Ad(i),null;case 13:return Qm(r,i,a);case 4:return Vd(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=is(i,null,c,a):Gt(r,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Gn(c,f),Bm(r,i,c,f,a);case 7:return Gt(r,i,i.pendingProps,a),i.child;case 8:return Gt(r,i,i.pendingProps.children,a),i.child;case 12:return Gt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,w=f.value,Je(lu,c._currentValue),c._currentValue=w,m!==null)if(Kn(m.value,w)){if(m.children===f.children&&!tn.current){i=Lr(r,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var A=m.dependencies;if(A!==null){w=m.child;for(var b=A.firstContext;b!==null;){if(b.context===c){if(m.tag===1){b=Or(-1,a&-a),b.tag=2;var q=m.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),q.pending=b}}m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),bd(m.return,a,i),A.lanes|=a;break}b=b.next}}else if(m.tag===10)w=m.type===i.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),bd(w,a,i),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Gt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,ss(i,a),f=Dn(f),c=c(f),i.flags|=1,Gt(r,i,c,a),i.child;case 14:return c=i.type,f=Gn(c,i.pendingProps),f=Gn(c.type,f),Um(r,i,c,f,a);case 15:return zm(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Gn(c,f),_u(r,i),i.tag=1,nn(c)?(r=!0,nu(i)):r=!1,ss(i,a),Dm(i,c,f),Kd(i,c,f,a),Xd(null,i,c,!0,r,a);case 19:return Ym(r,i,a);case 22:return $m(r,i,a)}throw Error(t(156,i.tag))};function _g(r,i){return Do(r,i)}function X_(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,i,a,c){return new X_(r,i,a,c)}function yh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function J_(r){if(typeof r=="function")return yh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===x)return 11;if(r===ie)return 14}return 2}function di(r,i){var a=r.alternate;return a===null?(a=Ln(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function bu(r,i,a,c,f,m){var w=2;if(c=r,typeof r=="function")yh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case O:return io(a.children,f,m,i);case I:w=8,f|=8;break;case P:return r=Ln(12,a,i,f|2),r.elementType=P,r.lanes=m,r;case S:return r=Ln(13,a,i,f),r.elementType=S,r.lanes=m,r;case ne:return r=Ln(19,a,i,f),r.elementType=ne,r.lanes=m,r;case $:return Nu(a,f,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case R:w=9;break e;case x:w=11;break e;case ie:w=14;break e;case Ie:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Ln(w,a,i,f),i.elementType=r,i.type=c,i.lanes=m,i}function io(r,i,a,c){return r=Ln(7,r,c,i),r.lanes=a,r}function Nu(r,i,a,c){return r=Ln(22,r,c,i),r.elementType=$,r.lanes=a,r.stateNode={isHidden:!1},r}function vh(r,i,a){return r=Ln(6,r,null,i),r.lanes=a,r}function wh(r,i,a){return i=Ln(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Z_(r,i,a,c,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function _h(r,i,a,c,f,m,w,A,b){return r=new Z_(r,i,a,A,b),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Ln(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(m),r}function e1(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Eg(r){if(!r)return ni;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(nn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Gp(r,a,i)}return i}function Tg(r,i,a,c,f,m,w,A,b){return r=_h(a,c,!0,r,f,m,w,A,b),r.context=Eg(null),a=r.current,c=Yt(),f=ui(a),m=Or(c,f),m.callback=i??null,oi(a,m,f),r.current.lanes=f,Kr(r,f,c),sn(r,c),r}function Du(r,i,a,c){var f=i.current,m=Yt(),w=ui(f);return a=Eg(a),i.context===null?i.context=a:i.pendingContext=a,i=Or(m,w),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=oi(f,i,w),r!==null&&(Jn(r,f,w,m),cu(r,f,w)),w}function Vu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Eh(r,i){Cg(r,i),(r=r.alternate)&&Cg(r,i)}function t1(){return null}var Sg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Th(r){this._internalRoot=r}Ou.prototype.render=Th.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Du(r,i,null,null)},Ou.prototype.unmount=Th.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;to(function(){Du(null,r,null,null)}),i[kr]=null}};function Ou(r){this._internalRoot=r}Ou.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ol();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Fl(r)}};function Ch(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Lu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function n1(r,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var q=Vu(w);m.call(q)}}var w=Tg(i,c,r,0,null,!1,!1,"",Ig);return r._reactRootContainer=w,r[kr]=w.current,_a(r.nodeType===8?r.parentNode:r),to(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var q=Vu(b);A.call(q)}}var b=_h(r,0,!1,null,null,!1,!1,"",Ig);return r._reactRootContainer=b,r[kr]=b.current,_a(r.nodeType===8?r.parentNode:r),to(function(){Du(i,b,a,c)}),b}function Mu(r,i,a,c,f){var m=a._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var A=f;f=function(){var b=Vu(w);A.call(b)}}Du(i,w,r,f)}else w=n1(a,i,r,f,c);return Vu(w)}Dl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Hr(i.pendingLanes);a!==0&&(Qr(i,a|1),sn(i,Xe()),!(ze&6)&&(ds=Xe()+500,ri()))}break;case 13:to(function(){var c=Vr(r,1);if(c!==null){var f=Yt();Jn(c,r,1,f)}}),Eh(r,1)}},Lo=function(r){if(r.tag===13){var i=Vr(r,134217728);if(i!==null){var a=Yt();Jn(i,r,134217728,a)}Eh(r,134217728)}},Vl=function(r){if(r.tag===13){var i=ui(r),a=Vr(r,i);if(a!==null){var c=Yt();Jn(a,r,i,c)}Eh(r,i)}},Ol=function(){return Oe},Ll=function(r,i){var a=Oe;try{return Oe=r,i()}finally{Oe=a}},Po=function(r,i,a){switch(i){case"input":if(Hs(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var f=eu(c);if(!f)throw Error(t(90));Eo(c),Hs(c,f)}}}break;case"textarea":Io(r,a);break;case"select":i=a.value,i!=null&&Tr(r,!!a.multiple,i,!1)}},Oi=ph,ta=to;var r1={usingClientEntryPoint:!1,Events:[Ca,Jo,eu,nr,ea,ph]},Ma={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ia(r),r===null?null:r.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||t1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Bi=Fu.inject(i1),pn=Fu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1,an.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(i))throw Error(t(200));return e1(r,i,null,a)},an.createRoot=function(r,i){if(!Ch(r))throw Error(t(299));var a=!1,c="",f=Sg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=_h(r,1,!1,null,null,a,!1,c,f),r[kr]=i.current,_a(r.nodeType===8?r.parentNode:r),new Th(i)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ia(i),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return to(r)},an.hydrate=function(r,i,a){if(!Lu(i))throw Error(t(200));return Mu(null,r,i,!0,a)},an.hydrateRoot=function(r,i,a){if(!Ch(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",w=Sg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=Tg(i,null,r,1,a??null,f,!1,m,w),r[kr]=i.current,_a(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Ou(i)},an.render=function(r,i,a){if(!Lu(i))throw Error(t(200));return Mu(null,r,i,!1,a)},an.unmountComponentAtNode=function(r){if(!Lu(r))throw Error(t(40));return r._reactRootContainer?(to(function(){Mu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},an.unstable_batchedUpdates=ph,an.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Lu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Mu(r,i,a,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var Dg;function vf(){if(Dg)return Ah.exports;Dg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ah.exports=m1(),Ah.exports}var Vg;function g1(){if(Vg)return ju;Vg=1;var n=vf();return ju.createRoot=n.createRoot,ju.hydrateRoot=n.hydrateRoot,ju}var y1=g1();vf();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ga.apply(this,arguments)}var pi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(pi||(pi={}));const Og="popstate";function v1(n){n===void 0&&(n={});function e(o,s){let{pathname:l,search:d,hash:h}=o.location;return qh("",{pathname:l,search:d,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(o,s){return typeof s=="string"?s:tc(s)}return _1(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yv(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substr(2,8)}function Lg(n,e){return{usr:n.state,key:n.key,idx:e}}function qh(n,e,t,o){return t===void 0&&(t=null),Ga({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:t,key:e&&e.key||o||w1()})}function tc(n){let{pathname:e="/",search:t="",hash:o=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Ds(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substr(o),n=n.substr(0,o)),n&&(e.pathname=n)}return e}function _1(n,e,t,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:l=!1}=o,d=s.history,h=pi.Pop,g=null,v=_();v==null&&(v=0,d.replaceState(Ga({},d.state,{idx:v}),""));function _(){return(d.state||{idx:null}).idx}function E(){h=pi.Pop;let F=_(),se=F==null?null:F-v;v=F,g&&g({action:h,location:z.location,delta:se})}function C(F,se){h=pi.Push;let ae=qh(z.location,F,se);v=_()+1;let ue=Lg(ae,v),fe=z.createHref(ae);try{d.pushState(ue,"",fe)}catch(Ne){if(Ne instanceof DOMException&&Ne.name==="DataCloneError")throw Ne;s.location.assign(fe)}l&&g&&g({action:h,location:z.location,delta:1})}function D(F,se){h=pi.Replace;let ae=qh(z.location,F,se);v=_();let ue=Lg(ae,v),fe=z.createHref(ae);d.replaceState(ue,"",fe),l&&g&&g({action:h,location:z.location,delta:0})}function M(F){let se=s.location.origin!=="null"?s.location.origin:s.location.href,ae=typeof F=="string"?F:tc(F);return ae=ae.replace(/ $/,"%20"),lt(se,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,se)}let z={get action(){return h},get location(){return n(s,d)},listen(F){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Og,E),g=F,()=>{s.removeEventListener(Og,E),g=null}},createHref(F){return e(s,F)},createURL:M,encodeLocation(F){let se=M(F);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:C,replace:D,go(F){return d.go(F)}};return z}var Mg;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Mg||(Mg={}));function E1(n,e,t){return t===void 0&&(t="/"),T1(n,e,t,!1)}function T1(n,e,t,o){let s=typeof e=="string"?Ds(e):e,l=Ss(s.pathname||"/",t);if(l==null)return null;let d=vv(n);C1(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let v=V1(l);h=N1(d[g],v,o)}return h}function vv(n,e,t,o){e===void 0&&(e=[]),t===void 0&&(t=[]),o===void 0&&(o="");let s=(l,d,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};g.relativePath.startsWith("/")&&(lt(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=vi([o,g.relativePath]),_=t.concat(g);l.children&&l.children.length>0&&(lt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),vv(l.children,e,_,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:k1(v,l.index),routesMeta:_})};return n.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,d);else for(let g of wv(l.path))s(l,d,g)}),e}function wv(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let d=wv(o.join("/")),h=[];return h.push(...d.map(g=>g===""?l:[l,g].join("/"))),s&&h.push(...d),h.map(g=>n.startsWith("/")&&g===""?"/":g)}function C1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b1(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}const S1=/^:[\w-]+$/,I1=3,A1=2,P1=1,R1=10,x1=-2,Fg=n=>n==="*";function k1(n,e){let t=n.split("/"),o=t.length;return t.some(Fg)&&(o+=x1),e&&(o+=A1),t.filter(s=>!Fg(s)).reduce((s,l)=>s+(S1.test(l)?I1:l===""?P1:R1),o)}function b1(n,e){return n.length===e.length&&n.slice(0,-1).every((o,s)=>o===e[s])?n[n.length-1]-e[e.length-1]:0}function N1(n,e,t){let{routesMeta:o}=n,s={},l="/",d=[];for(let h=0;h<o.length;++h){let g=o[h],v=h===o.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},_),C=g.route;if(!E&&v&&t&&!o[o.length-1].route.index&&(E=nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),d.push({params:s,pathname:vi([l,E.pathname]),pathnameBase:F1(vi([l,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(l=vi([l,E.pathnameBase]))}return d}function nc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=D1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],d=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:o.reduce((v,_,E)=>{let{paramName:C,isOptional:D}=_;if(C==="*"){let z=h[E]||"";d=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const M=h[E];return D&&!M?v[C]=void 0:v[C]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:n}}function D1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yv(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(o.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function V1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yv(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function O1(n,e){e===void 0&&(e="/");let{pathname:t,search:o="",hash:s=""}=typeof n=="string"?Ds(n):n;return{pathname:t?t.startsWith("/")?t:L1(t,e):e,search:j1(o),hash:B1(s)}}function L1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xh(n,e,t,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _v(n,e){let t=M1(n);return e?t.map((o,s)=>s===t.length-1?o.pathname:o.pathnameBase):t.map(o=>o.pathnameBase)}function Ev(n,e,t,o){o===void 0&&(o=!1);let s;typeof n=="string"?s=Ds(n):(s=Ga({},n),lt(!s.pathname||!s.pathname.includes("?"),xh("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),xh("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),xh("#","search","hash",s)));let l=n===""||s.pathname==="",d=l?"/":s.pathname,h;if(d==null)h=t;else{let E=e.length-1;if(!o&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),E-=1;s.pathname=C.join("/")}h=E>=0?e[E]:"/"}let g=O1(s,h),v=d&&d!=="/"&&d.endsWith("/"),_=(l||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||_)&&(g.pathname+="/"),g}const vi=n=>n.join("/").replace(/\/\/+/g,"/"),F1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,B1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Tv=["post","put","patch","delete"];new Set(Tv);const z1=["get",...Tv];new Set(z1);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ya.apply(this,arguments)}const Ic=X.createContext(null),Cv=X.createContext(null),Pi=X.createContext(null),Ac=X.createContext(null),Ri=X.createContext({outlet:null,matches:[],isDataRoute:!1}),Sv=X.createContext(null);function $1(n,e){let{relative:t}=e===void 0?{}:e;al()||lt(!1);let{basename:o,navigator:s}=X.useContext(Pi),{hash:l,pathname:d,search:h}=Pc(n,{relative:t}),g=d;return o!=="/"&&(g=d==="/"?o:vi([o,d])),s.createHref({pathname:g,search:h,hash:l})}function al(){return X.useContext(Ac)!=null}function Vs(){return al()||lt(!1),X.useContext(Ac).location}function Iv(n){X.useContext(Pi).static||X.useLayoutEffect(n)}function Av(){let{isDataRoute:n}=X.useContext(Ri);return n?nE():q1()}function q1(){al()||lt(!1);let n=X.useContext(Ic),{basename:e,future:t,navigator:o}=X.useContext(Pi),{matches:s}=X.useContext(Ri),{pathname:l}=Vs(),d=JSON.stringify(_v(s,t.v7_relativeSplatPath)),h=X.useRef(!1);return Iv(()=>{h.current=!0}),X.useCallback(function(v,_){if(_===void 0&&(_={}),!h.current)return;if(typeof v=="number"){o.go(v);return}let E=Ev(v,JSON.parse(d),l,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vi([e,E.pathname])),(_.replace?o.replace:o.push)(E,_.state,_)},[e,o,d,l,n])}function wf(){let{matches:n}=X.useContext(Ri),e=n[n.length-1];return e?e.params:{}}function Pc(n,e){let{relative:t}=e===void 0?{}:e,{future:o}=X.useContext(Pi),{matches:s}=X.useContext(Ri),{pathname:l}=Vs(),d=JSON.stringify(_v(s,o.v7_relativeSplatPath));return X.useMemo(()=>Ev(n,JSON.parse(d),l,t==="path"),[n,d,l,t])}function H1(n,e){return W1(n,e)}function W1(n,e,t,o){al()||lt(!1);let{navigator:s}=X.useContext(Pi),{matches:l}=X.useContext(Ri),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let v=Vs(),_;if(e){var E;let F=typeof e=="string"?Ds(e):e;g==="/"||(E=F.pathname)!=null&&E.startsWith(g)||lt(!1),_=F}else _=v;let C=_.pathname||"/",D=C;if(g!=="/"){let F=g.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=E1(n,{pathname:D}),z=X1(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:vi([g,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:vi([g,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,o);return e&&z?X.createElement(Ac.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:pi.Pop}},z):z}function K1(){let n=tE(),e=U1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:s},t):null,null)}const Q1=X.createElement(K1,null);class G1 extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?X.createElement(Ri.Provider,{value:this.props.routeContext},X.createElement(Sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y1(n){let{routeContext:e,match:t,children:o}=n,s=X.useContext(Ic);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Ri.Provider,{value:e},o)}function X1(n,e,t,o){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),o===void 0&&(o=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=o)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let d=n,h=(s=t)==null?void 0:s.errors;if(h!=null){let _=d.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);_>=0||lt(!1),d=d.slice(0,Math.min(d.length,_+1))}let g=!1,v=-1;if(t&&o&&o.v7_partialHydration)for(let _=0;_<d.length;_++){let E=d[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=_),E.route.id){let{loaderData:C,errors:D}=t,M=E.route.loader&&C[E.route.id]===void 0&&(!D||D[E.route.id]===void 0);if(E.route.lazy||M){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((_,E,C)=>{let D,M=!1,z=null,F=null;t&&(D=h&&E.route.id?h[E.route.id]:void 0,z=E.route.errorElement||Q1,g&&(v<0&&C===0?(M=!0,F=null):v===C&&(M=!0,F=E.route.hydrateFallbackElement||null)));let se=e.concat(d.slice(0,C+1)),ae=()=>{let ue;return D?ue=z:M?ue=F:E.route.Component?ue=X.createElement(E.route.Component,null):E.route.element?ue=E.route.element:ue=_,X.createElement(Y1,{match:E,routeContext:{outlet:_,matches:se,isDataRoute:t!=null},children:ue})};return t&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?X.createElement(G1,{location:t.location,revalidation:t.revalidation,component:z,error:D,children:ae(),routeContext:{outlet:null,matches:se,isDataRoute:!0}}):ae()},null)}var Pv=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Pv||{}),rc=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(rc||{});function J1(n){let e=X.useContext(Ic);return e||lt(!1),e}function Z1(n){let e=X.useContext(Cv);return e||lt(!1),e}function eE(n){let e=X.useContext(Ri);return e||lt(!1),e}function Rv(n){let e=eE(),t=e.matches[e.matches.length-1];return t.route.id||lt(!1),t.route.id}function tE(){var n;let e=X.useContext(Sv),t=Z1(rc.UseRouteError),o=Rv(rc.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[o]}function nE(){let{router:n}=J1(Pv.UseNavigateStable),e=Rv(rc.UseNavigateStable),t=X.useRef(!1);return Iv(()=>{t.current=!0}),X.useCallback(function(s,l){l===void 0&&(l={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Ya({fromRouteId:e},l)))},[n,e])}function ao(n){lt(!1)}function rE(n){let{basename:e="/",children:t=null,location:o,navigationType:s=pi.Pop,navigator:l,static:d=!1,future:h}=n;al()&&lt(!1);let g=e.replace(/^\/*/,"/"),v=X.useMemo(()=>({basename:g,navigator:l,static:d,future:Ya({v7_relativeSplatPath:!1},h)}),[g,h,l,d]);typeof o=="string"&&(o=Ds(o));let{pathname:_="/",search:E="",hash:C="",state:D=null,key:M="default"}=o,z=X.useMemo(()=>{let F=Ss(_,g);return F==null?null:{location:{pathname:F,search:E,hash:C,state:D,key:M},navigationType:s}},[g,_,E,C,D,M,s]);return z==null?null:X.createElement(Pi.Provider,{value:v},X.createElement(Ac.Provider,{children:t,value:z}))}function iE(n){let{children:e,location:t}=n;return H1(Hh(e),t)}new Promise(()=>{});function Hh(n,e){e===void 0&&(e=[]);let t=[];return X.Children.forEach(n,(o,s)=>{if(!X.isValidElement(o))return;let l=[...e,s];if(o.type===X.Fragment){t.push.apply(t,Hh(o.props.children,l));return}o.type!==ao&&lt(!1),!o.props.index||!o.props.children||lt(!1);let d={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Hh(o.props.children,l)),t.push(d)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ic.apply(this,arguments)}function xv(n,e){if(n==null)return{};var t={},o=Object.keys(n),s,l;for(l=0;l<o.length;l++)s=o[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function oE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sE(n,e){return n.button===0&&(!e||e==="_self")&&!oE(n)}const aE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lE=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],uE="6";try{window.__reactRouterVersion=uE}catch{}const cE=X.createContext({isTransitioning:!1}),dE="startTransition",jg=h1[dE];function hE(n){let{basename:e,children:t,future:o,window:s}=n,l=X.useRef();l.current==null&&(l.current=v1({window:s,v5Compat:!0}));let d=l.current,[h,g]=X.useState({action:d.action,location:d.location}),{v7_startTransition:v}=o||{},_=X.useCallback(E=>{v&&jg?jg(()=>g(E)):g(E)},[g,v]);return X.useLayoutEffect(()=>d.listen(_),[d,_]),X.createElement(rE,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:d,future:o})}const fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mE=X.forwardRef(function(e,t){let{onClick:o,relative:s,reloadDocument:l,replace:d,state:h,target:g,to:v,preventScrollReset:_,unstable_viewTransition:E}=e,C=xv(e,aE),{basename:D}=X.useContext(Pi),M,z=!1;if(typeof v=="string"&&pE.test(v)&&(M=v,fE))try{let ue=new URL(window.location.href),fe=v.startsWith("//")?new URL(ue.protocol+v):new URL(v),Ne=Ss(fe.pathname,D);fe.origin===ue.origin&&Ne!=null?v=Ne+fe.search+fe.hash:z=!0}catch{}let F=$1(v,{relative:s}),se=yE(v,{replace:d,state:h,target:g,preventScrollReset:_,relative:s,unstable_viewTransition:E});function ae(ue){o&&o(ue),ue.defaultPrevented||se(ue)}return X.createElement("a",ic({},C,{href:M||F,onClick:z||l?o:ae,ref:t,target:g}))}),Jt=X.forwardRef(function(e,t){let{"aria-current":o="page",caseSensitive:s=!1,className:l="",end:d=!1,style:h,to:g,unstable_viewTransition:v,children:_}=e,E=xv(e,lE),C=Pc(g,{relative:E.relative}),D=Vs(),M=X.useContext(Cv),{navigator:z,basename:F}=X.useContext(Pi),se=M!=null&&vE(C)&&v===!0,ae=z.encodeLocation?z.encodeLocation(C).pathname:C.pathname,ue=D.pathname,fe=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;s||(ue=ue.toLowerCase(),fe=fe?fe.toLowerCase():null,ae=ae.toLowerCase()),fe&&F&&(fe=Ss(fe,F)||fe);const Ne=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let Ae=ue===ae||!d&&ue.startsWith(ae)&&ue.charAt(Ne)==="/",O=fe!=null&&(fe===ae||!d&&fe.startsWith(ae)&&fe.charAt(ae.length)==="/"),I={isActive:Ae,isPending:O,isTransitioning:se},P=Ae?o:void 0,N;typeof l=="function"?N=l(I):N=[l,Ae?"active":null,O?"pending":null,se?"transitioning":null].filter(Boolean).join(" ");let R=typeof h=="function"?h(I):h;return X.createElement(mE,ic({},E,{"aria-current":P,className:N,ref:t,style:R,to:g,unstable_viewTransition:v}),typeof _=="function"?_(I):_)});var Wh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Wh||(Wh={}));var Bg;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));function gE(n){let e=X.useContext(Ic);return e||lt(!1),e}function yE(n,e){let{target:t,replace:o,state:s,preventScrollReset:l,relative:d,unstable_viewTransition:h}=e===void 0?{}:e,g=Av(),v=Vs(),_=Pc(n,{relative:d});return X.useCallback(E=>{if(sE(E,t)){E.preventDefault();let C=o!==void 0?o:tc(v)===tc(_);g(n,{replace:C,state:s,preventScrollReset:l,relative:d,unstable_viewTransition:h})}},[v,g,_,o,s,t,n,l,d,h])}function vE(n,e){e===void 0&&(e={});let t=X.useContext(cE);t==null&&lt(!1);let{basename:o}=gE(Wh.useViewTransitionState),s=Pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ss(t.currentLocation.pathname,o)||t.currentLocation.pathname,d=Ss(t.nextLocation.pathname,o)||t.nextLocation.pathname;return nc(s.pathname,d)!=null||nc(s.pathname,l)!=null}const wE=({item:n})=>k.jsxs("article",{className:"item-card",children:[k.jsxs("div",{className:"item-card-img-container",children:[k.jsx(Jt,{to:`/detail/${n.id}`,title:"More Details",children:k.jsx("img",{src:n.image,alt:n.title})}),k.jsxs("p",{children:["Size ",n.category," %"]})]}),k.jsx("h2",{children:n.title}),k.jsxs("p",{children:["$",n.price," CLP"]}),k.jsx(Jt,{to:`/detail/${n.id}`,children:k.jsx("button",{className:"btn-viewDetail",children:"View Details"})})]}),_E=({products:n})=>{const[e,t]=X.useState("All Keyboards"),{categoryId:o}=wf();return X.useEffect(()=>{if(o)switch(o){case"60":t("Keyboards 60%");break;case"70":t("Keyboards 70%");break;case"100":t("Keyboards 100%");break;default:t("Unrecognized category")}else t("All Keyboards")},[o]),k.jsxs("div",{className:"itemList",children:[k.jsx("h1",{className:"itemList-title",children:e}),k.jsx("div",{className:"itemList-cards-container",children:n.map(s=>k.jsx(wE,{item:s},s.id))})]})},Rc=()=>k.jsxs("div",{className:"loading-container",children:[k.jsx("div",{className:"loading"}),k.jsx("h1",{children:"Loading"})]});var Ug={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(n){const e=[];let t=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++o)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},EE=function(n){const e=[];let t=0,o=0;for(;t<n.length;){const s=n[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],d=n[t++],h=n[t++],g=((s&7)<<18|(l&63)<<12|(d&63)<<6|h&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],d=n[t++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|d&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<n.length;s+=3){const l=n[s],d=s+1<n.length,h=d?n[s+1]:0,g=s+2<n.length,v=g?n[s+2]:0,_=l>>2,E=(l&3)<<4|h>>4;let C=(h&15)<<2|v>>6,D=v&63;g||(D=64,d||(C=64)),o.push(t[_],t[E],t[C],t[D])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const v=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||v==null||E==null)throw new TE;const C=l<<2|h>>4;if(o.push(C),v!==64){const D=h<<4&240|v>>2;if(o.push(D),E!==64){const M=v<<6&192|E;o.push(M)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CE=function(n){const e=kv(n);return bv.encodeByteArray(e,!0)},oc=function(n){return CE(n).replace(/\./g,"")},SE=function(n){try{return bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=()=>IE().__FIREBASE_DEFAULTS__,PE=()=>{if(typeof process>"u"||typeof Ug>"u")return;const n=Ug.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SE(n[1]);return e&&JSON.parse(e)},_f=()=>{try{return AE()||PE()||RE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xE=n=>{var e,t;return(t=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kE=n=>{const e=xE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},Nv=()=>{var n;return(n=_f())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oc(JSON.stringify(t)),oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VE(){var n;const e=(n=_f())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OE(){return!VE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LE(){try{return typeof indexedDB=="object"}catch{return!1}}function ME(){return new Promise((n,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="FirebaseError";class Os extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=FE,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dv.prototype.create)}}class Dv{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],d=l?jE(l,o):"Error",h=`${this.serviceName}: ${d} (${s}).`;return new Os(s,h,o)}}function jE(n,e){return n.replace(BE,(t,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const BE=/\{\$([^}]+)}/g;function Kh(n,e){if(n===e)return!0;const t=Object.keys(n),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const l=n[s],d=e[s];if(zg(l)&&zg(d)){if(!Kh(l,d))return!1}else if(l!==d)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function zg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n){return n&&n._delegate?n._delegate:n}class Xa{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new bE;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($E(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);o===h&&d.resolve(s)}return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const d=this.instances.get(s);return d&&e(d,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:zE(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zE(n){return n===lo?void 0:n}function $E(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const HE={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},WE=Fe.INFO,KE={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},QE=(n,e,...t)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),s=KE[e];if(s)console[s](`[${o}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vv{constructor(e){this.name=e,this._logLevel=WE,this._logHandler=QE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const GE=(n,e)=>e.some(t=>n instanceof t);let $g,qg;function YE(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XE(){return qg||(qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Qh=new WeakMap,Lv=new WeakMap,kh=new WeakMap,Ef=new WeakMap;function JE(n){const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(wi(n.result)),s()},d=()=>{o(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Ov.set(t,n)}).catch(()=>{}),Ef.set(e,n),e}function ZE(n){if(Qh.has(n))return;const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),s()},d=()=>{o(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Qh.set(n,e)}let Gh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e2(n){Gh=n(Gh)}function t2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=n.call(bh(this),e,...t);return Lv.set(o,e.sort?e.sort():[e]),wi(o)}:XE().includes(n)?function(...e){return n.apply(bh(this),e),wi(Ov.get(this))}:function(...e){return wi(n.apply(bh(this),e))}}function n2(n){return typeof n=="function"?t2(n):(n instanceof IDBTransaction&&ZE(n),GE(n,YE())?new Proxy(n,Gh):n)}function wi(n){if(n instanceof IDBRequest)return JE(n);if(kh.has(n))return kh.get(n);const e=n2(n);return e!==n&&(kh.set(n,e),Ef.set(e,n)),e}const bh=n=>Ef.get(n);function r2(n,e,{blocked:t,upgrade:o,blocking:s,terminated:l}={}){const d=indexedDB.open(n,e),h=wi(d);return o&&d.addEventListener("upgradeneeded",g=>{o(wi(d.result),g.oldVersion,g.newVersion,wi(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),h.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const i2=["get","getKey","getAll","getAllKeys","count"],o2=["put","add","delete","clear"],Nh=new Map;function Hg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,s=o2.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(s||i2.includes(t)))return;const l=async function(d,...h){const g=this.transaction(d,s?"readwrite":"readonly");let v=g.store;return o&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),s&&g.done]))[0]};return Nh.set(e,l),l}e2(n=>({...n,get:(e,t,o)=>Hg(e,t)||n.get(e,t,o),has:(e,t)=>!!Hg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a2(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function a2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yh="@firebase/app",Wg="0.10.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Vv("@firebase/app"),l2="@firebase/app-compat",u2="@firebase/analytics-compat",c2="@firebase/analytics",d2="@firebase/app-check-compat",h2="@firebase/app-check",f2="@firebase/auth",p2="@firebase/auth-compat",m2="@firebase/database",g2="@firebase/data-connect",y2="@firebase/database-compat",v2="@firebase/functions",w2="@firebase/functions-compat",_2="@firebase/installations",E2="@firebase/installations-compat",T2="@firebase/messaging",C2="@firebase/messaging-compat",S2="@firebase/performance",I2="@firebase/performance-compat",A2="@firebase/remote-config",P2="@firebase/remote-config-compat",R2="@firebase/storage",x2="@firebase/storage-compat",k2="@firebase/firestore",b2="@firebase/vertexai",N2="@firebase/firestore-compat",D2="firebase",V2="11.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="[DEFAULT]",O2={[Yh]:"fire-core",[l2]:"fire-core-compat",[c2]:"fire-analytics",[u2]:"fire-analytics-compat",[h2]:"fire-app-check",[d2]:"fire-app-check-compat",[f2]:"fire-auth",[p2]:"fire-auth-compat",[m2]:"fire-rtdb",[g2]:"fire-data-connect",[y2]:"fire-rtdb-compat",[v2]:"fire-fn",[w2]:"fire-fn-compat",[_2]:"fire-iid",[E2]:"fire-iid-compat",[T2]:"fire-fcm",[C2]:"fire-fcm-compat",[S2]:"fire-perf",[I2]:"fire-perf-compat",[A2]:"fire-rc",[P2]:"fire-rc-compat",[R2]:"fire-gcs",[x2]:"fire-gcs-compat",[k2]:"fire-fst",[N2]:"fire-fst-compat",[b2]:"fire-vertex","fire-js":"fire-js",[D2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,L2=new Map,Jh=new Map;function Kg(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ac(n){const e=n.name;if(Jh.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Jh.set(e,n);for(const t of sc.values())Kg(t,n);for(const t of L2.values())Kg(t,n);return!0}function M2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Dv("app","Firebase",F2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=V2;function Mv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Xh,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(t||(t=Nv()),!t)throw _i.create("no-options");const l=sc.get(s);if(l){if(Kh(t,l.options)&&Kh(o,l.config))return l;throw _i.create("duplicate-app",{appName:s})}const d=new qE(s);for(const g of Jh.values())d.addComponent(g);const h=new j2(t,o,d);return sc.set(s,h),h}function U2(n=Xh){const e=sc.get(n);if(!e&&n===Xh&&Nv())return Mv();if(!e)throw _i.create("no-app",{appName:n});return e}function ws(n,e,t){var o;let s=(o=O2[n])!==null&&o!==void 0?o:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(h.join(" "));return}ac(new Xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebase-heartbeat-database",$2=1,Ja="firebase-heartbeat-store";let Dh=null;function Fv(){return Dh||(Dh=r2(z2,$2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ja)}catch(t){console.warn(t)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),Dh}async function q2(n){try{const t=(await Fv()).transaction(Ja),o=await t.objectStore(Ja).get(jv(n));return await t.done,o}catch(e){if(e instanceof Os)jr.warn(e.message);else{const t=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function Qg(n,e){try{const o=(await Fv()).transaction(Ja,"readwrite");await o.objectStore(Ja).put(e,jv(n)),await o.done}catch(t){if(t instanceof Os)jr.warn(t.message);else{const o=_i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(o.message)}}}function jv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1024,W2=30*24*60*60*1e3;class K2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G2(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=W2}),this._storage.overwrite(this._heartbeatsCache))}catch(o){jr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gg(),{heartbeatsToSend:o,unsentEntries:s}=Q2(this._heartbeatsCache.heartbeats),l=oc(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return jr.warn(t),""}}}function Gg(){return new Date().toISOString().substring(0,10)}function Q2(n,e=H2){const t=[];let o=n.slice();for(const s of n){const l=t.find(d=>d.agent===s.agent);if(l){if(l.dates.push(s.date),Yg(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Yg(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class G2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LE()?ME().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await q2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yg(n){return oc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n){ac(new Xa("platform-logger",e=>new s2(e),"PRIVATE")),ac(new Xa("heartbeat",e=>new K2(e),"PRIVATE")),ws(Yh,Wg,n),ws(Yh,Wg,"esm2017"),ws("fire-js","")}Y2("");var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,Bv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function P(){}P.prototype=I.prototype,O.D=I.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(N,R,x){for(var S=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)S[ne-2]=arguments[ne];return I.prototype[R].apply(N,S)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,I,P){P||(P=0);var N=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)N[R]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(R=0;16>R;++R)N[R]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=O.g[0],P=O.g[1],R=O.g[2];var x=O.g[3],S=I+(x^P&(R^x))+N[0]+3614090360&4294967295;I=P+(S<<7&4294967295|S>>>25),S=x+(R^I&(P^R))+N[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=R+(P^x&(I^P))+N[2]+606105819&4294967295,R=x+(S<<17&4294967295|S>>>15),S=P+(I^R&(x^I))+N[3]+3250441966&4294967295,P=R+(S<<22&4294967295|S>>>10),S=I+(x^P&(R^x))+N[4]+4118548399&4294967295,I=P+(S<<7&4294967295|S>>>25),S=x+(R^I&(P^R))+N[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=R+(P^x&(I^P))+N[6]+2821735955&4294967295,R=x+(S<<17&4294967295|S>>>15),S=P+(I^R&(x^I))+N[7]+4249261313&4294967295,P=R+(S<<22&4294967295|S>>>10),S=I+(x^P&(R^x))+N[8]+1770035416&4294967295,I=P+(S<<7&4294967295|S>>>25),S=x+(R^I&(P^R))+N[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=R+(P^x&(I^P))+N[10]+4294925233&4294967295,R=x+(S<<17&4294967295|S>>>15),S=P+(I^R&(x^I))+N[11]+2304563134&4294967295,P=R+(S<<22&4294967295|S>>>10),S=I+(x^P&(R^x))+N[12]+1804603682&4294967295,I=P+(S<<7&4294967295|S>>>25),S=x+(R^I&(P^R))+N[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=R+(P^x&(I^P))+N[14]+2792965006&4294967295,R=x+(S<<17&4294967295|S>>>15),S=P+(I^R&(x^I))+N[15]+1236535329&4294967295,P=R+(S<<22&4294967295|S>>>10),S=I+(R^x&(P^R))+N[1]+4129170786&4294967295,I=P+(S<<5&4294967295|S>>>27),S=x+(P^R&(I^P))+N[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=R+(I^P&(x^I))+N[11]+643717713&4294967295,R=x+(S<<14&4294967295|S>>>18),S=P+(x^I&(R^x))+N[0]+3921069994&4294967295,P=R+(S<<20&4294967295|S>>>12),S=I+(R^x&(P^R))+N[5]+3593408605&4294967295,I=P+(S<<5&4294967295|S>>>27),S=x+(P^R&(I^P))+N[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=R+(I^P&(x^I))+N[15]+3634488961&4294967295,R=x+(S<<14&4294967295|S>>>18),S=P+(x^I&(R^x))+N[4]+3889429448&4294967295,P=R+(S<<20&4294967295|S>>>12),S=I+(R^x&(P^R))+N[9]+568446438&4294967295,I=P+(S<<5&4294967295|S>>>27),S=x+(P^R&(I^P))+N[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=R+(I^P&(x^I))+N[3]+4107603335&4294967295,R=x+(S<<14&4294967295|S>>>18),S=P+(x^I&(R^x))+N[8]+1163531501&4294967295,P=R+(S<<20&4294967295|S>>>12),S=I+(R^x&(P^R))+N[13]+2850285829&4294967295,I=P+(S<<5&4294967295|S>>>27),S=x+(P^R&(I^P))+N[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=R+(I^P&(x^I))+N[7]+1735328473&4294967295,R=x+(S<<14&4294967295|S>>>18),S=P+(x^I&(R^x))+N[12]+2368359562&4294967295,P=R+(S<<20&4294967295|S>>>12),S=I+(P^R^x)+N[5]+4294588738&4294967295,I=P+(S<<4&4294967295|S>>>28),S=x+(I^P^R)+N[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=R+(x^I^P)+N[11]+1839030562&4294967295,R=x+(S<<16&4294967295|S>>>16),S=P+(R^x^I)+N[14]+4259657740&4294967295,P=R+(S<<23&4294967295|S>>>9),S=I+(P^R^x)+N[1]+2763975236&4294967295,I=P+(S<<4&4294967295|S>>>28),S=x+(I^P^R)+N[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=R+(x^I^P)+N[7]+4139469664&4294967295,R=x+(S<<16&4294967295|S>>>16),S=P+(R^x^I)+N[10]+3200236656&4294967295,P=R+(S<<23&4294967295|S>>>9),S=I+(P^R^x)+N[13]+681279174&4294967295,I=P+(S<<4&4294967295|S>>>28),S=x+(I^P^R)+N[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=R+(x^I^P)+N[3]+3572445317&4294967295,R=x+(S<<16&4294967295|S>>>16),S=P+(R^x^I)+N[6]+76029189&4294967295,P=R+(S<<23&4294967295|S>>>9),S=I+(P^R^x)+N[9]+3654602809&4294967295,I=P+(S<<4&4294967295|S>>>28),S=x+(I^P^R)+N[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=R+(x^I^P)+N[15]+530742520&4294967295,R=x+(S<<16&4294967295|S>>>16),S=P+(R^x^I)+N[2]+3299628645&4294967295,P=R+(S<<23&4294967295|S>>>9),S=I+(R^(P|~x))+N[0]+4096336452&4294967295,I=P+(S<<6&4294967295|S>>>26),S=x+(P^(I|~R))+N[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=R+(I^(x|~P))+N[14]+2878612391&4294967295,R=x+(S<<15&4294967295|S>>>17),S=P+(x^(R|~I))+N[5]+4237533241&4294967295,P=R+(S<<21&4294967295|S>>>11),S=I+(R^(P|~x))+N[12]+1700485571&4294967295,I=P+(S<<6&4294967295|S>>>26),S=x+(P^(I|~R))+N[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=R+(I^(x|~P))+N[10]+4293915773&4294967295,R=x+(S<<15&4294967295|S>>>17),S=P+(x^(R|~I))+N[1]+2240044497&4294967295,P=R+(S<<21&4294967295|S>>>11),S=I+(R^(P|~x))+N[8]+1873313359&4294967295,I=P+(S<<6&4294967295|S>>>26),S=x+(P^(I|~R))+N[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=R+(I^(x|~P))+N[6]+2734768916&4294967295,R=x+(S<<15&4294967295|S>>>17),S=P+(x^(R|~I))+N[13]+1309151649&4294967295,P=R+(S<<21&4294967295|S>>>11),S=I+(R^(P|~x))+N[4]+4149444226&4294967295,I=P+(S<<6&4294967295|S>>>26),S=x+(P^(I|~R))+N[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=R+(I^(x|~P))+N[2]+718787259&4294967295,R=x+(S<<15&4294967295|S>>>17),S=P+(x^(R|~I))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,O.g[2]=O.g[2]+R&4294967295,O.g[3]=O.g[3]+x&4294967295}o.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var P=I-this.blockSize,N=this.B,R=this.h,x=0;x<I;){if(R==0)for(;x<=P;)s(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<I;)if(N[R++]=O.charCodeAt(x++),R==this.blockSize){s(this,N),R=0;break}}else for(;x<I;)if(N[R++]=O[x++],R==this.blockSize){s(this,N),R=0;break}}this.h=R,this.o+=I},o.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var P=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=P&255,P/=256;for(this.u(O),O=Array(16),I=P=0;4>I;++I)for(var N=0;32>N;N+=8)O[P++]=this.g[I]>>>N&255;return O};function l(O,I){var P=h;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=I(O)}function d(O,I){this.h=I;for(var P=[],N=!0,R=O.length-1;0<=R;R--){var x=O[R]|0;N&&x==I||(P[R]=x,N=!1)}this.g=P}var h={};function g(O){return-128<=O&&128>O?l(O,function(I){return new d([I|0],0>I?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return F(v(-O));for(var I=[],P=1,N=0;O>=P;N++)I[N]=O/P|0,P*=4294967296;return new d(I,0)}function _(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return F(_(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=v(Math.pow(I,8)),N=E,R=0;R<O.length;R+=8){var x=Math.min(8,O.length-R),S=parseInt(O.substring(R,R+x),I);8>x?(x=v(Math.pow(I,x)),N=N.j(x).add(v(S))):(N=N.j(P),N=N.add(v(S)))}return N}var E=g(0),C=g(1),D=g(16777216);n=d.prototype,n.m=function(){if(z(this))return-F(this).m();for(var O=0,I=1,P=0;P<this.g.length;P++){var N=this.i(P);O+=(0<=N?N:4294967296+N)*I,I*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(z(this))return"-"+F(this).toString(O);for(var I=v(Math.pow(O,6)),P=this,N="";;){var R=fe(P,I).g;P=se(P,R.j(I));var x=((0<P.g.length?P.g[0]:P.h)>>>0).toString(O);if(P=R,M(P))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function z(O){return O.h==-1}n.l=function(O){return O=se(this,O),z(O)?-1:M(O)?0:1};function F(O){for(var I=O.g.length,P=[],N=0;N<I;N++)P[N]=~O.g[N];return new d(P,~O.h).add(C)}n.abs=function(){return z(this)?F(this):this},n.add=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],N=0,R=0;R<=I;R++){var x=N+(this.i(R)&65535)+(O.i(R)&65535),S=(x>>>16)+(this.i(R)>>>16)+(O.i(R)>>>16);N=S>>>16,x&=65535,S&=65535,P[R]=S<<16|x}return new d(P,P[P.length-1]&-2147483648?-1:0)};function se(O,I){return O.add(F(I))}n.j=function(O){if(M(this)||M(O))return E;if(z(this))return z(O)?F(this).j(F(O)):F(F(this).j(O));if(z(O))return F(this.j(F(O)));if(0>this.l(D)&&0>O.l(D))return v(this.m()*O.m());for(var I=this.g.length+O.g.length,P=[],N=0;N<2*I;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<O.g.length;R++){var x=this.i(N)>>>16,S=this.i(N)&65535,ne=O.i(R)>>>16,ie=O.i(R)&65535;P[2*N+2*R]+=S*ie,ae(P,2*N+2*R),P[2*N+2*R+1]+=x*ie,ae(P,2*N+2*R+1),P[2*N+2*R+1]+=S*ne,ae(P,2*N+2*R+1),P[2*N+2*R+2]+=x*ne,ae(P,2*N+2*R+2)}for(N=0;N<I;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=I;N<2*I;N++)P[N]=0;return new d(P,0)};function ae(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function ue(O,I){this.g=O,this.h=I}function fe(O,I){if(M(I))throw Error("division by zero");if(M(O))return new ue(E,E);if(z(O))return I=fe(F(O),I),new ue(F(I.g),F(I.h));if(z(I))return I=fe(O,F(I)),new ue(F(I.g),I.h);if(30<O.g.length){if(z(O)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var P=C,N=I;0>=N.l(O);)P=Ne(P),N=Ne(N);var R=Ae(P,1),x=Ae(N,1);for(N=Ae(N,2),P=Ae(P,2);!M(N);){var S=x.add(N);0>=S.l(O)&&(R=R.add(P),x=S),N=Ae(N,1),P=Ae(P,1)}return I=se(O,R.j(I)),new ue(R,I)}for(R=E;0<=O.l(I);){for(P=Math.max(1,Math.floor(O.m()/I.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=v(P),S=x.j(I);z(S)||0<S.l(O);)P-=N,x=v(P),S=x.j(I);M(x)&&(x=C),R=R.add(x),O=se(O,S)}return new ue(R,O)}n.A=function(O){return fe(this,O).h},n.and=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],N=0;N<I;N++)P[N]=this.i(N)&O.i(N);return new d(P,this.h&O.h)},n.or=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],N=0;N<I;N++)P[N]=this.i(N)|O.i(N);return new d(P,this.h|O.h)},n.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],N=0;N<I;N++)P[N]=this.i(N)^O.i(N);return new d(P,this.h^O.h)};function Ne(O){for(var I=O.g.length+1,P=[],N=0;N<I;N++)P[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(P,O.h)}function Ae(O,I){var P=I>>5;I%=32;for(var N=O.g.length-P,R=[],x=0;x<N;x++)R[x]=0<I?O.i(x+P)>>>I|O.i(x+P+1)<<32-I:O.i(x+P);return new d(R,O.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Bv=o,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=_,co=d}).apply(typeof Xg<"u"?Xg:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,Ua,zv,Gu,Zh,$v,qv,Hv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var o=t(this);function s(u,p){if(p)e:{var y=o;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in y))break e;y=y[j]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,T=!1,j={next:function(){if(!T&&y<u.length){var H=y++;return{value:p(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},h=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function _(u,p,y){return u.call.apply(u.bind,arguments)}function E(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function C(u,p,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,C.apply(null,arguments)}function D(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function M(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,j,H){for(var oe=Array(arguments.length-2),We=2;We<arguments.length;We++)oe[We-2]=arguments[We];return p.prototype[j].apply(T,oe)}}function z(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function F(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const j=u.length||0,H=T.length||0;u.length=j+H;for(let oe=0;oe<H;oe++)u[j+oe]=T[oe]}else u.push(T)}}class se{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ae(u){return/^[\s\xa0]*$/.test(u)}function ue(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function fe(u){return fe[" "](u),u}fe[" "]=function(){};var Ne=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function Ae(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function O(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function I(u){const p={};for(const y in u)p[y]=u[y];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let y,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(y in T)u[y]=T[y];for(let H=0;H<P.length;H++)y=P[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function R(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function x(u){h.setTimeout(()=>{throw u},0)}function S(){var u=le;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,y){const T=ie.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new se(()=>new Ie,u=>u.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,le=new ne,te=()=>{const u=h.Promise.resolve(void 0);$=()=>{u.then(V)}};var V=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(y){x(y)}var p=ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}K=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,p),h.removeEventListener("test",y,p)}catch{}return u}();function ke(u,p){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Ne){e:{try{fe(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}M(ke,me);var De={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(u,p,y,T,j){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=j,this.key=++He,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _r(u){this.src=u,this.g={},this.h=0}_r.prototype.add=function(u,p,y,T,j){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var oe=zr(u,p,T,j);return-1<oe?(p=u[oe],y||(p.fa=!1)):(p=new Ye(p,this.src,H,!!T,j),p.fa=y,u.push(p)),p};function Eo(u,p){var y=p.type;if(y in u.g){var T=u.g[y],j=Array.prototype.indexOf.call(T,p,void 0),H;(H=0<=j)&&Array.prototype.splice.call(T,j,1),H&&(St(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function zr(u,p,y,T){for(var j=0;j<u.length;++j){var H=u[j];if(!H.da&&H.listener==p&&H.capture==!!y&&H.ha==T)return j}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),To={};function qs(u,p,y,T,j){if(Array.isArray(p)){for(var H=0;H<p.length;H++)qs(u,p[H],y,T,j);return null}return y=Ks(y),u&&u[Ue]?u.K(p,y,v(T)?!!T.capture:!!T,j):Hs(u,p,y,!1,T,j)}function Hs(u,p,y,T,j,H){if(!p)throw Error("Invalid event type");var oe=v(j)?!!j.capture:!!j,We=So(u);if(We||(u[bi]=We=new _r(u)),y=We.add(p,y,T,oe,H),y.proxy)return y;if(T=Sl(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)xe||(j=oe),j===void 0&&(j=!1),u.addEventListener(p.toString(),T,j);else if(u.attachEvent)u.attachEvent(Tr(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Sl(){function u(y){return p.call(u.src,u.listener,y)}const p=Ws;return u}function Co(u,p,y,T,j){if(Array.isArray(p))for(var H=0;H<p.length;H++)Co(u,p[H],y,T,j);else T=v(T)?!!T.capture:!!T,y=Ks(y),u&&u[Ue]?(u=u.i,p=String(p).toString(),p in u.g&&(H=u.g[p],y=zr(H,y,T,j),-1<y&&(St(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[p],u.h--)))):u&&(u=So(u))&&(p=u.g[p.toString()],u=-1,p&&(u=zr(p,y,T,j)),(y=-1<u?p[u]:null)&&Er(y))}function Er(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ue])Eo(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(Tr(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=So(p))?(Eo(y,u),y.h==0&&(y.src=null,p[bi]=null)):St(u)}}}function Tr(u){return u in To?To[u]:To[u]="on"+u}function Ws(u,p){if(u.da)u=!0;else{p=new ke(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&Er(u),u=y.call(T,p)}return u}function So(u){return u=u[bi],u instanceof _r?u:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(u){return typeof u=="function"?u:(u[Io]||(u[Io]=function(p){return u.handleEvent(p)}),u[Io])}function vt(){Q.call(this),this.i=new _r(this),this.M=this,this.F=null}M(vt,Q),vt.prototype[Ue]=!0,vt.prototype.removeEventListener=function(u,p,y,T){Co(this,u,p,y,T)};function wt(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new me(p,u);else if(p instanceof me)p.target=p.target||u;else{var j=p;p=new me(T,u),N(p,j)}if(j=!0,y)for(var H=y.length-1;0<=H;H--){var oe=p.g=y[H];j=Cr(oe,T,!0,p)&&j}if(oe=p.g=u,j=Cr(oe,T,!0,p)&&j,j=Cr(oe,T,!1,p)&&j,y)for(H=0;H<y.length;H++)oe=p.g=y[H],j=Cr(oe,T,!1,p)&&j}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)St(y[T]);delete u.g[p],u.h--}}this.F=null},vt.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},vt.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function Cr(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,H=0;H<p.length;++H){var oe=p[H];if(oe&&!oe.da&&oe.capture==y){var We=oe.listener,_t=oe.ha||oe.src;oe.fa&&Eo(u.i,oe),j=We.call(_t,T)!==!1&&j}}return j&&!T.defaultPrevented}function Qs(u,p,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:h.setTimeout(u,p||0)}function $r(u){u.g=Qs(()=>{u.g=null,u.i&&(u.i=!1,$r(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ni extends Q{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(u){Q.call(this),this.h=u,this.g={}}M(Di,Q);var Gs=[];function Ys(u){Ae(u.g,function(p,y){this.g.hasOwnProperty(y)&&Er(p)},u),u.g={}}Di.prototype.N=function(){Di.aa.N.call(this),Ys(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=h.JSON.stringify,Js=h.JSON.parse,Zs=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Vi(){}Vi.prototype.h=null;function Ao(u){return u.h||(u.h=u.i())}function Po(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){me.call(this,"d")}M(tr,me);function Ro(){me.call(this,"c")}M(Ro,me);var nr={},ea=null;function Oi(){return ea=ea||new vt}nr.La="serverreachability";function ta(u){me.call(this,nr.La,u)}M(ta,me);function Sr(u){const p=Oi();wt(p,new ta(p))}nr.STAT_EVENT="statevent";function na(u,p){me.call(this,nr.STAT_EVENT,u),this.stat=p}M(na,me);function ut(u){const p=Oi();wt(p,new na(p,u))}nr.Ma="timingevent";function xo(u,p){me.call(this,nr.Ma,u),this.size=p}M(xo,me);function Fn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Mi(u,p,y,T,j,H){u.info(function(){if(u.g)if(H)for(var oe="",We=H.split("&"),_t=0;_t<We.length;_t++){var Le=We[_t].split("=");if(1<Le.length){var It=Le[0];Le=Le[1];var pt=It.split("_");oe=2<=pt.length&&pt[1]=="type"?oe+(It+"="+Le+"&"):oe+(It+"=redacted&")}}else oe=null;else oe=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+p+`
`+y+`
`+oe})}function ko(u,p,y,T,j,H,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+p+`
`+y+`
`+H+" "+oe})}function jn(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jc(u,y)+(T?" "+T:"")})}function ra(u,p){u.info(function(){return"TIMEOUT: "+p})}Li.prototype.info=function(){};function Jc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Xs(y)}catch{return p}}var bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Il={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Fi(){}M(Fi,Vi),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Bn=new Fi;function Un(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}var ia={},No={};function Do(u,p,y){u.L=1,u.v=Qr(mn(p)),u.m=y,u.P=!0,oa(u,null)}function oa(u,p){u.F=Date.now(),Xe(u),u.A=mn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Yr(y.i,"t",T),u.C=0,y=u.j.J,u.h=new Al,u.g=ql(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Ni(C(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Gs[0]=j.toString()),j=Gs);for(var H=0;H<j.length;H++){var oe=qs(y,j[H],T||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Sr(),Mi(u.i,u.u,u.A,u.l,u.R,u.m)}Un.prototype.ca=function(u){u=u.target;const p=this.M;p&&en(u)==3?p.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const pt=en(this.g);var p=this.g.Ba();const kn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||pt!=4||p==7||(p==8||0>=kn?Sr(3):Sr(2)),ji(this);var y=this.g.Z();this.X=y;t:if(Pl(this)){var T=da(this.g);u="";var j=T.length,H=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),qr(this);var oe="";break t}this.h.i=new h.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(H&&p==j-1)});T.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,ko(this.i,this.u,this.A,this.l,this.R,pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,_t=this.g;if((We=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(We)){var Le=We;break t}}Le=null}if(y=Le)jn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,y);else{this.o=!1,this.s=3,ut(12),Rn(this),qr(this);break e}}if(this.P){y=!0;let yn;for(;!this.J&&this.C<oe.length;)if(yn=Zc(this,oe),yn==No){pt==4&&(this.s=4,ut(14),y=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==ia){this.s=4,ut(15),jn(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else jn(this.i,this.l,yn,null),sa(this,yn);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||oe.length!=0||this.h.h||(this.s=1,ut(16),y=!1),this.o=this.o&&y,!y)jn(this.i,this.l,oe,"[Invalid Chunked Response]"),Rn(this),qr(this);else if(0<oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),fa(It),It.M=!0,ut(11))}}else jn(this.i,this.l,oe,null),sa(this,oe);pt==4&&Rn(this),this.o&&!this.J&&(pt==4?qo(this.j,this):(this.o=!1,Xe(this)))}else jo(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Rn(this),qr(this)}}}catch{}finally{}};function Pl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zc(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?No:(y=Number(p.substring(y,T)),isNaN(y)?ia:(T+=1,T+y>p.length?No:(p=p.slice(T,T+y),u.C=T+y,p)))}Un.prototype.cancel=function(){this.J=!0,Rn(this)};function Xe(u){u.S=Date.now()+u.I,Rl(u,u.I)}function Rl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Fn(C(u.ba,u),p)}function ji(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Un.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ra(this.i,this.A),this.L!=2&&(Sr(),ut(17)),Rn(this),this.s=2,qr(this)):Rl(this,this.S-u)};function qr(u){u.j.G==0||u.J||qo(u.j,u)}function Rn(u){ji(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ys(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function sa(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Kt(y.h,u))){if(!u.K&&Kt(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)$o(y),Wn(y);else break e;zo(y),ut(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=Fn(C(y.Za,y),6e3));if(1>=kl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xr(y,11)}else if((u.K||y.g==u)&&$o(y),!ae(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let Le=j[p];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const It=Le[3];It!=null&&(y.la=It,y.j.info("VER="+y.la));const pt=Le[4];pt!=null&&(y.Aa=pt,y.j.info("SVER="+y.Aa));const kn=Le[5];kn!=null&&typeof kn=="number"&&0<kn&&(T=1.5*kn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const yn=u.g;if(yn){const Wi=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var H=T.h;H.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(T.D){const Wo=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(T.ya=Wo,Qe(T.I,T.D,Wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var oe=u;if(T.qa=$l(T,T.J?T.ia:null,T.W),oe.K){bl(T.h,oe);var We=oe,_t=T.L;_t&&(We.I=_t),We.B&&(ji(We),Xe(We)),T.g=oe}else Hi(T);0<y.i.length&&sr(y)}else Le[0]!="stop"&&Le[0]!="close"||xr(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?xr(y,7):Vt(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}Sr(4)}catch{}}var xl=class{constructor(u,p){this.g=u,this.map=p}};function Bi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function kl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function aa(u,p){u.g?u.g.add(p):u.h=p}function bl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Bi.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return z(u.i)}function Vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function Oo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function Hr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Oo(u),T=Vo(u),j=T.length,H=0;H<j;H++)p.call(void 0,T[H],y&&y[H],u)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),j=null;if(0<=T){var H=u[y].substring(0,T);j=u[y].substring(T+1)}else H=u[y];p(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ir(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ir){this.h=u.h,zi(this,u.j),this.o=u.o,this.g=u.g,Wr(this,u.s),this.l=u.l;var p=u.i,y=new rr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Kr(this,y),this.m=u.m}else u&&(p=String(u).match(Ui))?(this.h=!1,zi(this,p[1]||"",!0),this.o=Oe(p[2]||""),this.g=Oe(p[3]||"",!0),Wr(this,p[4]),this.l=Oe(p[5]||"",!0),Kr(this,p[6]||"",!0),this.m=Oe(p[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}Ir.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Gr(p,Lo,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Gr(p,Lo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Gr(y,y.charAt(0)=="/"?Ol:Vl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Gr(y,la)),u.join("")};function mn(u){return new Ir(u)}function zi(u,p,y){u.j=y?Oe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Wr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Kr(u,p,y){p instanceof rr?(u.i=p,ir(u.i,u.h)):(y||(p=Gr(p,Ll)),u.i=new rr(p,u.h))}function Qe(u,p,y){u.i.set(p,y)}function Qr(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Dl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lo=/[#\/\?@]/g,Vl=/[#\?:]/g,Ol=/[#\?]/g,Ll=/[#\?@]/g,la=/#/g;function rr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Dt(u){u.g||(u.g=new Map,u.h=0,u.i&&ed(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=rr.prototype,n.add=function(u,p){Dt(this),this.i=null,u=xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function zn(u,p){Dt(u),p=xn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function $n(u,p){return Dt(u),p=xn(u,p),u.g.has(p)}n.forEach=function(u,p){Dt(this),this.g.forEach(function(y,T){y.forEach(function(j){u.call(p,j,T,this)},this)},this)},n.na=function(){Dt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const j=u[T];for(let H=0;H<j.length;H++)y.push(p[T])}return y},n.V=function(u){Dt(this);let p=[];if(typeof u=="string")$n(this,u)&&(p=p.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return Dt(this),this.i=null,u=xn(this,u),$n(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Yr(u,p,y){zn(u,p),0<y.length&&(u.i=null,u.g.set(xn(u,p),z(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const H=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var j=H;oe[T]!==""&&(j+="="+encodeURIComponent(String(oe[T]))),u.push(j)}}return this.i=u.join("&")};function xn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ir(u,p){p&&!u.j&&(Dt(u),u.i=null,u.g.forEach(function(y,T){var j=T.toLowerCase();T!=j&&(zn(this,T),Yr(this,j,y))},u)),u.j=p}function td(u,p){const y=new Li;if(h.Image){const T=new Image;T.onload=D(Zt,y,"TestLoadImage: loaded",!0,p,T),T.onerror=D(Zt,y,"TestLoadImage: error",!1,p,T),T.onabort=D(Zt,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=D(Zt,y,"TestLoadImage: timeout",!1,p,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Ml(u,p){const y=new Li,T=new AbortController,j=setTimeout(()=>{T.abort(),Zt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?Zt(y,"TestPingServer: ok",!0,p):Zt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Zt(y,"TestPingServer: error",!1,p)})}function Zt(u,p,y,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(y)}catch{}}function nd(){this.g=new Zs}function Fl(u,p,y){const T=y||"";try{Hr(u,function(j,H){let oe=j;v(j)&&(oe=Xs(j)),p.push(T+H+"="+encodeURIComponent(oe))})}catch(j){throw p.push(T+"type="+encodeURIComponent("_badmap")),j}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}M(Ar,Vi),Ar.prototype.g=function(){return new $i(this.l,this.j)},Ar.prototype.i=function(u){return function(){return u}}({});function $i(u,p){vt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M($i,vt),n=$i.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Hn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||h).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?qn(this):Hn(this),this.readyState==3&&jl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},n.Qa=function(u){this.g&&(this.response=u,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pr(u){let p="";return Ae(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function Xr(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Pr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qe(u,p,y))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(nt,vt);var rd=/^https?$/i,ua=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ao(this.o):Ao(Bn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){qi(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)y.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),j=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ua,p,void 0))||T||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of y)this.g.setRequestHeader(H,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fo(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){qi(this,H)}};function qi(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Mo(u),gn(u)}function Mo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)Qs(u.Ea,0,u);else if(wt(u,"readystatechange"),en(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=oe===0){var j=String(u.D).match(Ui)[1]||null;!j&&h.self&&h.self.location&&(j=h.self.location.protocol.slice(0,-1)),T=!rd.test(j?j.toLowerCase():"")}y=T}if(y)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var H=2<en(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Mo(u)}}finally{gn(u)}}}}function gn(u,p){if(u.g){Fo(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||wt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Fo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Js(p)}};function da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jo(u){const p={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ae(u[T]))continue;var y=R(u[T]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=p[j]||[];p[j]=H,H.push(y)}O(p,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function ha(u){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(u&&u.concurrentRequestLimit),this.Da=new nd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,T){ut(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=$l(this,null,this.W),sr(this)};function Vt(u){if(Bo(u),u.G==3){var p=u.U++,y=mn(u.I);if(Qe(y,"SID",u.K),Qe(y,"RID",p),Qe(y,"TYPE","terminate"),Rr(u,y),p=new Un(u,u.j,p),p.L=2,p.v=Qr(mn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=p.v,y=!0),y||(p.g=ql(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xe(p)}zl(u)}function Wn(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function Bo(u){Wn(u),u.u&&(h.clearTimeout(u.u),u.u=null),$o(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function sr(u){if(!pn(u.h)&&!u.s){u.s=!0;var p=u.Ga;$||te(),K||($(),K=!0),le.add(p,u),u.B=0}}function id(u,p){return kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Fn(C(u.Ga,u,p),Ul(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Un(this,this.j,u);let H=this.o;if(this.S&&(H?(H=I(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Jr(this,j,p),y=mn(this.I),Qe(y,"RID",u),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),Rr(this,y),H&&(this.O?p="headers="+encodeURIComponent(String(Pr(H)))+"&"+p:this.m&&Xr(y,this.m,H)),aa(this.h,j),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",p),Qe(y,"SID","null"),j.T=!0,Do(j,y,null)):Do(j,y,p),this.G=2}}else this.G==3&&(u?Uo(this,u):this.i.length==0||pn(this.h)||Uo(this))};function Uo(u,p){var y;p?y=p.l:y=u.U++;const T=mn(u.I);Qe(T,"SID",u.K),Qe(T,"RID",y),Qe(T,"AID",u.T),Rr(u,T),u.m&&u.o&&Xr(T,u.m,u.o),y=new Un(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Jr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,y),Do(y,T,p)}function Rr(u,p){u.H&&Ae(u.H,function(y,T){Qe(p,T,y)}),u.l&&Hr({},function(y,T){Qe(p,T,y)})}function Jr(u,p,y){y=Math.min(u.i.length,y);var T=u.l?C(u.l.Na,u.l,u):null;e:{var j=u.i;let H=-1;for(;;){const oe=["count="+y];H==-1?0<y?(H=j[0].g,oe.push("ofs="+H)):H=0:oe.push("ofs="+H);let We=!0;for(let _t=0;_t<y;_t++){let Le=j[_t].g;const It=j[_t].map;if(Le-=H,0>Le)H=Math.max(0,j[_t].g-100),We=!1;else try{Fl(It,oe,"req"+Le+"_")}catch{T&&T(It)}}if(We){T=oe.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function Hi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$||te(),K||($(),K=!0),le.add(p,u),u.v=0}}function zo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Fn(C(u.Fa,u),Ul(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Fn(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Wn(this),Bl(this))};function fa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new Un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=mn(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),Rr(u,p),u.m&&u.o&&Xr(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Qr(mn(p)),y.m=null,y.P=!0,oa(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),zo(this),ut(19))};function $o(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function qo(u,p){var y=null;if(u.g==p){$o(u),fa(u),u.g=null;var T=2}else if(Kt(u.h,p))y=p.D,bl(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;T=Oi(),wt(T,new xo(T,y)),sr(u)}else Hi(u);else if(j=p.s,j==3||j==0&&0<p.X||!(T==1&&id(u,p)||T==2&&zo(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),j){case 1:xr(u,5);break;case 4:xr(u,10);break;case 3:xr(u,6);break;default:xr(u,2)}}}function Ul(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function xr(u,p){if(u.j.info("Error code "+p),p==2){var y=C(u.fb,u),T=u.Xa;const j=!T;T=new Ir(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zi(T,"https"),Qr(T),j?td(T.toString(),y):Ml(T.toString(),y)}else ut(2);u.G=0,u.l&&u.l.sa(p),zl(u),Bo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function zl(u){if(u.G=0,u.ka=[],u.l){const p=Nl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function $l(u,p,y){var T=y instanceof Ir?mn(y):new Ir(y);if(T.g!="")p&&(T.g=p+"."+T.g),Wr(T,T.s);else{var j=h.location;T=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var H=new Ir(null);T&&zi(H,T),p&&(H.g=p),j&&Wr(H,j),y&&(H.l=y),T=H}return y=u.D,p=u.ya,y&&p&&Qe(T,y,p),Qe(T,"VER",u.la),Rr(u,T),T}function ql(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new nt(new Ar({eb:y})):new nt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}n=pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ho(){}Ho.prototype.g=function(u,p){return new Qt(u,p)};function Qt(u,p){vt.call(this),this.g=new ha(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ae(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ae(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ar(this)}M(Qt,vt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Vt(this.g)},Qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Xs(u),u=y);p.i.push(new xl(p.Ya++,u)),p.G==3&&sr(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Qt.aa.N.call(this)};function Hl(u){tr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}M(Hl,tr);function Wl(){Ro.call(this),this.status=1}M(Wl,Ro);function ar(u){this.g=u}M(ar,pa),ar.prototype.ua=function(){wt(this.g,"a")},ar.prototype.ta=function(u){wt(this.g,new Hl(u))},ar.prototype.sa=function(u){wt(this.g,new Wl)},ar.prototype.ra=function(){wt(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Hv=function(){return new Ho},qv=function(){return Oi()},$v=nr,Zh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bo.NO_ERROR=0,bo.TIMEOUT=8,bo.HTTP_ERROR=6,Gu=bo,Il.COMPLETE="complete",zv=Il,Po.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ua=Po,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,Uv=nt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Jg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Vv("@firebase/firestore");function ps(){return fo.logLevel}function he(n,...e){if(fo.logLevel<=Fe.DEBUG){const t=e.map(Tf);fo.debug(`Firestore (${Ls}): ${n}`,...t)}}function Br(n,...e){if(fo.logLevel<=Fe.ERROR){const t=e.map(Tf);fo.error(`Firestore (${Ls}): ${n}`,...t)}}function Is(n,...e){if(fo.logLevel<=Fe.WARN){const t=e.map(Tf);fo.warn(`Firestore (${Ls}): ${n}`,...t)}}function Tf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function Be(n,e){n||Ce()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Os{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class J2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Z2{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let o=this.i;const s=g=>this.i!==o?(o=this.i,t(g)):Promise.resolve();let l=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},h=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>h(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Be(typeof o.accessToken=="string"),new Wv(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ht(e)}}class eT{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tT{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new eT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const o=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new nT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<n;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=iT(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=e.charAt(s[l]%e.length))}return o}}function je(n,e){return n<e?-1:n>e?1:0}function As(n,e,t){return n.length===e.length&&n.every((o,s)=>t(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ct(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ct(0,0))}static max(){return new Se(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,o){t===void 0?t=0:t>e.length&&Ce(),o===void 0?o=e.length-t:o>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const l=e.get(s),d=t.get(s);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends Za{construct(e,t,o){return new Ge(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const oT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Za{construct(e,t,o){return new Ft(e,t,o)}static isValidIdentifier(e){return oT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const t=[];let o="",s=0;const l=()=>{if(o.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,s+=2}else h==="`"?(d=!d,s++):h!=="."||d?(o+=h,s++):(l(),s++)}if(l(),d)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Ge.fromString(e))}static fromName(e){return new we(Ge.fromString(e).popFirst(5))}static empty(){return new we(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Ge(e.slice()))}}function sT(n,e){const t=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(o===1e9?new Ct(t+1,0):new Ct(t,o));return new Ti(s,we.empty(),e)}function aT(n){return new Ti(n.readTime,n.key,-1)}class Ti{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ti(Se.min(),we.empty(),-1)}static max(){return new Ti(Se.max(),we.empty(),-1)}}function lT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==uT)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,o)=>{t(e)})}static reject(e){return new Y((t,o)=>{o(e)})}static waitFor(e){return new Y((t,o)=>{let s=0,l=0,d=!1;e.forEach(h=>{++s,h.next(()=>{++l,d&&l===s&&t()},g=>o(g))}),d=!0,l===s&&t()})}static or(e){let t=Y.resolve(!1);for(const o of e)t=t.next(s=>s?Y.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,l)=>{o.push(t.call(this,s,l))}),this.waitFor(o)}static mapArray(e,t){return new Y((o,s)=>{const l=e.length,d=new Array(l);let h=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next(_=>{d[v]=_,++h,h===l&&o(d)},_=>s(_))}})}static doWhile(e,t){return new Y((o,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):o()};l()})}}function dT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fs(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ie(o),this.se=o=>t.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xc.oe=-1;function ll(n){return n==null}function lc(n){return n===0&&1/n==-1/0}function hT(n){return typeof n=="number"&&Number.isInteger(n)&&!lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zg(e)),e=pT(n.get(t),e);return Zg(e)}function pT(n,e){let t=e;const o=n.length;for(let s=0;s<o;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Zg(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,o,s,l){this.key=e,this.value=t,this.color=o??Mt.RED,this.left=s??Mt.EMPTY,this.right=l??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,l){return new Mt(e??this.key,t??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,o),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,o,s,l){return this}insert(e,t,o){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ty(this.data.getIterator())}getIteratorFrom(e){return new ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new En([])}unionWith(e){let t=new bt(Ft.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Gv("Invalid base64 string: "+l):l}}(e);return new jt(t)}static fromUint8Array(e){const t=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const mT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(n){if(Be(!!n),typeof n=="string"){let e=0;const t=mT.exec(n);if(Be(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function kc(n){const e=n.mapValue.fields.__previous_value__;return Cf(e)?kc(e):e}function el(n){const e=Ci(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t,o,s,l,d,h,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=v}}class tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cf(n)?4:vT(n)?9007199254740991:yT(n)?10:11:Ce()}function yr(n,e){if(n===e)return!0;const t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return el(n).isEqual(el(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=Ci(s.timestampValue),h=Ci(l.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Si(s.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return ht(s.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return ht(s.integerValue)===ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=ht(s.doubleValue),h=ht(l.doubleValue);return d===h?lc(d)===lc(h):isNaN(d)&&isNaN(h)}return!1}(n,e);case 9:return As(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(s,l){const d=s.mapValue.fields||{},h=l.mapValue.fields||{};if(ey(d)!==ey(h))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(h[g]===void 0||!yr(d[g],h[g])))return!1;return!0}(n,e);default:return Ce()}}function nl(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function Ps(n,e){if(n===e)return 0;const t=Ii(n),o=Ii(e);if(t!==o)return je(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(l,d){const h=ht(l.integerValue||l.doubleValue),g=ht(d.integerValue||d.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return ny(n.timestampValue,e.timestampValue);case 4:return ny(el(n),el(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(l,d){const h=Si(l),g=Si(d);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const h=l.split("/"),g=d.split("/");for(let v=0;v<h.length&&v<g.length;v++){const _=je(h[v],g[v]);if(_!==0)return _}return je(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const h=je(ht(l.latitude),ht(d.latitude));return h!==0?h:je(ht(l.longitude),ht(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ry(n.arrayValue,e.arrayValue);case 10:return function(l,d){var h,g,v,_;const E=l.fields||{},C=d.fields||{},D=(h=E.value)===null||h===void 0?void 0:h.arrayValue,M=(g=C.value)===null||g===void 0?void 0:g.arrayValue,z=je(((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:ry(D,M)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===zu.mapValue&&d===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const h=l.fields||{},g=Object.keys(h),v=d.fields||{},_=Object.keys(v);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const C=je(g[E],_[E]);if(C!==0)return C;const D=Ps(h[g[E]],v[_[E]]);if(D!==0)return D}return je(g.length,_.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function ny(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ci(n),o=Ci(e),s=je(t.seconds,o.seconds);return s!==0?s:je(t.nanos,o.nanos)}function ry(n,e){const t=n.values||[],o=e.values||[];for(let s=0;s<t.length&&s<o.length;++s){const l=Ps(t[s],o[s]);if(l)return l}return je(t.length,o.length)}function Rs(n){return ef(n)}function ef(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const o=Ci(t);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let o="[",s=!0;for(const l of t.values||[])s?s=!1:o+=",",o+=ef(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(t){const o=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const d of o)l?l=!1:s+=",",s+=`${d}:${ef(t.fields[d])}`;return s+"}"}(n.mapValue):Ce()}function Yu(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+Yu(l),0)}(n.arrayValue);case 10:case 11:return function(o){let s=0;return xi(o.fields,(l,d)=>{s+=l.length+Yu(d)}),s}(n.mapValue);default:throw Ce()}}function iy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tf(n){return!!n&&"integerValue"in n}function Sf(n){return!!n&&"arrayValue"in n}function oy(n){return!!n&&"nullValue"in n}function sy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function yT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xi(n.mapValue.fields,(t,o)=>e.mapValue.fields[t]=qa(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Ft.emptyPath(),o={},s=[];e.forEach((d,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,o,s),o={},s=[],t=h.popLast()}d?o[h.lastSegment()]=qa(d):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,s)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];Xu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){xi(t,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new Xt(qa(this.value))}}function Yv(n){const e=[];return xi(n.fields,(t,o)=>{const s=new Ft([t]);if(Xu(o)){const l=Yv(o.mapValue).fields;if(l.length===0)e.push(s);else for(const d of l)e.push(s.child(d))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t,o,s,l,d,h){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.createTime=l,this.data=d,this.documentState=h}static newInvalidDocument(e){return new kt(e,0,Se.min(),Se.min(),Se.min(),Xt.empty(),0)}static newFoundDocument(e,t,o,s){return new kt(e,1,t,Se.min(),o,s,0)}static newNoDocument(e,t){return new kt(e,2,t,Se.min(),Se.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new kt(e,3,t,Se.min(),Se.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.position=e,this.inclusive=t}}function ay(n,e,t){let o=0;for(let s=0;s<n.position.length;s++){const l=e[s],d=n.position[s];if(l.field.isKeyField()?o=we.comparator(we.fromName(d.referenceValue),t.key):o=Ps(d,t.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function ly(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function wT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{}class yt extends Xv{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new ET(e,t,o):t==="array-contains"?new ST(e,o):t==="in"?new IT(e,o):t==="not-in"?new AT(e,o):t==="array-contains-any"?new PT(e,o):new yt(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new TT(e,o):new CT(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ps(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(Ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Xv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new er(e,t)}matches(e){return Jv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jv(n){return n.op==="and"}function Zv(n){return _T(n)&&Jv(n)}function _T(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function nf(n){if(n instanceof yt)return n.field.canonicalString()+n.op.toString()+Rs(n.value);if(Zv(n))return n.filters.map(e=>nf(e)).join(",");{const e=n.filters.map(t=>nf(t)).join(",");return`${n.op}(${e})`}}function ew(n,e){return n instanceof yt?function(o,s){return s instanceof yt&&o.op===s.op&&o.field.isEqual(s.field)&&yr(o.value,s.value)}(n,e):n instanceof er?function(o,s){return s instanceof er&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,d,h)=>l&&ew(d,s.filters[h]),!0):!1}(n,e):void Ce()}function tw(n){return n instanceof yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Rs(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(tw).join(" ,")+"}"}(n):"Filter"}class ET extends yt{constructor(e,t,o){super(e,t,o),this.key=we.fromName(o.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class TT extends yt{constructor(e,t){super(e,"in",t),this.keys=nw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CT extends yt{constructor(e,t){super(e,"not-in",t),this.keys=nw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>we.fromName(o.referenceValue))}class ST extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sf(t)&&nl(t.arrayValue,this.value)}}class IT extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nl(this.value.arrayValue,t)}}class AT extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nl(this.value.arrayValue,t)}}class PT extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>nl(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t=null,o=[],s=[],l=null,d=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=d,this.endAt=h,this.ue=null}}function uy(n,e=null,t=[],o=[],s=null,l=null,d=null){return new RT(n,e,t,o,s,l,d)}function If(n){const e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>nf(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),ll(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Rs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Rs(o)).join(",")),e.ue=t}return e.ue}function Af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ew(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ly(n.startAt,e.startAt)&&ly(n.endAt,e.endAt)}function rf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t=null,o=[],s=[],l=null,d="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=d,this.startAt=h,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xT(n,e,t,o,s,l,d,h){return new ul(n,e,t,o,s,l,d,h)}function Pf(n){return new ul(n)}function cy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rw(n){return n.collectionGroup!==null}function Ha(n){const e=Re(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let h=new bt(Ft.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(h=h.add(v.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new cc(l,o))}),t.has(Ft.keyField().canonicalString())||e.ce.push(new cc(Ft.keyField(),o))}return e.ce}function mr(n){const e=Re(n);return e.le||(e.le=kT(e,Ha(n))),e.le}function kT(n,e){if(n.limitType==="F")return uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new cc(s.field,l)});const t=n.endAt?new uc(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new uc(n.startAt.position,n.startAt.inclusive):null;return uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,o)}}function of(n,e){const t=n.filters.concat([e]);return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sf(n,e,t){return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bc(n,e){return Af(mr(n),mr(e))&&n.limitType===e.limitType}function iw(n){return`${If(mr(n))}|lt:${n.limitType}`}function ms(n){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>tw(s)).join(", ")}]`),ll(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>Rs(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>Rs(s)).join(",")),`Target(${o})`}(mr(n))}; limitType=${n.limitType})`}function Nc(n,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):we.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(n,e)&&function(o,s){for(const l of Ha(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(o,s){return!(o.startAt&&!function(d,h,g){const v=ay(d,h,g);return d.inclusive?v<=0:v<0}(o.startAt,Ha(o),s)||o.endAt&&!function(d,h,g){const v=ay(d,h,g);return d.inclusive?v>=0:v>0}(o.endAt,Ha(o),s))}(n,e)}function bT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ow(n){return(e,t)=>{let o=!1;for(const s of Ha(n)){const l=NT(s,e,t);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function NT(n,e,t){const o=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,d,h){const g=d.data.field(l),v=h.data.field(l);return g!==null&&v!==null?Ps(g,v):Ce()}(n.field,e,t);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return Qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new st(we.comparator);function Ur(){return DT}const sw=new st(we.comparator);function za(...n){let e=sw;for(const t of n)e=e.insert(t.key,t);return e}function aw(n){let e=sw;return n.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function uo(){return Wa()}function lw(){return Wa()}function Wa(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const VT=new st(we.comparator),OT=new bt(we.comparator);function Ve(...n){let e=OT;for(const t of n)e=e.add(t);return e}const LT=new bt(je);function MT(){return LT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function uw(n){return{integerValue:""+n}}function FT(n,e){return hT(e)?uw(e):Rf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function jT(n,e,t){return n instanceof rl?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Cf(l)&&(l=kc(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof il?dw(n,e):n instanceof ol?hw(n,e):function(s,l){const d=cw(s,l),h=dy(d)+dy(s.Pe);return tf(d)&&tf(s.Pe)?uw(h):Rf(s.serializer,h)}(n,e)}function BT(n,e,t){return n instanceof il?dw(n,e):n instanceof ol?hw(n,e):t}function cw(n,e){return n instanceof dc?function(o){return tf(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class rl extends Dc{}class il extends Dc{constructor(e){super(),this.elements=e}}function dw(n,e){const t=fw(e);for(const o of n.elements)t.some(s=>yr(s,o))||t.push(o);return{arrayValue:{values:t}}}class ol extends Dc{constructor(e){super(),this.elements=e}}function hw(n,e){let t=fw(e);for(const o of n.elements)t=t.filter(s=>!yr(s,o));return{arrayValue:{values:t}}}class dc extends Dc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function dy(n){return ht(n.integerValue||n.doubleValue)}function fw(n){return Sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.field=e,this.transform=t}}function zT(n,e){return n.field.isEqual(e.field)&&function(o,s){return o instanceof il&&s instanceof il||o instanceof ol&&s instanceof ol?As(o.elements,s.elements,yr):o instanceof dc&&s instanceof dc?yr(o.Pe,s.Pe):o instanceof rl&&s instanceof rl}(n.transform,e.transform)}class $T{constructor(e,t){this.version=e,this.transformResults=t}}class un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vc{}function pw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xf(n.key,un.none()):new cl(n.key,n.data,un.none());{const t=n.data,o=Xt.empty();let s=new bt(Ft.comparator);for(let l of e.fields)if(!s.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?o.delete(l):o.set(l,d),s=s.add(l)}return new ki(n.key,o,new En(s.toArray()),un.none())}}function qT(n,e,t){n instanceof cl?function(s,l,d){const h=s.value.clone(),g=fy(s.fieldTransforms,l,d.transformResults);h.setAll(g),l.convertToFoundDocument(d.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(s,l,d){if(!Ju(s.precondition,l))return void l.convertToUnknownDocument(d.version);const h=fy(s.fieldTransforms,l,d.transformResults),g=l.data;g.setAll(mw(s)),g.setAll(h),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,e,t):function(s,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Ka(n,e,t,o){return n instanceof cl?function(l,d,h,g){if(!Ju(l.precondition,d))return h;const v=l.value.clone(),_=py(l.fieldTransforms,g,d);return v.setAll(_),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(n,e,t,o):n instanceof ki?function(l,d,h,g){if(!Ju(l.precondition,d))return h;const v=py(l.fieldTransforms,g,d),_=d.data;return _.setAll(mw(l)),_.setAll(v),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,o):function(l,d,h){return Ju(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):h}(n,e,t)}function HT(n,e){let t=null;for(const o of n.fieldTransforms){const s=e.data.field(o.field),l=cw(o.transform,s||null);l!=null&&(t===null&&(t=Xt.empty()),t.set(o.field,l))}return t||null}function hy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&As(o,s,(l,d)=>zT(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cl extends Vc{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ki extends Vc{constructor(e,t,o,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=n.data.field(t);e.set(t,o)}}),e}function fy(n,e,t){const o=new Map;Be(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],d=l.transform,h=e.data.field(l.field);o.set(l.field,BT(d,h,t[s]))}return o}function py(n,e,t){const o=new Map;for(const s of n){const l=s.transform,d=t.data.field(s.field);o.set(s.field,jT(l,d,e))}return o}class xf extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&qT(l,e,o[s])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ka(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ka(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=lw();return this.mutations.forEach(s=>{const l=e.get(s.key),d=l.overlayedDocument;let h=this.applyToLocalView(d,l.mutatedFields);h=t.has(s.key)?null:h;const g=pw(d,h);g!==null&&o.set(s.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(t,o)=>hy(t,o))&&As(this.baseMutations,e.baseMutations,(t,o)=>hy(t,o))}}class kf{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){Be(e.mutations.length===o.length);let s=function(){return VT}();const l=e.mutations;for(let d=0;d<l.length;d++)s=s.insert(l[d].key,o[d].version);return new kf(e,t,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Me;function yw(n){switch(n){default:return Ce();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function vw(n){if(n===void 0)return Br("GRPC error has no .code"),G.UNKNOWN;switch(n){case gt.OK:return G.OK;case gt.CANCELLED:return G.CANCELLED;case gt.UNKNOWN:return G.UNKNOWN;case gt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case gt.INTERNAL:return G.INTERNAL;case gt.UNAVAILABLE:return G.UNAVAILABLE;case gt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case gt.NOT_FOUND:return G.NOT_FOUND;case gt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case gt.ABORTED:return G.ABORTED;case gt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case gt.DATA_LOSS:return G.DATA_LOSS;default:return Ce()}}(Me=gt||(gt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new co([4294967295,4294967295],0);function my(n){const e=GT().encode(n),t=new Bv;return t.update(e),new Uint8Array(t.digest())}function gy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new co([t,o],0),new co([s,l],0)]}class bf{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(o<0)throw new $a(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=co.fromNumber(this.Ie)}Ee(e,t,o){let s=e.add(t.multiply(co.fromNumber(o)));return s.compare(YT)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=my(e),[o,s]=gy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(o,s,l);if(!this.de(d))return!1}return!0}static create(e,t,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new bf(l,s,t);return o.forEach(h=>d.insert(h)),d}insert(e){if(this.Ie===0)return;const t=my(e),[o,s]=gy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(o,s,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,o,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const s=new Map;return s.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Oc(Se.min(),s,new st(je),Ur(),Ve())}}class dl{constructor(e,t,o,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new dl(o,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,o,s){this.Re=e,this.removedTargetIds=t,this.key=o,this.Ve=s}}class ww{constructor(e,t){this.targetId=e,this.me=t}}class _w{constructor(e,t,o=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class yy{constructor(){this.fe=0,this.ge=wy(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),o=Ve();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Ce()}}),new dl(this.pe,this.ye,e,t,o)}Ce(){this.we=!1,this.ge=wy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=vy(),this.Qe=new st(je)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const o=this.Ge(t);switch(e.state){case 0:this.ze(t)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),o.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((o,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,o=e.me.count,s=this.Je(t);if(s){const l=s.target;if(rf(l))if(o===0){const d=new we(l.path);this.Ue(t,d,kt.newNoDocument(d,Se.min()))}else Be(o===1);else{const d=this.Ye(t);if(d!==o){const h=this.Ze(e),g=h?this.Xe(h,e,d):1;if(g!==0){this.je(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=t;let d,h;try{d=Si(o).toUint8Array()}catch(g){if(g instanceof Gv)return Is("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new bf(d,s,l)}catch(g){return Is(g instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return h.Ie===0?null:h}Xe(e,t,o){return t.me.count===o-this.nt(e,t.targetId)?0:2}nt(e,t){const o=this.Le.getRemoteKeysForTarget(t);let s=0;return o.forEach(l=>{const d=this.Le.tt(),h=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,l,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((l,d)=>{const h=this.Je(d);if(h){if(l.current&&rf(h.target)){const g=new we(h.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,kt.newNoDocument(g,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let o=Ve();this.qe.forEach((l,d)=>{let h=!0;d.forEachWhile(g=>{const v=this.Je(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(o=o.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const s=new Oc(e,t,this.Qe,this.ke,o);return this.ke=Ur(),this.qe=vy(),this.Qe=new st(je),s}$e(e,t){if(!this.ze(e))return;const o=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,o),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,o){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),o&&(this.ke=this.ke.insert(t,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new yy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(je),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function vy(){return new st(we.comparator)}function wy(){return new st(we.comparator)}const JT={asc:"ASCENDING",desc:"DESCENDING"},ZT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function af(n,e){return n.useProto3Json||ll(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nC(n,e){return hc(n,e.toTimestamp())}function Tn(n){return Be(!!n),Se.fromTimestamp(function(t){const o=Ci(t);return new Ct(o.seconds,o.nanos)}(n))}function Nf(n,e){return lf(n,e).canonicalString()}function lf(n,e){const t=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Tw(n){const e=Ge.fromString(n);return Be(Rw(e)),e}function fc(n,e){return Nf(n.databaseId,e.path)}function Qa(n,e){const t=Tw(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Sw(t))}function Cw(n,e){return Nf(n.databaseId,e)}function rC(n){const e=Tw(n);return e.length===4?Ge.emptyPath():Sw(e)}function uf(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Sw(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _y(n,e,t){return{name:fc(n,e),fields:t.value.mapValue.fields}}function iC(n,e){return"found"in e?function(o,s){Be(!!s.found),s.found.name,s.found.updateTime;const l=Qa(o,s.found.name),d=Tn(s.found.updateTime),h=s.found.createTime?Tn(s.found.createTime):Se.min(),g=new Xt({mapValue:{fields:s.found.fields}});return kt.newFoundDocument(l,d,h,g)}(n,e):"missing"in e?function(o,s){Be(!!s.missing),Be(!!s.readTime);const l=Qa(o,s.missing),d=Tn(s.readTime);return kt.newNoDocument(l,d)}(n,e):Ce()}function oC(n,e){let t;if("targetChange"in e){e.targetChange;const o=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(v,_){return v.useProto3Json?(Be(_===void 0||typeof _=="string"),jt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),jt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&function(v){const _=v.code===void 0?G.UNKNOWN:vw(v.code);return new ce(_,v.message||"")}(d);t=new _w(o,s,l,h||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Qa(n,o.document.name),l=Tn(o.document.updateTime),d=o.document.createTime?Tn(o.document.createTime):Se.min(),h=new Xt({mapValue:{fields:o.document.fields}}),g=kt.newFoundDocument(s,l,d,h),v=o.targetIds||[],_=o.removedTargetIds||[];t=new Zu(v,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Qa(n,o.document),l=o.readTime?Tn(o.readTime):Se.min(),d=kt.newNoDocument(s,l),h=o.removedTargetIds||[];t=new Zu([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Qa(n,o.document),l=o.removedTargetIds||[];t=new Zu([],l,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,d=new QT(s,l),h=o.targetId;t=new ww(h,d)}}return t}function Iw(n,e){let t;if(e instanceof cl)t={update:_y(n,e.key,e.value)};else if(e instanceof xf)t={delete:fc(n,e.key)};else if(e instanceof ki)t={update:_y(n,e.key,e.data),updateMask:pC(e.fieldMask)};else{if(!(e instanceof gw))return Ce();t={verify:fc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,d){const h=d.transform;if(h instanceof rl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dc)return{fieldPath:d.field.canonicalString(),increment:h.Pe};throw Ce()}(0,o))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:nC(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce()}(n,e.precondition)),t}function sC(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(s,l){let d=s.updateTime?Tn(s.updateTime):Tn(l);return d.isEqual(Se.min())&&(d=Tn(l)),new $T(d,s.transformResults||[])}(t,e))):[]}function aC(n,e){return{documents:[Cw(n,e.path)]}}function lC(n,e){const t={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=Cw(n,s);const l=function(v){if(v.length!==0)return Pw(er.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(v){if(v.length!==0)return v.map(_=>function(C){return{field:gs(C.field),direction:dC(C.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const h=af(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{_t:t,parent:s}}function uC(n){let e=rC(n.parent);const t=n.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){Be(o===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const C=Aw(E);return C instanceof er&&Zv(C)?C.getFilters():[C]}(t.where));let d=[];t.orderBy&&(d=function(E){return E.map(C=>function(M){return new cc(ys(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(C))}(t.orderBy));let h=null;t.limit&&(h=function(E){let C;return C=typeof E=="object"?E.value:E,ll(C)?null:C}(t.limit));let g=null;t.startAt&&(g=function(E){const C=!!E.before,D=E.values||[];return new uc(D,C)}(t.startAt));let v=null;return t.endAt&&(v=function(E){const C=!E.before,D=E.values||[];return new uc(D,C)}(t.endAt)),xT(e,s,d,l,h,"F",g,v)}function cC(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=ys(t.unaryFilter.field);return yt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=ys(t.unaryFilter.field);return yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ys(t.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ys(t.unaryFilter.field);return yt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return yt.create(ys(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(o=>Aw(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function dC(n){return JT[n]}function hC(n){return ZT[n]}function fC(n){return eC[n]}function gs(n){return{fieldPath:n.canonicalString()}}function ys(n){return Ft.fromServerFormat(n.fieldPath)}function Pw(n){return n instanceof yt?function(t){if(t.op==="=="){if(sy(t.value))return{unaryFilter:{field:gs(t.field),op:"IS_NAN"}};if(oy(t.value))return{unaryFilter:{field:gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sy(t.value))return{unaryFilter:{field:gs(t.field),op:"IS_NOT_NAN"}};if(oy(t.value))return{unaryFilter:{field:gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(t.field),op:hC(t.op),value:t.value}}}(n):n instanceof er?function(t){const o=t.getFilters().map(s=>Pw(s));return o.length===1?o[0]:{compositeFilter:{op:fC(t.op),filters:o}}}(n):Ce()}function pC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,o,s,l=Se.min(),d=Se.min(),h=jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.ct=e}}function gC(n){const e=uC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.un=new vC}addToCollectionParentIndex(e,t){return this.un.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ti.min())}updateCollectionGroup(e,t,o){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class vC{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new bt(Ge.comparator),l=!s.has(o);return this.index[t]=s.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new bt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xs(0)}static kn(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty([n,e],[t,o]){const s=je(n,t);return s===0?je(e,o):s}class wC{constructor(e){this.Un=e,this.buffer=new bt(Ty),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ty(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fs(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ms(t)}await this.Hn(3e5)})}}class EC{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(xc.oe);const o=new wC(t);return this.Jn.forEachTarget(e,s=>o.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>o.zn(s))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ey)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let o,s,l,d,h,g,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,d=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(o=E,h=Date.now(),this.removeTargets(e,o,t))).next(E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(E=>(v=Date.now(),ps()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${s} in `+(h-d)+`ms
	Removed ${l} targets in `+(g-h)+`ms
	Removed ${E} documents in `+(v-g)+`ms
Total Duration: ${v-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function TC(n,e){return new EC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?Y.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,o,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(o!==null&&Ka(o.mutation,s,En.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Ve()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Ve()){const s=uo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,o).next(l=>{let d=za();return l.forEach((h,g)=>{d=d.insert(h,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const o=uo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Ve()))}populateOverlays(e,t,o){const s=[];return o.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((d,h)=>{t.set(d,h)})})}computeViews(e,t,o,s){let l=Ur();const d=Wa(),h=function(){return Wa()}();return t.forEach((g,v)=>{const _=o.get(v.key);s.has(v.key)&&(_===void 0||_.mutation instanceof ki)?l=l.insert(v.key,v):_!==void 0?(d.set(v.key,_.mutation.getFieldMask()),Ka(_.mutation,v,_.mutation.getFieldMask(),Ct.now())):d.set(v.key,En.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((v,_)=>d.set(v,_)),t.forEach((v,_)=>{var E;return h.set(v,new SC(_,(E=d.get(v))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const o=Wa();let s=new st((d,h)=>d-h),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const h of d)h.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let _=o.get(g)||En.empty();_=h.applyToLocalView(v,_),o.set(g,_);const E=(s.get(h.batchId)||Ve()).add(g);s=s.insert(h.batchId,E)})}).next(()=>{const d=[],h=s.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,_=g.value,E=lw();_.forEach(C=>{if(!l.has(C)){const D=pw(t.get(C),o.get(C));D!==null&&E.set(C,D),l=l.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Y.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,s){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,s):this.getDocumentsMatchingCollectionQuery(e,t,o,s)}getNextDocuments(e,t,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,s).next(l=>{const d=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,s-l.size):Y.resolve(uo());let h=-1,g=l;return d.next(v=>Y.forEach(v,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),l.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{g=g.insert(_,C)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,g,v,Ve())).next(_=>({batchId:h,changes:aw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(o=>{let s=za();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,o,s){const l=t.collectionGroup;let d=za();return this.indexManager.getCollectionParents(e,l).next(h=>Y.forEach(h,g=>{const v=function(E,C){return new ul(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,o,s).next(_=>{_.forEach((E,C)=>{d=d.insert(E,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l,s))).next(d=>{l.forEach((g,v)=>{const _=v.getKey();d.get(_)===null&&(d=d.insert(_,kt.newInvalidDocument(_)))});let h=za();return d.forEach((g,v)=>{const _=l.get(g);_!==void 0&&Ka(_.mutation,v,En.empty(),Ct.now()),Nc(t,v)&&(h=h.insert(g,v))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Y.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Tn(s.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:gC(s.bundledQuery),readTime:Tn(s.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.overlays=new st(we.comparator),this.Ir=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const o=uo();return Y.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((s,l)=>{this.ht(e,t,l)}),Y.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.Ir.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(o)),Y.resolve()}getOverlaysForCollection(e,t,o){const s=uo(),l=t.length+1,d=new we(t.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>o&&s.set(g.getKey(),g)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let l=new st((v,_)=>v-_);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>o){let _=l.get(v.largestBatchId);_===null&&(_=uo(),l=l.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=uo(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,_)=>h.set(v,_)),!(h.size()>=s)););return Y.resolve(h)}ht(e,t,o){const s=this.overlays.get(o.key);if(s!==null){const d=this.Ir.get(s.largestBatchId).delete(o.key);this.Ir.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new KT(t,o));let l=this.Ir.get(t);l===void 0&&(l=Ve(),this.Ir.set(t,l)),this.Ir.set(t,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.Tr=new bt(xt.Er),this.dr=new bt(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const o=new xt(e,t);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Vr(new xt(e,t))}mr(e,t){e.forEach(o=>this.removeReference(o,t))}gr(e){const t=new we(new Ge([])),o=new xt(t,e),s=new xt(t,e+1),l=[];return this.dr.forEachInRange([o,s],d=>{this.Vr(d),l.push(d.key)}),l}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new we(new Ge([])),o=new xt(t,e),s=new xt(t,e+1);let l=Ve();return this.dr.forEachInRange([o,s],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new xt(e,0),o=this.Tr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class xt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return we.comparator(e.key,t.key)||je(e.wr,t.wr)}static Ar(e,t){return je(e.wr,t.wr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bt(xt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,s){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new WT(l,t,o,s);this.mutationQueue.push(d);for(const h of s)this.br=this.br.add(new xt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,t){return Y.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,s=this.vr(o),l=s<0?0:s;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new xt(t,0),s=new xt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([o,s],d=>{const h=this.Dr(d.wr);l.push(h)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new bt(je);return t.forEach(s=>{const l=new xt(s,0),d=new xt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,d],h=>{o=o.add(h.wr)})}),Y.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let l=o;we.isDocumentKey(l)||(l=l.child(""));const d=new xt(new we(l),0);let h=new bt(je);return this.br.forEachWhile(g=>{const v=g.key.path;return!!o.isPrefixOf(v)&&(v.length===s&&(h=h.add(g.wr)),!0)},d),Y.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach(o=>{const s=this.Dr(o);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return Y.forEach(t.mutations,s=>{const l=new xt(s.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,t){const o=new xt(t,0),s=this.br.firstAfterOrEqual(o);return Y.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Mr=e,this.docs=function(){return new st(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),l=s?s.size:0,d=this.Mr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Y.resolve(o?o.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let o=Ur();return t.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():kt.newInvalidDocument(s))}),Y.resolve(o)}getDocumentsMatchingQuery(e,t,o,s){let l=Ur();const d=t.path,h=new we(d.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||lT(aT(_),o)<=0||(s.has(_.key)||Nc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,o,s){Ce()}Or(e,t){return Y.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new bC(this)}getSize(e){return Y.resolve(this.size)}}class bC extends CC{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(o)}),Y.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.persistence=e,this.Nr=new yo(t=>If(t),Af),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Df,this.targetCount=0,this.kr=xs.Bn()}forEachTarget(e,t){return this.Nr.forEach((o,s)=>t(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Lr&&(this.Lr=t),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new xs(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Kn(t),Y.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,o){let s=0;const l=[];return this.Nr.forEach((d,h)=>{h.sequenceNumber<=t&&o.get(h.targetId)===null&&(this.Nr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(l).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const o=this.Nr.get(t)||null;return Y.resolve(o)}addMatchingKeys(e,t,o){return this.Br.Rr(t,o),Y.resolve()}removeMatchingKeys(e,t,o){this.Br.mr(t,o);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(d=>{l.push(s.markPotentiallyOrphaned(e,d))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Br.yr(t);return Y.resolve(o)}containsKey(e,t){return Y.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.qr={},this.overlays={},this.Qr=new xc(0),this.Kr=!1,this.Kr=!0,this.$r=new RC,this.referenceDelegate=e(this),this.Ur=new NC(this),this.indexManager=new yC,this.remoteDocumentCache=function(s){return new kC(s)}(o=>this.referenceDelegate.Wr(o)),this.serializer=new mC(t),this.Gr=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.qr[e.toKey()];return o||(o=new xC(t,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,o){he("MemoryPersistence","Starting transaction:",e);const s=new DC(this.Qr.next());return this.referenceDelegate.zr(),o(s).next(l=>this.referenceDelegate.jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Hr(e,t){return Y.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,t)))}}class DC extends cT{constructor(e){super(),this.currentSequenceNumber=e}}class Vf{constructor(e){this.persistence=e,this.Jr=new Df,this.Yr=null}static Zr(e){return new Vf(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,t,o){return this.Jr.addReference(o,t),this.Xr.delete(o.toString()),Y.resolve()}removeReference(e,t,o){return this.Jr.removeReference(o,t),this.Xr.add(o.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Xr.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,o=>{const s=we.fromPath(o);return this.ei(e,s).next(l=>{l||t.removeEntry(s,Se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(o=>{o?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Y.or([()=>Y.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class pc{constructor(e,t){this.persistence=e,this.ti=new yo(o=>fT(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=TC(this,t)}static Zr(e,t){return new pc(e,t)}zr(){}jr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(s=>o+s))}er(e){let t=0;return this.Zn(e,o=>{t++}).next(()=>t)}Zn(e,t){return Y.forEach(this.ti,(o,s)=>this.nr(e,o,s).next(l=>l?Y.resolve():t(s)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Or(e,d=>this.nr(e,d,t).next(h=>{h||(o++,l.removeEntry(d,Se.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.ti.set(o,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,o){return this.ti.set(o,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),Y.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yu(e.data.value)),t}nr(e,t,o){return Y.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ti.get(t);return Y.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.$i=o,this.Ui=s}static Wi(e,t){let o=Ve(),s=Ve();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Of(e,t.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OE()?8:dT(DE())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,o,s){const l={result:null};return this.Yi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.Zi(e,t,s,o).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new VC;return this.Xi(e,t,d).next(h=>{if(l.result=h,this.zi)return this.es(e,t,d,h.size)})}).next(()=>l.result)}es(e,t,o,s){return o.documentReadCount<this.ji?(ps()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ms(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(ps()<=Fe.DEBUG&&he("QueryEngine","Query:",ms(t),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Hi*s?(ps()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ms(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):Y.resolve())}Yi(e,t){if(cy(t))return Y.resolve(null);let o=mr(t);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=sf(t,null,"F"),o=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const d=Ve(...l);return this.Ji.getDocuments(e,d).next(h=>this.indexManager.getMinOffset(e,o).next(g=>{const v=this.ts(t,h);return this.ns(t,v,d,g.readTime)?this.Yi(e,sf(t,null,"F")):this.rs(e,v,t,g)}))})))}Zi(e,t,o,s){return cy(t)||s.isEqual(Se.min())?Y.resolve(null):this.Ji.getDocuments(e,o).next(l=>{const d=this.ts(t,l);return this.ns(t,d,o,s)?Y.resolve(null):(ps()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ms(t)),this.rs(e,d,t,sT(s,-1)).next(h=>h))})}ts(e,t){let o=new bt(ow(e));return t.forEach((s,l)=>{Nc(e,l)&&(o=o.add(l))}),o}ns(e,t,o,s){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Xi(e,t,o){return ps()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ms(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ti.min(),o)}rs(e,t,o,s){return this.Ji.getDocumentsMatchingQuery(e,o,s).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,o,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new st(je),this._s=new yo(l=>If(l),Af),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function MC(n,e,t,o){return new LC(n,e,t,o)}async function kw(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,t.ls(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const d=[],h=[];let g=Ve();for(const v of s){d.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of l){h.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(o,g).next(v=>({hs:v,removedBatchIds:d,addedBatchIds:h}))})})}function FC(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return function(h,g,v,_){const E=v.batch,C=E.keys();let D=Y.resolve();return C.forEach(M=>{D=D.next(()=>_.getEntry(g,M)).next(z=>{const F=v.docVersions.get(M);Be(F!==null),z.version.compareTo(F)<0&&(E.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),_.addEntry(z)))})}),D.next(()=>h.mutationQueue.removeMutationBatch(g,E))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let g=Ve();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(g=g.add(h.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(o,s))})}function bw(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function jC(n,e){const t=Re(n),o=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const h=[];e.targetChanges.forEach((_,E)=>{const C=s.get(E);if(!C)return;h.push(t.Ur.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.Ur.addMatchingKeys(l,_.addedDocuments,E)));let D=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,o)),s=s.insert(E,D),function(z,F,se){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0}(C,D,_)&&h.push(t.Ur.updateTargetData(l,D))});let g=Ur(),v=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(BC(l,d,e.documentUpdates).next(_=>{g=_.Ps,v=_.Is})),!o.isEqual(Se.min())){const _=t.Ur.getLastRemoteSnapshotVersion(l).next(E=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,o));h.push(_)}return Y.waitFor(h).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(t.os=s,l))}function BC(n,e,t){let o=Ve(),s=Ve();return t.forEach(l=>o=o.add(l)),e.getEntries(n,o).next(l=>{let d=Ur();return t.forEach((h,g)=>{const v=l.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(h)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(h,g.readTime),d=d.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(h,g)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Ps:d,Is:s}})}function UC(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function zC(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.Ur.getTargetData(o,e).next(l=>l?(s=l,Y.resolve(s)):t.Ur.allocateTargetId(o).next(d=>(s=new mi(e,d,"TargetPurposeListen",o.currentSequenceNumber),t.Ur.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.os.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(o.targetId,o),t._s.set(e,o.targetId)),o})}async function cf(n,e,t){const o=Re(n),s=o.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",l,d=>o.persistence.referenceDelegate.removeTarget(d,s))}catch(d){if(!Fs(d))throw d;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}o.os=o.os.remove(e),o._s.delete(s.target)}function Cy(n,e,t){const o=Re(n);let s=Se.min(),l=Ve();return o.persistence.runTransaction("Execute query","readwrite",d=>function(g,v,_){const E=Re(g),C=E._s.get(_);return C!==void 0?Y.resolve(E.os.get(C)):E.Ur.getTargetData(v,_)}(o,d,mr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(d,h.targetId).next(g=>{l=g})}).next(()=>o.ss.getDocumentsMatchingQuery(d,e,t?s:Se.min(),t?l:Ve())).next(h=>($C(o,bT(e),h),{documents:h,Ts:l})))}function $C(n,e,t){let o=n.us.get(e)||Se.min();t.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),n.us.set(e,o)}class Sy{constructor(){this.activeTargetIds=MT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qC{constructor(){this.so=new Sy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,o){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sy,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Vh(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class QC extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+t.host,this.vo=`projects/${s}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}get Fo(){return!1}Mo(t,o,s,l,d){const h=Vh(),g=this.xo(t,o.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,g,s);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,l,d),this.No(t,g,v,s).then(_=>(he("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw Is("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",g,"request:",s),_})}Lo(t,o,s,l,d,h){return this.Mo(t,o,s,l,d)}Oo(t,o,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ls}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,d)=>t[d]=l),s&&s.headers.forEach((l,d)=>t[d]=l)}xo(t,o){const s=WC[t];return`${this.Do}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,o,s){const l=Vh();return new Promise((d,h)=>{const g=new Uv;g.setWithCredentials(!0),g.listenOnce(zv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Gu.NO_ERROR:const _=g.getResponseJson();he(qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),d(_);break;case Gu.TIMEOUT:he(qt,`RPC '${e}' ${l} timed out`),h(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const E=g.getStatus();if(he(qt,`RPC '${e}' ${l} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C==null?void 0:C.error;if(D&&D.status&&D.message){const M=function(F){const se=F.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(se)>=0?se:G.UNKNOWN}(D.status);h(new ce(M,D.message))}else h(new ce(G.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new ce(G.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(qt,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(s);he(qt,`RPC '${e}' ${l} sending request:`,s),g.send(t,"POST",v,o,15)})}Bo(e,t,o){const s=Vh(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Hv(),h=qv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,o),g.encodeInitMessageHeaders=!0;const _=l.join("");he(qt,`Creating RPC '${e}' stream ${s}: ${_}`,g);const E=d.createWebChannel(_,g);let C=!1,D=!1;const M=new KC({Io:F=>{D?he(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(C||(he(qt,`Opening RPC '${e}' stream ${s} transport.`),E.open(),C=!0),he(qt,`RPC '${e}' stream ${s} sending:`,F),E.send(F))},To:()=>E.close()}),z=(F,se,ae)=>{F.listen(se,ue=>{try{ae(ue)}catch(fe){setTimeout(()=>{throw fe},0)}})};return z(E,Ua.EventType.OPEN,()=>{D||(he(qt,`RPC '${e}' stream ${s} transport opened.`),M.yo())}),z(E,Ua.EventType.CLOSE,()=>{D||(D=!0,he(qt,`RPC '${e}' stream ${s} transport closed`),M.So())}),z(E,Ua.EventType.ERROR,F=>{D||(D=!0,Is(qt,`RPC '${e}' stream ${s} transport errored:`,F),M.So(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),z(E,Ua.EventType.MESSAGE,F=>{var se;if(!D){const ae=F.data[0];Be(!!ae);const ue=ae,fe=ue.error||((se=ue[0])===null||se===void 0?void 0:se.error);if(fe){he(qt,`RPC '${e}' stream ${s} received error:`,fe);const Ne=fe.status;let Ae=function(P){const N=gt[P];if(N!==void 0)return vw(N)}(Ne),O=fe.message;Ae===void 0&&(Ae=G.INTERNAL,O="Unknown error status: "+Ne+" with message "+fe.message),D=!0,M.So(new ce(Ae,O)),E.close()}else he(qt,`RPC '${e}' stream ${s} received:`,ae),M.bo(ae)}}),z(h,$v.STAT_EVENT,F=>{F.stat===Zh.PROXY?he(qt,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===Zh.NOPROXY&&he(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){return new tC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,o=1e3,s=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=o,this.qo=s,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-o);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t,o,s,l,d,h,g){this.ui=e,this.Ho=o,this.Jo=s,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Yo===t&&this.P_(o,s)},o=>{e(()=>{const s=new ce(G.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(s)})})}P_(e,t){const o=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{o(()=>this.I_(s))}),this.stream.onMessage(s=>{o(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GC extends Nw{constructor(e,t,o,s,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,d),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=oC(this.serializer,e),o=function(l){if(!("targetChange"in l))return Se.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Tn(d.readTime):Se.min()}(e);return this.listener.d_(t,o)}A_(e){const t={};t.database=uf(this.serializer),t.addTarget=function(l,d){let h;const g=d.target;if(h=rf(g)?{documents:aC(l,g)}:{query:lC(l,g)._t},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){h.resumeToken=Ew(l,d.resumeToken);const v=af(l,d.expectedCount);v!==null&&(h.expectedCount=v)}else if(d.snapshotVersion.compareTo(Se.min())>0){h.readTime=hc(l,d.snapshotVersion.toTimestamp());const v=af(l,d.expectedCount);v!==null&&(h.expectedCount=v)}return h}(this.serializer,e);const o=cC(this.serializer,e);o&&(t.labels=o),this.a_(t)}R_(e){const t={};t.database=uf(this.serializer),t.removeTarget=e,this.a_(t)}}class YC extends Nw{constructor(e,t,o,s,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,d),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=sC(e.writeResults,e.commitTime),o=Tn(e.commitTime);return this.listener.g_(o,t)}p_(){const e={};e.database=uf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Iw(this.serializer,o))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends class{}{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,o,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Mo(e,lf(t,o),s,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(G.UNKNOWN,l.toString())})}Lo(e,t,o,s,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,h])=>this.connection.Lo(e,lf(t,o),s,d,h,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(G.UNKNOWN,d.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Br(t),this.D_=!1):he("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,o,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(d=>{o.enqueueAndForget(async()=>{vo(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Re(g);v.L_.add(4),await hl(v),v.q_.set("Unknown"),v.L_.delete(4),await Mc(v)}(this))})}),this.q_=new JC(o,s)}}async function Mc(n){if(vo(n))for(const e of n.B_)await e(!0)}async function hl(n){for(const e of n.B_)await e(!1)}function Dw(n,e){const t=Re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Bf(t)?jf(t):js(t).r_()&&Ff(t,e))}function Mf(n,e){const t=Re(n),o=js(t);t.N_.delete(e),o.r_()&&Vw(t,e),t.N_.size===0&&(o.r_()?o.o_():vo(t)&&t.q_.set("Unknown"))}function Ff(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}js(n).A_(e)}function Vw(n,e){n.Q_.xe(e),js(n).R_(e)}function jf(n){n.Q_=new XT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),js(n).start(),n.q_.v_()}function Bf(n){return vo(n)&&!js(n).n_()&&n.N_.size>0}function vo(n){return Re(n).L_.size===0}function Ow(n){n.Q_=void 0}async function eS(n){n.q_.set("Online")}async function tS(n){n.N_.forEach((e,t)=>{Ff(n,e)})}async function nS(n,e){Ow(n),Bf(n)?(n.q_.M_(e),jf(n)):n.q_.set("Unknown")}async function rS(n,e,t){if(n.q_.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(s,l){const d=l.cause;for(const h of l.targetIds)s.N_.has(h)&&(await s.remoteSyncer.rejectListen(h,d),s.N_.delete(h),s.Q_.removeTarget(h))}(n,e)}catch(o){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await mc(n,o)}else if(e instanceof Zu?n.Q_.Ke(e):e instanceof ww?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Se.min()))try{const o=await bw(n.localStore);t.compareTo(o)>=0&&await function(l,d){const h=l.Q_.rt(d);return h.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.N_.get(v);_&&l.N_.set(v,_.withResumeToken(g.resumeToken,d))}}),h.targetMismatches.forEach((g,v)=>{const _=l.N_.get(g);if(!_)return;l.N_.set(g,_.withResumeToken(jt.EMPTY_BYTE_STRING,_.snapshotVersion)),Vw(l,g);const E=new mi(_.target,g,v,_.sequenceNumber);Ff(l,E)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(o){he("RemoteStore","Failed to raise snapshot:",o),await mc(n,o)}}async function mc(n,e,t){if(!Fs(e))throw e;n.L_.add(1),await hl(n),n.q_.set("Offline"),t||(t=()=>bw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Mc(n)})}function Lw(n,e){return e().catch(t=>mc(n,t,e))}async function Fc(n){const e=Re(n),t=Ai(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iS(e);)try{const s=await UC(e.localStore,o);if(s===null){e.O_.length===0&&t.o_();break}o=s.batchId,oS(e,s)}catch(s){await mc(e,s)}Mw(e)&&Fw(e)}function iS(n){return vo(n)&&n.O_.length<10}function oS(n,e){n.O_.push(e);const t=Ai(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Mw(n){return vo(n)&&!Ai(n).n_()&&n.O_.length>0}function Fw(n){Ai(n).start()}async function sS(n){Ai(n).p_()}async function aS(n){const e=Ai(n);for(const t of n.O_)e.m_(t.mutations)}async function lS(n,e,t){const o=n.O_.shift(),s=kf.from(o,e,t);await Lw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Fc(n)}async function uS(n,e){e&&Ai(n).V_&&await async function(o,s){if(function(d){return yw(d)&&d!==G.ABORTED}(s.code)){const l=o.O_.shift();Ai(o).s_(),await Lw(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Fc(o)}}(n,e),Mw(n)&&Fw(n)}async function Ay(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const o=vo(t);t.L_.add(3),await hl(t),o&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Mc(t)}async function cS(n,e){const t=Re(n);e?(t.L_.delete(2),await Mc(t)):e||(t.L_.add(2),await hl(t),t.q_.set("Unknown"))}function js(n){return n.K_||(n.K_=function(t,o,s){const l=Re(t);return l.w_(),new GC(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Eo:eS.bind(null,n),Ro:tS.bind(null,n),mo:nS.bind(null,n),d_:rS.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Bf(n)?jf(n):n.q_.set("Unknown")):(await n.K_.stop(),Ow(n))})),n.K_}function Ai(n){return n.U_||(n.U_=function(t,o,s){const l=Re(t);return l.w_(),new YC(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sS.bind(null,n),mo:uS.bind(null,n),f_:aS.bind(null,n),g_:lS.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Fc(n)):(await n.U_.stop(),n.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,o,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,s,l){const d=Date.now()+o,h=new Uf(e,t,d,s,l);return h.start(o),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Fs(n))return new ce(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.comparator=e?(t,o)=>e(t,o)||we.comparator(t.key,o.key):(t,o)=>we.comparator(t.key,o.key),this.keyedMap=za(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new _s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new _s;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.W_=new st(we.comparator)}track(e){const t=e.doc.key,o=this.W_.get(t);o?e.type!==0&&o.type===3?this.W_=this.W_.insert(t,e):e.type===3&&o.type!==1?this.W_=this.W_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.W_=this.W_.remove(t):e.type===1&&o.type===2?this.W_=this.W_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,o)=>{e.push(o)}),e}}class ks{constructor(e,t,o,s,l,d,h,g,v){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,o,s,l){const d=[];return t.forEach(h=>{d.push({type:0,doc:h})}),new ks(e,t,_s.emptySet(t),d,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hS{constructor(){this.queries=Ry(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,o){const s=Re(t),l=s.queries;s.queries=Ry(),l.forEach((d,h)=>{for(const g of h.j_)g.onError(o)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function Ry(){return new yo(n=>iw(n),bc)}async function jw(n,e){const t=Re(n);let o=3;const s=e.query;let l=t.queries.get(s);l?!l.H_()&&e.J_()&&(o=2):(l=new dS,o=e.J_()?0:1);try{switch(o){case 0:l.z_=await t.onListen(s,!0);break;case 1:l.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(d){const h=zf(d,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&$f(t)}async function Bw(n,e){const t=Re(n),o=e.query;let s=3;const l=t.queries.get(o);if(l){const d=l.j_.indexOf(e);d>=0&&(l.j_.splice(d,1),l.j_.length===0?s=e.J_()?0:1:!l.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function fS(n,e){const t=Re(n);let o=!1;for(const s of e){const l=s.query,d=t.queries.get(l);if(d){for(const h of d.j_)h.X_(s)&&(o=!0);d.z_=s}}o&&$f(t)}function pS(n,e,t){const o=Re(n),s=o.queries.get(e);if(s)for(const l of s.j_)l.onError(t);o.queries.delete(e)}function $f(n){n.Y_.forEach(e=>{e.next()})}var df,xy;(xy=df||(df={})).ea="default",xy.Cache="cache";class Uw{constructor(e,t,o){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new ks(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const o=t!=="Offline";return(!this.options._a||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.key=e}}class $w{constructor(e){this.key=e}}class mS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=ow(e),this.Ra=new _s(this.Aa)}get Va(){return this.Ta}ma(e,t){const o=t?t.fa:new Py,s=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,d=s,h=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const C=s.get(_),D=Nc(this.query,E)?E:null,M=!!C&&this.mutatedKeys.has(C.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;C&&D?C.data.isEqual(D.data)?M!==z&&(o.track({type:3,doc:D}),F=!0):this.ga(C,D)||(o.track({type:2,doc:D}),F=!0,(g&&this.Aa(D,g)>0||v&&this.Aa(D,v)<0)&&(h=!0)):!C&&D?(o.track({type:0,doc:D}),F=!0):C&&!D&&(o.track({type:1,doc:C}),F=!0,(g||v)&&(h=!0)),F&&(D?(d=d.add(D),l=z?l.add(_):l.delete(_)):(d=d.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{Ra:d,fa:o,ns:h,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,s){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort((_,E)=>function(D,M){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return z(D)-z(M)}(_.type,E.type)||this.Aa(_.doc,E.doc)),this.pa(o),s=s!=null&&s;const h=t&&!s?this.ya():[],g=this.da.size===0&&this.current&&!s?1:0,v=g!==this.Ea;return this.Ea=g,d.length!==0||v?{snapshot:new ks(this.query,e.Ra,l,d,e.mutatedKeys,g===0,v,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Py,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const t=[];return e.forEach(o=>{this.da.has(o)||t.push(new $w(o))}),this.da.forEach(o=>{e.has(o)||t.push(new zw(o))}),t}ba(e){this.Ta=e.Ts,this.da=Ve();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ks.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gS{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class yS{constructor(e){this.key=e,this.va=!1}}class vS{constructor(e,t,o,s,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new yo(h=>iw(h),bc),this.Ma=new Map,this.xa=new Set,this.Oa=new st(we.comparator),this.Na=new Map,this.La=new Df,this.Ba={},this.ka=new Map,this.qa=xs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function wS(n,e,t=!0){const o=Gw(n);let s;const l=o.Fa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Da()):s=await qw(o,e,t,!0),s}async function _S(n,e){const t=Gw(n);await qw(t,e,!0,!1)}async function qw(n,e,t,o){const s=await zC(n.localStore,mr(e)),l=s.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let h;return o&&(h=await ES(n,e,l,d==="current",s.resumeToken)),n.isPrimaryClient&&t&&Dw(n.remoteStore,s),h}async function ES(n,e,t,o,s){n.Ka=(E,C,D)=>async function(z,F,se,ae){let ue=F.view.ma(se);ue.ns&&(ue=await Cy(z.localStore,F.query,!1).then(({documents:O})=>F.view.ma(O,ue)));const fe=ae&&ae.targetChanges.get(F.targetId),Ne=ae&&ae.targetMismatches.get(F.targetId)!=null,Ae=F.view.applyChanges(ue,z.isPrimaryClient,fe,Ne);return by(z,F.targetId,Ae.wa),Ae.snapshot}(n,E,C,D);const l=await Cy(n.localStore,e,!0),d=new mS(e,l.Ts),h=d.ma(l.documents),g=dl.createSynthesizedTargetChangeForCurrentChange(t,o&&n.onlineState!=="Offline",s),v=d.applyChanges(h,n.isPrimaryClient,g);by(n,t,v.wa);const _=new gS(e,t,d);return n.Fa.set(e,_),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),v.snapshot}async function TS(n,e,t){const o=Re(n),s=o.Fa.get(e),l=o.Ma.get(s.targetId);if(l.length>1)return o.Ma.set(s.targetId,l.filter(d=>!bc(d,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await cf(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),t&&Mf(o.remoteStore,s.targetId),hf(o,s.targetId)}).catch(Ms)):(hf(o,s.targetId),await cf(o.localStore,s.targetId,!0))}async function CS(n,e){const t=Re(n),o=t.Fa.get(e),s=t.Ma.get(o.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),Mf(t.remoteStore,o.targetId))}async function SS(n,e,t){const o=bS(n);try{const s=await function(d,h){const g=Re(d),v=Ct.now(),_=h.reduce((D,M)=>D.add(M.key),Ve());let E,C;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Ur(),z=Ve();return g.cs.getEntries(D,_).next(F=>{M=F,M.forEach((se,ae)=>{ae.isValidDocument()||(z=z.add(se))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,M)).next(F=>{E=F;const se=[];for(const ae of h){const ue=HT(ae,E.get(ae.key).overlayedDocument);ue!=null&&se.push(new ki(ae.key,ue,Yv(ue.value.mapValue),un.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,se,h)}).next(F=>{C=F;const se=F.applyToLocalDocumentSet(E,z);return g.documentOverlayCache.saveOverlays(D,F.batchId,se)})}).then(()=>({batchId:C.batchId,changes:aw(E)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(d,h,g){let v=d.Ba[d.currentUser.toKey()];v||(v=new st(je)),v=v.insert(h,g),d.Ba[d.currentUser.toKey()]=v}(o,s.batchId,t),await fl(o,s.changes),await Fc(o.remoteStore)}catch(s){const l=zf(s,"Failed to persist write");t.reject(l)}}async function Hw(n,e){const t=Re(n);try{const o=await jC(t.localStore,e);e.targetChanges.forEach((s,l)=>{const d=t.Na.get(l);d&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.va=!0:s.modifiedDocuments.size>0?Be(d.va):s.removedDocuments.size>0&&(Be(d.va),d.va=!1))}),await fl(t,o,e)}catch(o){await Ms(o)}}function ky(n,e,t){const o=Re(n);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const s=[];o.Fa.forEach((l,d)=>{const h=d.view.Z_(e);h.snapshot&&s.push(h.snapshot)}),function(d,h){const g=Re(d);g.onlineState=h;let v=!1;g.queries.forEach((_,E)=>{for(const C of E.j_)C.Z_(h)&&(v=!0)}),v&&$f(g)}(o.eventManager,e),s.length&&o.Ca.d_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function IS(n,e,t){const o=Re(n);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.Na.get(e),l=s&&s.key;if(l){let d=new st(we.comparator);d=d.insert(l,kt.newNoDocument(l,Se.min()));const h=Ve().add(l),g=new Oc(Se.min(),new Map,new st(je),d,h);await Hw(o,g),o.Oa=o.Oa.remove(l),o.Na.delete(e),qf(o)}else await cf(o.localStore,e,!1).then(()=>hf(o,e,t)).catch(Ms)}async function AS(n,e){const t=Re(n),o=e.batch.batchId;try{const s=await FC(t.localStore,e);Kw(t,o,null),Ww(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await fl(t,s)}catch(s){await Ms(s)}}async function PS(n,e,t){const o=Re(n);try{const s=await function(d,h){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let _;return g.mutationQueue.lookupMutationBatch(v,h).next(E=>(Be(E!==null),_=E.keys(),g.mutationQueue.removeMutationBatch(v,E))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,_,h)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_)).next(()=>g.localDocuments.getDocuments(v,_))})}(o.localStore,e);Kw(o,e,t),Ww(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await fl(o,s)}catch(s){await Ms(s)}}function Ww(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Kw(n,e,t){const o=Re(n);let s=o.Ba[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),o.Ba[o.currentUser.toKey()]=s}}function hf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.Ma.get(e))n.Fa.delete(o),t&&n.Ca.$a(o,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(o=>{n.La.containsKey(o)||Qw(n,o)})}function Qw(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Mf(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),qf(n))}function by(n,e,t){for(const o of t)o instanceof zw?(n.La.addReference(o.key,e),RS(n,o)):o instanceof $w?(he("SyncEngine","Document no longer in limbo: "+o.key),n.La.removeReference(o.key,e),n.La.containsKey(o.key)||Qw(n,o.key)):Ce()}function RS(n,e){const t=e.key,o=t.path.canonicalString();n.Oa.get(t)||n.xa.has(o)||(he("SyncEngine","New document in limbo: "+t),n.xa.add(o),qf(n))}function qf(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new we(Ge.fromString(e)),o=n.qa.next();n.Na.set(o,new yS(t)),n.Oa=n.Oa.insert(t,o),Dw(n.remoteStore,new mi(mr(Pf(t.path)),o,"TargetPurposeLimboResolution",xc.oe))}}async function fl(n,e,t){const o=Re(n),s=[],l=[],d=[];o.Fa.isEmpty()||(o.Fa.forEach((h,g)=>{d.push(o.Ka(g,e,t).then(v=>{var _;if((v||t)&&o.isPrimaryClient){const E=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;o.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){s.push(v);const E=Of.Wi(g.targetId,v);l.push(E)}}))}),await Promise.all(d),o.Ca.d_(s),await async function(g,v){const _=Re(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(v,C=>Y.forEach(C.$i,D=>_.persistence.referenceDelegate.addReference(E,C.targetId,D)).next(()=>Y.forEach(C.Ui,D=>_.persistence.referenceDelegate.removeReference(E,C.targetId,D)))))}catch(E){if(!Fs(E))throw E;he("LocalStore","Failed to update sequence numbers: "+E)}for(const E of v){const C=E.targetId;if(!E.fromCache){const D=_.os.get(C),M=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(M);_.os=_.os.insert(C,z)}}}(o.localStore,l))}async function xS(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const o=await kw(t.localStore,e);t.currentUser=e,function(l,d){l.ka.forEach(h=>{h.forEach(g=>{g.reject(new ce(G.CANCELLED,d))})}),l.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await fl(t,o.hs)}}function kS(n,e){const t=Re(n),o=t.Na.get(e);if(o&&o.va)return Ve().add(o.key);{let s=Ve();const l=t.Ma.get(e);if(!l)return s;for(const d of l){const h=t.Fa.get(d);s=s.unionWith(h.view.Va)}return s}}function Gw(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IS.bind(null,e),e.Ca.d_=fS.bind(null,e.eventManager),e.Ca.$a=pS.bind(null,e.eventManager),e}function bS(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PS.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return MC(this.persistence,new OC,e.initialUser,this.serializer)}Ga(e){return new xw(Vf.Zr,this.serializer)}Wa(e){return new qC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class NS extends gc{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){Be(this.persistence.referenceDelegate instanceof pc);const o=this.persistence.referenceDelegate.garbageCollector;return new _C(o,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new xw(o=>pc.Zr(o,t),this.serializer)}}class ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>ky(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=xS.bind(null,this.syncEngine),await cS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hS}()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),o=function(l){return new QC(l)}(e.databaseInfo);return function(l,d,h,g){return new XC(l,d,h,g)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,s,l,d,h){return new ZC(o,s,l,d,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ky(this.syncEngine,t,0),function(){return Iy.D()?new Iy:new HC}())}createSyncEngine(e,t){return function(s,l,d,h,g,v,_){const E=new vS(s,l,d,h,g,v);return _&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Re(s);he("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await hl(l),l.k_.shutdown(),l.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ff.provider={build:()=>new ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,l){const d=Re(s),h={documents:l.map(E=>fc(d.serializer,E))},g=await d.Lo("BatchGetDocuments",d.serializer.databaseId,Ge.emptyPath(),h,l.length),v=new Map;g.forEach(E=>{const C=iC(d.serializer,E);v.set(C.key.toString(),C)});const _=[];return l.forEach(E=>{const C=v.get(E.toString());Be(!!C),_.push(C)}),_}(this.datastore,e);return t.forEach(o=>this.recordVersion(o)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new xf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,o)=>{const s=we.fromPath(o);this.mutations.push(new gw(s,this.precondition(s)))}),await async function(o,s){const l=Re(o),d={writes:s.map(h=>Iw(l.serializer,h))};await l.Mo("Commit",l.serializer.databaseId,Ge.emptyPath(),d)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ce();t=Se.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new ce(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Se.min())?un.exists(!1):un.updateTime(t):un.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Se.min()))throw new ce(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(t)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,o,s,l){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=s,this.deferred=l,this._u=o.maxAttempts,this.t_=new Lf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new DS(this.datastore),t=this.cu(e);t&&t.then(o=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(o)}).catch(s=>{this.lu(s)}))}).catch(o=>{this.lu(o)})})}cu(e){try{const t=this.updateFunction(e);return!ll(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!yw(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,o,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=Kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async d=>{he("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(o,d=>(he("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=zf(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Lh(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let o=t.initialUser;n.setCredentialChangeListener(async s=>{o.isEqual(s)||(await kw(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ny(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LS(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(o=>Ay(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>Ay(e.remoteStore,s)),n._onlineComponents=e}async function LS(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),await Lh(n,new gc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Lh(n,new NS(void 0));return n._offlineComponents}async function Hf(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Ny(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Ny(n,new ff))),n._onlineComponents}function MS(n){return Hf(n).then(e=>e.syncEngine)}function FS(n){return Hf(n).then(e=>e.datastore)}async function Xw(n){const e=await Hf(n),t=e.eventManager;return t.onListen=wS.bind(null,e.syncEngine),t.onUnlisten=TS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_S.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CS.bind(null,e.syncEngine),t}function jS(n,e,t={}){const o=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,h,g,v){const _=new Yw({next:C=>{_.Za(),d.enqueueAndForget(()=>Bw(l,E));const D=C.docs.has(h);!D&&C.fromCache?v.reject(new ce(G.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&C.fromCache&&g&&g.source==="server"?v.reject(new ce(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new Uw(Pf(h.path),_,{includeMetadataChanges:!0,_a:!0});return jw(l,E)}(await Xw(n),n.asyncQueue,e,t,o)),o.promise}function BS(n,e,t={}){const o=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,h,g,v){const _=new Yw({next:C=>{_.Za(),d.enqueueAndForget(()=>Bw(l,E)),C.fromCache&&g.source==="server"?v.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new Uw(h,_,{includeMetadataChanges:!0,_a:!0});return jw(l,E)}(await Xw(n),n.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e,t){if(!t)throw new ce(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function US(n,e,t,o){if(e===!0&&o===!0)throw new ce(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vy(n){if(!we.isDocumentKey(n))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Oy(n){if(we.isDocumentKey(n))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function po(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jc(n);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}US("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,o,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ly({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ly(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new X2;switch(o.type){case"firstParty":return new tT(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=Dy.get(t);o&&(he("ComponentProvider","Removing Datastore"),Dy.delete(t),o.terminate())}(this),Promise.resolve()}}function zS(n,e,t,o={}){var s;const l=(n=po(n,Bc))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),o.mockUserToken){let h,g;if(typeof o.mockUserToken=="string")h=o.mockUserToken,g=Ht.MOCK_USER;else{h=NE(o.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=o.mockUserToken.sub||o.mockUserToken.user_id;if(!v)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ht(v)}n._authCredentials=new J2(new Wv(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class cn{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ei extends Bs{constructor(e,t,o){super(e,t,Pf(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new we(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function pf(n,e,...t){if(n=gr(n),Zw("collection","path",e),n instanceof Bc){const o=Ge.fromString(e,...t);return Oy(o),new Ei(n,null,o)}{if(!(n instanceof cn||n instanceof Ei))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Ge.fromString(e,...t));return Oy(o),new Ei(n.firestore,null,o)}}function Wf(n,e,...t){if(n=gr(n),arguments.length===1&&(e=Kv.newId()),Zw("doc","path",e),n instanceof Bc){const o=Ge.fromString(e,...t);return Vy(o),new cn(n,null,new we(o))}{if(!(n instanceof cn||n instanceof Ei))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Ge.fromString(e,...t));return Vy(o),new cn(n.firestore,n instanceof Ei?n.converter:null,new we(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lf(this,"async_queue_retry"),this.Vu=()=>{const o=Oh();o&&he("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const t=Oh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Oh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new pr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fs(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(o=>{this.Eu=o,this.du=!1;const s=function(d){let h=d.message||"";return d.stack&&(h=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),h}(o);throw Br("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.du=!1,o))));return this.mu=t,t}enqueueAfterDelay(e,t,o){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=Uf.createAndSchedule(this,e,t,o,l=>this.yu(l));return this.Tu.push(s),s}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class pl extends Bc{constructor(e,t,o,s){super(e,t,o,s),this.type="firestore",this._queue=new My,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new My(e),this._firestoreClient=void 0,await e}}}function $S(n,e){const t=typeof n=="object"?n:U2(),o=typeof n=="string"?n:"(default)",s=M2(t,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=kE("firestore");l&&zS(s,...l)}return s}function Uc(n){if(n._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qS(n),n._firestoreClient}function qS(n){var e,t,o;const s=n._freezeSettings(),l=function(h,g,v,_){return new gT(h,g,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Jw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new OS(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const g=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(jt.fromBase64String(e))}catch(t){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=/^__.*__$/;class WS{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new cl(e,this.data,t,this.fieldTransforms)}}class e0{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function t0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Gf{constructor(e,t,o,s,l,d){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:o,xu:!1});return s.Ou(e),s}Nu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:o,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(t0(this.Cu)&&HS.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class KS{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Lc(e)}Qu(e,t,o,s=!1){return new Gf({Cu:e,methodName:t,qu:o,path:Ft.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yf(n){const e=n._freezeSettings(),t=Lc(n._databaseId);return new KS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function n0(n,e,t,o,s,l={}){const d=n.Qu(l.merge||l.mergeFields?2:0,e,t,s);Jf("Data must be an object, but it was:",d,o);const h=r0(o,d);let g,v;if(l.merge)g=new En(d.fieldMask),v=d.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const C=mf(e,E,t);if(!d.contains(C))throw new ce(G.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);o0(_,C)||_.push(C)}g=new En(_),v=d.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,v=d.fieldTransforms;return new WS(new Xt(h),g,v)}class qc extends $c{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}class Xf extends $c{_toFieldTransform(e){return new UT(e.path,new rl)}isEqual(e){return e instanceof Xf}}function QS(n,e,t,o){const s=n.Qu(1,e,t);Jf("Data must be an object, but it was:",s,o);const l=[],d=Xt.empty();xi(o,(g,v)=>{const _=Zf(e,g,t);v=gr(v);const E=s.Nu(_);if(v instanceof qc)l.push(_);else{const C=ml(v,E);C!=null&&(l.push(_),d.set(_,C))}});const h=new En(l);return new e0(d,h,s.fieldTransforms)}function GS(n,e,t,o,s,l){const d=n.Qu(1,e,t),h=[mf(e,o,t)],g=[s];if(l.length%2!=0)throw new ce(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)h.push(mf(e,l[C])),g.push(l[C+1]);const v=[],_=Xt.empty();for(let C=h.length-1;C>=0;--C)if(!o0(v,h[C])){const D=h[C];let M=g[C];M=gr(M);const z=d.Nu(D);if(M instanceof qc)v.push(D);else{const F=ml(M,z);F!=null&&(v.push(D),_.set(D,F))}}const E=new En(v);return new e0(_,E,d.fieldTransforms)}function YS(n,e,t,o=!1){return ml(t,n.Qu(o?4:3,e))}function ml(n,e){if(i0(n=gr(n)))return Jf("Unsupported field value:",e,n),r0(n,e);if(n instanceof $c)return function(o,s){if(!t0(s.Cu))throw s.Bu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(o,s){const l=[];let d=0;for(const h of o){let g=ml(h,s.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),d++}return{arrayValue:{values:l}}}(n,e)}return function(o,s){if((o=gr(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return FT(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=Ct.fromDate(o);return{timestampValue:hc(s.serializer,l)}}if(o instanceof Ct){const l=new Ct(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:hc(s.serializer,l)}}if(o instanceof Kf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof mo)return{bytesValue:Ew(s.serializer,o._byteString)};if(o instanceof cn){const l=s.databaseId,d=o.firestore._databaseId;if(!d.isEqual(l))throw s.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Nf(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof Qf)return function(d,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw h.Bu("VectorValues must only contain numeric values.");return Rf(h.serializer,g)})}}}}}}(o,s);throw s.Bu(`Unsupported field value: ${jc(o)}`)}(n,e)}function r0(n,e){const t={};return Qv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,(o,s)=>{const l=ml(s,e.Mu(o));l!=null&&(t[o]=l)}),{mapValue:{fields:t}}}function i0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Kf||n instanceof mo||n instanceof cn||n instanceof $c||n instanceof Qf)}function Jf(n,e,t){if(!i0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const o=jc(t);throw o==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+o)}}function mf(n,e,t){if((e=gr(e))instanceof zc)return e._internalPath;if(typeof e=="string")return Zf(n,e);throw yc("Field path arguments must be of type string or ",n,!1,void 0,t)}const XS=new RegExp("[~\\*/\\[\\]]");function Zf(n,e,t){if(e.search(XS)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yc(n,e,t,o,s){const l=o&&!o.isEmpty(),d=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(l||d)&&(g+=" (found",l&&(g+=` in field ${o}`),d&&(g+=` in document ${s}`),g+=")"),new ce(G.INVALID_ARGUMENT,h+n+g)}function o0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,o,s,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ep("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JS extends vc{data(){return super.data()}}function ep(n,e){return typeof e=="string"?Zf(n,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class eI extends tp{}function tI(n,e,...t){let o=[];e instanceof tp&&o.push(e),o=o.concat(t),function(l){const d=l.filter(g=>g instanceof np).length,h=l.filter(g=>g instanceof Hc).length;if(d>1||d>0&&h>0)throw new ce(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)n=s._apply(n);return n}class Hc extends eI{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Hc(e,t,o)}_apply(e){const t=this._parse(e);return s0(e._query,t),new Bs(e.firestore,e.converter,of(e._query,t))}_parse(e){const t=Yf(e.firestore);return function(l,d,h,g,v,_,E){let C;if(v.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){jy(E,_);const D=[];for(const M of E)D.push(Fy(g,l,M));C={arrayValue:{values:D}}}else C=Fy(g,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||jy(E,_),C=YS(h,d,E,_==="in"||_==="not-in");return yt.create(v,_,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nI(n,e,t){const o=e,s=ep("where",n);return Hc._create(s,o,t)}class np extends tp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new np(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let d=s;const h=l.getFlattenedFilters();for(const g of h)s0(d,g),d=of(d,g)}(e._query,t),new Bs(e.firestore,e.converter,of(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fy(n,e,t){if(typeof(t=gr(t))=="string"){if(t==="")throw new ce(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Ge.fromString(t));if(!we.isDocumentKey(o))throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return iy(n,new we(o))}if(t instanceof cn)return iy(n,t._key);throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jc(t)}.`)}function jy(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s0(n,e){const t=function(s,l){for(const d of s)for(const h of d.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class a0{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return xi(e,(s,l)=>{o[s]=this.convertValue(l,t)}),o}convertVectorValue(e){var t,o,s;const l=(s=(o=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(d=>ht(d.doubleValue));return new Qf(l)}convertGeoPoint(e){return new Kf(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=kc(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const t=Ci(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Ge.fromString(e);Be(Rw(o));const s=new tl(o.get(1),o.get(3)),l=new we(o.popFirst(5));return s.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n,e,t){let o;return o=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,o}class rI extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rp extends vc{constructor(e,t,o,s,l,d){super(e,t,o,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ep("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class ec extends rp{data(e={}){return super.data(e)}}class iI{constructor(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vs(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new ec(this._firestore,this._userDataWriter,o.key,o,new vs(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(h=>{const g=new ec(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vs(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const g=new ec(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vs(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,_=-1;return h.type!==0&&(v=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),h.type!==1&&(d=d.add(h.doc),_=d.indexOf(h.doc.key)),{type:oI(h.type),doc:g,oldIndex:v,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){n=po(n,cn);const e=po(n.firestore,pl);return jS(Uc(e),n._key).then(t=>uI(e,n,t))}class ip extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function By(n){n=po(n,Bs);const e=po(n.firestore,pl),t=Uc(e),o=new ip(e);return ZS(n._query),BS(t,n._query).then(s=>new iI(e,o,n,s))}function aI(n,e){const t=po(n.firestore,pl),o=Wf(n),s=l0(n.converter,e);return lI(t,[n0(Yf(n.firestore),"addDoc",o._key,s,n.converter!==null,{}).toMutation(o._key,un.exists(!1))]).then(()=>o)}function lI(n,e){return function(o,s){const l=new pr;return o.asyncQueue.enqueueAndForget(async()=>SS(await MS(o),s,l)),l.promise}(Uc(n),e)}function uI(n,e,t){const o=t.docs.get(e._key),s=new ip(n);return new rp(n,s,e._key,o,new vs(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={maxAttempts:5};function ja(n,e){if((n=gr(n)).firestore!==e)throw new ce(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends class{constructor(t,o){this._firestore=t,this._transaction=o,this._dataReader=Yf(t)}get(t){const o=ja(t,this._firestore),s=new rI(this._firestore);return this._transaction.lookup([o._key]).then(l=>{if(!l||l.length!==1)return Ce();const d=l[0];if(d.isFoundDocument())return new vc(this._firestore,s,d.key,d,o.converter);if(d.isNoDocument())return new vc(this._firestore,s,o._key,null,o.converter);throw Ce()})}set(t,o,s){const l=ja(t,this._firestore),d=l0(l.converter,o,s),h=n0(this._dataReader,"Transaction.set",l._key,d,l.converter!==null,s);return this._transaction.set(l._key,h),this}update(t,o,s,...l){const d=ja(t,this._firestore);let h;return h=typeof(o=gr(o))=="string"||o instanceof zc?GS(this._dataReader,"Transaction.update",d._key,o,s,l):QS(this._dataReader,"Transaction.update",d._key,o),this._transaction.update(d._key,h),this}delete(t){const o=ja(t,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ja(e,this._firestore),o=new ip(this._firestore);return super.get(e).then(s=>new rp(this._firestore,o,t._key,s._document,new vs(!1,!1),t.converter))}}function hI(n,e,t){n=po(n,pl);const o=Object.assign(Object.assign({},cI),t);return function(l){if(l.maxAttempts<1)throw new ce(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(l,d,h){const g=new pr;return l.asyncQueue.enqueueAndForget(async()=>{const v=await FS(l);new VS(l.asyncQueue,v,h,d,g).au()}),g.promise}(Uc(n),s=>e(new dI(n,s)),o)}function fI(){return new Xf("serverTimestamp")}(function(e,t=!0){(function(s){Ls=s})(B2),ac(new Xa("firestore",(o,{instanceIdentifier:s,options:l})=>{const d=o.getProvider("app").getImmediate(),h=new pl(new Z2(o.getProvider("auth-internal")),new rT(o.getProvider("app-check-internal")),function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(v.options.projectId,_)}(d,s),d);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ws(Jg,"4.7.4",e),ws(Jg,"4.7.4","esm2017")})();var pI="firebase",mI="11.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(pI,mI,"app");const gI={apiKey:"AIzaSyD2SCEQwhbL5mT3Dlic3_hZRNtdGovDQ6A",authDomain:"e-clicky.firebaseapp.com",projectId:"e-clicky",storageBucket:"e-clicky.appspot.com",messagingSenderId:"379024902105",appId:"1:379024902105:web:60ded2123c4227f1a5bbc8"},yI=Mv(gI),Es=$S(yI),Uy=()=>{//! States  
const[n,e]=X.useState([]),[t,o]=X.useState(!1),{categoryId:s}=wf();return X.useEffect(()=>{(async()=>{o(!0);try{let d=[];if(s){const h=tI(pf(Es,"products"),nI("category","==",s));(await By(h)).forEach(v=>{d.push({id:v.id,...v.data()})})}else(await By(pf(Es,"products"))).forEach(g=>{d.push({id:g.id,...g.data()})});e(d)}catch(d){console.error("Error fetching products:",d)}finally{o(!1)}})()},[s]),t?k.jsx(Rc,{}):k.jsx(_E,{products:n})},vI="https://IsmaelAraruiz.github.io/Clicky/assets/logoClicky-wEQ-QTGp.png",wI=()=>k.jsx("div",{className:"logoClicky-box",children:k.jsx(Jt,{to:"/",end:!0,children:k.jsx("img",{src:vI,alt:"Logo de la página"})})}),_I=()=>{const[n,e]=X.useState(!1);//! Function handleDropDown
const t=()=>{e(!n)};//! Function handleDropDown
const o=()=>{e(!1)};return k.jsx("nav",{className:"navBar",children:k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx(Jt,{className:({isActive:s})=>s?"isActive":void 0,to:"/",onClick:o,end:!0,children:"Home"})}),k.jsxs("li",{children:[k.jsx("button",{className:`btn-dropDown-toggle ${n?"open":""}`,onClick:t,"aria-expanded":n,children:"Categories"}),k.jsxs("ul",{className:`dropDownMenu-container ${n?"open":""}`,children:[k.jsx("li",{children:k.jsx(Jt,{className:({isActive:s})=>s?"isActive":void 0,to:"/category/100",onClick:o,children:"Keyboards - 100%"})}),k.jsx("li",{children:k.jsx(Jt,{className:({isActive:s})=>s?"isActive":void 0,to:"/category/70",onClick:o,children:"Keyboards - 70%"})}),k.jsx("li",{children:k.jsx(Jt,{className:({isActive:s})=>s?"isActive":void 0,to:"/category/60",onClick:o,children:"Keyboards - 60%"})})]})]})]})})},Wc=X.createContext(),EI=({children:n})=>{const[e,t]=X.useState("light");return k.jsx(Wc.Provider,{value:{theme:e,setTheme:t},children:n})};/*!
* sweetalert2 v11.14.5
* Released under the MIT License.
*/function u0(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function TI(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zy(n,e){return n.get(u0(n,e))}function CI(n,e,t){TI(n,e),e.set(n,t)}function SI(n,e,t){return n.set(u0(n,e),t),t}const II=100,Te={},AI=()=>{Te.previousActiveElement instanceof HTMLElement?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus()},PI=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,o=window.scrollY;Te.restoreFocusTimeout=setTimeout(()=>{AI(),e()},II),window.scrollTo(t,o)}),c0="swal2-",RI=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],W=RI.reduce((n,e)=>(n[e]=c0+e,n),{}),xI=["success","warning","info","question","error"],wc=xI.reduce((n,e)=>(n[e]=c0+e,n),{}),d0="SweetAlert2:",op=n=>n.charAt(0).toUpperCase()+n.slice(1),hn=n=>{console.warn(`${d0} ${typeof n=="object"?n.join(" "):n}`)},wo=n=>{console.error(`${d0} ${n}`)},$y=[],kI=n=>{$y.includes(n)||($y.push(n),hn(n))},h0=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;kI(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Kc=n=>typeof n=="function"?n():n,sp=n=>n&&typeof n.toPromise=="function",gl=n=>sp(n)?n.toPromise():Promise.resolve(n),ap=n=>n&&Promise.resolve(n)===n,fn=()=>document.body.querySelector(`.${W.container}`),yl=n=>{const e=fn();return e?e.querySelector(n):null},In=n=>yl(`.${n}`),Ke=()=>In(W.popup),vl=()=>In(W.icon),bI=()=>In(W["icon-content"]),f0=()=>In(W.title),lp=()=>In(W["html-container"]),p0=()=>In(W.image),up=()=>In(W["progress-steps"]),Qc=()=>In(W["validation-message"]),vr=()=>yl(`.${W.actions} .${W.confirm}`),Us=()=>yl(`.${W.actions} .${W.cancel}`),_o=()=>yl(`.${W.actions} .${W.deny}`),NI=()=>In(W["input-label"]),zs=()=>yl(`.${W.loader}`),wl=()=>In(W.actions),m0=()=>In(W.footer),Gc=()=>In(W["timer-progress-bar"]),cp=()=>In(W.close),DI=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,dp=()=>{const n=Ke();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,d)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),g=parseInt(d.getAttribute("tabindex")||"0");return h>g?1:h<g?-1:0}),o=n.querySelectorAll(DI),s=Array.from(o).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(s))].filter(l=>dn(l))},hp=()=>Fr(document.body,W.shown)&&!Fr(document.body,W["toast-shown"])&&!Fr(document.body,W["no-backdrop"]),Yc=()=>{const n=Ke();return n?Fr(n,W.toast):!1},VI=()=>{const n=Ke();return n?n.hasAttribute("data-loading"):!1},An=(n,e)=>{if(n.textContent="",e){const o=new DOMParser().parseFromString(e,"text/html"),s=o.querySelector("head");s&&Array.from(s.childNodes).forEach(d=>{n.appendChild(d)});const l=o.querySelector("body");l&&Array.from(l.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?n.appendChild(d.cloneNode(!0)):n.appendChild(d)})}},Fr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let o=0;o<t.length;o++)if(!n.classList.contains(t[o]))return!1;return!0},OI=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(W).includes(t)&&!Object.values(wc).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Cn=(n,e,t)=>{if(OI(n,e),!e.customClass)return;const o=e.customClass[t];if(o){if(typeof o!="string"&&!o.forEach){hn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof o}"`);return}qe(n,o)}},Xc=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return n.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return n.querySelector(`.${W.popup} > .${W.radio} input:checked`)||n.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return n.querySelector(`.${W.popup} > .${W.range} input`);default:return n.querySelector(`.${W.popup} > .${W.input}`)}},g0=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},y0=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(o=>{Array.isArray(n)?n.forEach(s=>{t?s.classList.add(o):s.classList.remove(o)}):t?n.classList.add(o):n.classList.remove(o)}))},qe=(n,e)=>{y0(n,e,!0)},wr=(n,e)=>{y0(n,e,!1)},gi=(n,e)=>{const t=Array.from(n.children);for(let o=0;o<t.length;o++){const s=t[o];if(s instanceof HTMLElement&&Fr(s,e))return s}},ho=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Nt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Wt=n=>{n&&(n.style.display="none")},fp=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{_l(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},qy=(n,e,t,o)=>{const s=n.querySelector(e);s&&s.style.setProperty(t,o)},_l=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Nt(n,t):Wt(n)},dn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),LI=()=>!dn(vr())&&!dn(_o())&&!dn(Us()),Hy=n=>n.scrollHeight>n.clientHeight,v0=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),o=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||o>0},pp=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Gc();t&&dn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},MI=()=>{const n=Gc();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),o=e/t*100;n.style.width=`${o}%`},FI=()=>typeof window>"u"||typeof document>"u",jI=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),BI=()=>{const n=fn();return n?(n.remove(),wr([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},oo=()=>{Te.currentInstance.resetValidationMessage()},UI=()=>{const n=Ke(),e=gi(n,W.input),t=gi(n,W.file),o=n.querySelector(`.${W.range} input`),s=n.querySelector(`.${W.range} output`),l=gi(n,W.select),d=n.querySelector(`.${W.checkbox} input`),h=gi(n,W.textarea);e.oninput=oo,t.onchange=oo,l.onchange=oo,d.onchange=oo,h.oninput=oo,o.oninput=()=>{oo(),s.value=o.value},o.onchange=()=>{oo(),s.value=o.value}},zI=n=>typeof n=="string"?document.querySelector(n):n,$I=n=>{const e=Ke();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},qI=n=>{window.getComputedStyle(n).direction==="rtl"&&qe(fn(),W.rtl)},HI=n=>{const e=BI();if(FI()){wo("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=W.container,e&&qe(t,W["no-transition"]),An(t,jI);const o=zI(n.target);o.appendChild(t),$I(n),qI(o),UI()},mp=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?WI(n,e):n&&An(e,n)},WI=(n,e)=>{n.jquery?KI(e,n):An(e,n.toString())},KI=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},QI=(n,e)=>{const t=wl(),o=zs();!t||!o||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Wt(t):Nt(t),Cn(t,e,"actions"),GI(t,o,e),An(o,e.loaderHtml||""),Cn(o,e,"loader"))};function GI(n,e,t){const o=vr(),s=_o(),l=Us();!o||!s||!l||(Mh(o,"confirm",t),Mh(s,"deny",t),Mh(l,"cancel",t),YI(o,s,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,o),n.insertBefore(s,o)):(n.insertBefore(l,e),n.insertBefore(s,e),n.insertBefore(o,e))))}function YI(n,e,t,o){if(!o.buttonsStyling){wr([n,e,t],W.styled);return}qe([n,e,t],W.styled),o.confirmButtonColor&&(n.style.backgroundColor=o.confirmButtonColor,qe(n,W["default-outline"])),o.denyButtonColor&&(e.style.backgroundColor=o.denyButtonColor,qe(e,W["default-outline"])),o.cancelButtonColor&&(t.style.backgroundColor=o.cancelButtonColor,qe(t,W["default-outline"]))}function Mh(n,e,t){const o=op(e);_l(n,t[`show${o}Button`],"inline-block"),An(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=W[e],Cn(n,t,`${e}Button`)}const XI=(n,e)=>{const t=cp();t&&(An(t,e.closeButtonHtml||""),Cn(t,e,"closeButton"),_l(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},JI=(n,e)=>{const t=fn();t&&(ZI(t,e.backdrop),eA(t,e.position),tA(t,e.grow),Cn(t,e,"container"))};function ZI(n,e){typeof e=="string"?n.style.background=e:e||qe([document.documentElement,document.body],W["no-backdrop"])}function eA(n,e){e&&(e in W?qe(n,W[e]):(hn('The "position" parameter is not valid, defaulting to "center"'),qe(n,W.center)))}function tA(n,e){e&&qe(n,W[`grow-${e}`])}var Ze={innerParams:new WeakMap,domCache:new WeakMap};const nA=["input","file","range","select","radio","checkbox","textarea"],rA=(n,e)=>{const t=Ke();if(!t)return;const o=Ze.innerParams.get(n),s=!o||e.input!==o.input;nA.forEach(l=>{const d=gi(t,W[l]);d&&(sA(l,e.inputAttributes),d.className=W[l],s&&Wt(d))}),e.input&&(s&&iA(e),aA(e))},iA=n=>{if(!n.input)return;if(!dt[n.input]){wo(`Unexpected type of input! Expected ${Object.keys(dt).join(" | ")}, got "${n.input}"`);return}const e=w0(n.input);if(!e)return;const t=dt[n.input](e,n);Nt(e),n.inputAutoFocus&&setTimeout(()=>{g0(t)})},oA=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},sA=(n,e)=>{const t=Ke();if(!t)return;const o=Xc(t,n);if(o){oA(o);for(const s in e)o.setAttribute(s,e[s])}},aA=n=>{if(!n.input)return;const e=w0(n.input);e&&Cn(e,n,"input")},gp=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},El=(n,e,t)=>{if(t.inputLabel){const o=document.createElement("label"),s=W["input-label"];o.setAttribute("for",n.id),o.className=s,typeof t.customClass=="object"&&qe(o,t.customClass.inputLabel),o.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",o)}},w0=n=>{const e=Ke();if(e)return gi(e,W[n]||W.input)},_c=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:ap(e)||hn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},dt={};dt.text=dt.email=dt.password=dt.number=dt.tel=dt.url=dt.search=dt.date=dt["datetime-local"]=dt.time=dt.week=dt.month=(n,e)=>(_c(n,e.inputValue),El(n,n,e),gp(n,e),n.type=e.input,n);dt.file=(n,e)=>(El(n,n,e),gp(n,e),n);dt.range=(n,e)=>{const t=n.querySelector("input"),o=n.querySelector("output");return _c(t,e.inputValue),t.type=e.input,_c(o,e.inputValue),El(t,n,e),n};dt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");An(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return El(n,n,e),n};dt.radio=n=>(n.textContent="",n);dt.checkbox=(n,e)=>{const t=Xc(Ke(),"checkbox");t.value="1",t.checked=!!e.inputValue;const o=n.querySelector("span");return An(o,e.inputPlaceholder||e.inputLabel),t};dt.textarea=(n,e)=>{_c(n,e.inputValue),gp(n,e),El(n,n,e);const t=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Ke()).width),s=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>o?Ke().style.width=`${l}px`:ho(Ke(),"width",e.width)};new MutationObserver(s).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const lA=(n,e)=>{const t=lp();t&&(fp(t),Cn(t,e,"htmlContainer"),e.html?(mp(e.html,t),Nt(t,"block")):e.text?(t.textContent=e.text,Nt(t,"block")):Wt(t),rA(n,e))},uA=(n,e)=>{const t=m0();t&&(fp(t),_l(t,e.footer,"block"),e.footer&&mp(e.footer,t),Cn(t,e,"footer"))},cA=(n,e)=>{const t=Ze.innerParams.get(n),o=vl();if(o){if(t&&e.icon===t.icon){Ky(o,e),Wy(o,e);return}if(!e.icon&&!e.iconHtml){Wt(o);return}if(e.icon&&Object.keys(wc).indexOf(e.icon)===-1){wo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Wt(o);return}Nt(o),Ky(o,e),Wy(o,e),qe(o,e.showClass&&e.showClass.icon)}},Wy=(n,e)=>{for(const[t,o]of Object.entries(wc))e.icon!==t&&wr(n,o);qe(n,e.icon&&wc[e.icon]),pA(n,e),dA(),Cn(n,e,"icon")},dA=()=>{const n=Ke();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<t.length;o++)t[o].style.backgroundColor=e},hA=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,fA=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ky=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,o="";e.iconHtml?o=Qy(e.iconHtml):e.icon==="success"?(o=hA,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?o=fA:e.icon&&(o=Qy({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==o.trim()&&An(n,o)},pA=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qy(n,t,"background-color",e.iconColor);qy(n,".swal2-success-ring","border-color",e.iconColor)}},Qy=n=>`<div class="${W["icon-content"]}">${n}</div>`,mA=(n,e)=>{const t=p0();if(t){if(!e.imageUrl){Wt(t);return}Nt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ho(t,"width",e.imageWidth),ho(t,"height",e.imageHeight),t.className=W.image,Cn(t,e,"image")}},gA=(n,e)=>{const t=fn(),o=Ke();if(!(!t||!o)){if(e.toast){ho(t,"width",e.width),o.style.width="100%";const s=zs();s&&o.insertBefore(s,vl())}else ho(o,"width",e.width);ho(o,"padding",e.padding),e.color&&(o.style.color=e.color),e.background&&(o.style.background=e.background),Wt(Qc()),yA(o,e)}},yA=(n,e)=>{const t=e.showClass||{};n.className=`${W.popup} ${dn(n)?t.popup:""}`,e.toast?(qe([document.documentElement,document.body],W["toast-shown"]),qe(n,W.toast)):qe(n,W.modal),Cn(n,e,"popup"),typeof e.customClass=="string"&&qe(n,e.customClass),e.icon&&qe(n,W[`icon-${e.icon}`])},vA=(n,e)=>{const t=up();if(!t)return;const{progressSteps:o,currentProgressStep:s}=e;if(!o||o.length===0||s===void 0){Wt(t);return}Nt(t),t.textContent="",s>=o.length&&hn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((l,d)=>{const h=wA(l);if(t.appendChild(h),d===s&&qe(h,W["active-progress-step"]),d!==o.length-1){const g=_A(e);t.appendChild(g)}})},wA=n=>{const e=document.createElement("li");return qe(e,W["progress-step"]),An(e,n),e},_A=n=>{const e=document.createElement("li");return qe(e,W["progress-step-line"]),n.progressStepsDistance&&ho(e,"width",n.progressStepsDistance),e},EA=(n,e)=>{const t=f0();t&&(fp(t),_l(t,e.title||e.titleText,"block"),e.title&&mp(e.title,t),e.titleText&&(t.innerText=e.titleText),Cn(t,e,"title"))},_0=(n,e)=>{gA(n,e),JI(n,e),vA(n,e),cA(n,e),mA(n,e),EA(n,e),XI(n,e),lA(n,e),QI(n,e),uA(n,e);const t=Ke();typeof e.didRender=="function"&&t&&e.didRender(t),Te.eventEmitter.emit("didRender",t)},TA=()=>dn(Ke()),E0=()=>{var n;return(n=vr())===null||n===void 0?void 0:n.click()},CA=()=>{var n;return(n=_o())===null||n===void 0?void 0:n.click()},SA=()=>{var n;return(n=Us())===null||n===void 0?void 0:n.click()},$s=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),T0=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},IA=(n,e,t)=>{T0(n),e.toast||(n.keydownHandler=o=>PA(e,o,t),n.keydownTarget=e.keydownListenerCapture?window:Ke(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},gf=(n,e)=>{var t;const o=dp();if(o.length){n=n+e,n===o.length?n=0:n===-1&&(n=o.length-1),o[n].focus();return}(t=Ke())===null||t===void 0||t.focus()},C0=["ArrowRight","ArrowDown"],AA=["ArrowLeft","ArrowUp"],PA=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?RA(e,n):e.key==="Tab"?xA(e):[...C0,...AA].includes(e.key)?kA(e.key):e.key==="Escape"&&bA(e,n,t)))},RA=(n,e)=>{if(!Kc(e.allowEnterKey))return;const t=Xc(Ke(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;E0(),n.preventDefault()}},xA=n=>{const e=n.target,t=dp();let o=-1;for(let s=0;s<t.length;s++)if(e===t[s]){o=s;break}n.shiftKey?gf(o,-1):gf(o,1),n.stopPropagation(),n.preventDefault()},kA=n=>{const e=wl(),t=vr(),o=_o(),s=Us();if(!e||!t||!o||!s)return;const l=[t,o,s];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const d=C0.includes(n)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let g=0;g<e.children.length;g++){if(h=h[d],!h)return;if(h instanceof HTMLButtonElement&&dn(h))break}h instanceof HTMLButtonElement&&h.focus()}},bA=(n,e,t)=>{Kc(e.allowEscapeKey)&&(n.preventDefault(),t($s.esc))};var bs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const NA=()=>{const n=fn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},S0=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},I0=typeof window<"u"&&!!window.GestureEvent,DA=()=>{if(I0&&!Fr(document.body,W.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,qe(document.body,W.iosfix),VA()}},VA=()=>{const n=fn();if(!n)return;let e;n.ontouchstart=t=>{e=OA(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},OA=n=>{const e=n.target,t=fn(),o=lp();return!t||!o||LA(n)||MA(n)?!1:e===t||!Hy(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Hy(o)&&o.contains(e))},LA=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",MA=n=>n.touches&&n.touches.length>1,FA=()=>{if(Fr(document.body,W.iosfix)){const n=parseInt(document.body.style.top,10);wr(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},jA=()=>{const n=document.createElement("div");n.className=W["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Ts=null;const BA=n=>{Ts===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Ts=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ts+jA()}px`)},UA=()=>{Ts!==null&&(document.body.style.paddingRight=`${Ts}px`,Ts=null)};function A0(n,e,t,o){Yc()?Gy(n,o):(PI(t).then(()=>Gy(n,o)),T0(Te)),I0?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),hp()&&(UA(),FA(),S0()),zA()}function zA(){wr([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function yi(n){n=qA(n);const e=bs.swalPromiseResolve.get(this),t=$A(this);this.isAwaitingPromise?n.isDismissed||(Tl(this),e(n)):t&&e(n)}const $A=n=>{const e=Ke();if(!e)return!1;const t=Ze.innerParams.get(n);if(!t||Fr(e,t.hideClass.popup))return!1;wr(e,t.showClass.popup),qe(e,t.hideClass.popup);const o=fn();return wr(o,t.showClass.backdrop),qe(o,t.hideClass.backdrop),HA(n,e,t),!0};function P0(n){const e=bs.swalPromiseReject.get(this);Tl(this),e&&e(n)}const Tl=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ze.innerParams.get(n)||n._destroy())},qA=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),HA=(n,e,t)=>{var o;const s=fn(),l=v0(e);typeof t.willClose=="function"&&t.willClose(e),(o=Te.eventEmitter)===null||o===void 0||o.emit("willClose",e),l?WA(n,e,s,t.returnFocus,t.didClose):A0(n,s,t.returnFocus,t.didClose)},WA=(n,e,t,o,s)=>{Te.swalCloseEventFinishedCallback=A0.bind(null,n,t,o,s);const l=function(d){if(d.target===e){var h;(h=Te.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Te),delete Te.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},Gy=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=Te.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Ns=n=>{let e=Ke();if(e||new Sn,e=Ke(),!e)return;const t=zs();Yc()?Wt(vl()):KA(e,n),Nt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},KA=(n,e)=>{const t=wl(),o=zs();!t||!o||(!e&&dn(vr())&&(e=vr()),Nt(t),e&&(Wt(e),o.setAttribute("data-button-to-replace",e.className),t.insertBefore(o,e)),qe([n,t],W.loading))},QA=(n,e)=>{e.input==="select"||e.input==="radio"?ZA(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(sp(e.inputValue)||ap(e.inputValue))&&(Ns(vr()),eP(n,e))},GA=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return YA(t);case"radio":return XA(t);case"file":return JA(t);default:return e.inputAutoTrim?t.value.trim():t.value}},YA=n=>n.checked?1:0,XA=n=>n.checked?n.value:null,JA=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,ZA=(n,e)=>{const t=Ke();if(!t)return;const o=s=>{e.input==="select"?tP(t,Ec(s),e):e.input==="radio"&&nP(t,Ec(s),e)};sp(e.inputOptions)||ap(e.inputOptions)?(Ns(vr()),gl(e.inputOptions).then(s=>{n.hideLoading(),o(s)})):typeof e.inputOptions=="object"?o(e.inputOptions):wo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},eP=(n,e)=>{const t=n.getInput();t&&(Wt(t),gl(e.inputValue).then(o=>{t.value=e.input==="number"?`${parseFloat(o)||0}`:`${o}`,Nt(t),t.focus(),n.hideLoading()}).catch(o=>{wo(`Error in inputValue promise: ${o}`),t.value="",Nt(t),t.focus(),n.hideLoading()}))};function tP(n,e,t){const o=gi(n,W.select);if(!o)return;const s=(l,d,h)=>{const g=document.createElement("option");g.value=h,An(g,d),g.selected=R0(h,t.inputValue),l.appendChild(g)};e.forEach(l=>{const d=l[0],h=l[1];if(Array.isArray(h)){const g=document.createElement("optgroup");g.label=d,g.disabled=!1,o.appendChild(g),h.forEach(v=>s(g,v[1],v[0]))}else s(o,h,d)}),o.focus()}function nP(n,e,t){const o=gi(n,W.radio);if(!o)return;e.forEach(l=>{const d=l[0],h=l[1],g=document.createElement("input"),v=document.createElement("label");g.type="radio",g.name=W.radio,g.value=d,R0(d,t.inputValue)&&(g.checked=!0);const _=document.createElement("span");An(_,h),_.className=W.label,v.appendChild(g),v.appendChild(_),o.appendChild(v)});const s=o.querySelectorAll("input");s.length&&s[0].focus()}const Ec=n=>{const e=[];return n instanceof Map?n.forEach((t,o)=>{let s=t;typeof s=="object"&&(s=Ec(s)),e.push([o,s])}):Object.keys(n).forEach(t=>{let o=n[t];typeof o=="object"&&(o=Ec(o)),e.push([t,o])}),e},R0=(n,e)=>!!e&&e.toString()===n.toString(),rP=n=>{const e=Ze.innerParams.get(n);n.disableButtons(),e.input?x0(n,"confirm"):vp(n,!0)},iP=n=>{const e=Ze.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?x0(n,"deny"):yp(n,!1)},oP=(n,e)=>{n.disableButtons(),e($s.cancel)},x0=(n,e)=>{const t=Ze.innerParams.get(n);if(!t.input){wo(`The "input" parameter is needed to be set when using returnInputValueOn${op(e)}`);return}const o=n.getInput(),s=GA(n,t);t.inputValidator?sP(n,s,e):o&&!o.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||o.validationMessage)):e==="deny"?yp(n,s):vp(n,s)},sP=(n,e,t)=>{const o=Ze.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>gl(o.inputValidator(e,o.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?yp(n,e):vp(n,e)})},yp=(n,e)=>{const t=Ze.innerParams.get(n||void 0);t.showLoaderOnDeny&&Ns(_o()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>gl(t.preDeny(e,t.validationMessage))).then(s=>{s===!1?(n.hideLoading(),Tl(n)):n.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>k0(n||void 0,s))):n.close({isDenied:!0,value:e})},Yy=(n,e)=>{n.close({isConfirmed:!0,value:e})},k0=(n,e)=>{n.rejectPromise(e)},vp=(n,e)=>{const t=Ze.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Ns(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>gl(t.preConfirm(e,t.validationMessage))).then(s=>{dn(Qc())||s===!1?(n.hideLoading(),Tl(n)):Yy(n,typeof s>"u"?e:s)}).catch(s=>k0(n||void 0,s))):Yy(n,e)};function Tc(){const n=Ze.innerParams.get(this);if(!n)return;const e=Ze.domCache.get(this);Wt(e.loader),Yc()?n.icon&&Nt(vl()):aP(e),wr([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const aP=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Nt(e[0],"inline-block"):LI()&&Wt(n.actions)};function b0(){const n=Ze.innerParams.get(this),e=Ze.domCache.get(this);return e?Xc(e.popup,n.input):null}function N0(n,e,t){const o=Ze.domCache.get(n);e.forEach(s=>{o[s].disabled=t})}function D0(n,e){const t=Ke();if(!(!t||!n))if(n.type==="radio"){const o=t.querySelectorAll(`[name="${W.radio}"]`);for(let s=0;s<o.length;s++)o[s].disabled=e}else n.disabled=e}function V0(){N0(this,["confirmButton","denyButton","cancelButton"],!1)}function O0(){N0(this,["confirmButton","denyButton","cancelButton"],!0)}function L0(){D0(this.getInput(),!1)}function M0(){D0(this.getInput(),!0)}function F0(n){const e=Ze.domCache.get(this),t=Ze.innerParams.get(this);An(e.validationMessage,n),e.validationMessage.className=W["validation-message"],t.customClass&&t.customClass.validationMessage&&qe(e.validationMessage,t.customClass.validationMessage),Nt(e.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",W["validation-message"]),g0(o),qe(o,W.inputerror))}function j0(){const n=Ze.domCache.get(this);n.validationMessage&&Wt(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),wr(e,W.inputerror))}const Cs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},lP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],uP={allowEnterKey:void 0},cP=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],B0=n=>Object.prototype.hasOwnProperty.call(Cs,n),U0=n=>lP.indexOf(n)!==-1,z0=n=>uP[n],dP=n=>{B0(n)||hn(`Unknown parameter "${n}"`)},hP=n=>{cP.includes(n)&&hn(`The parameter "${n}" is incompatible with toasts`)},fP=n=>{const e=z0(n);e&&h0(n,e)},pP=n=>{n.backdrop===!1&&n.allowOutsideClick&&hn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)dP(e),n.toast&&hP(e),fP(e)};function $0(n){const e=Ke(),t=Ze.innerParams.get(this);if(!e||Fr(e,t.hideClass.popup)){hn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=mP(n),s=Object.assign({},t,o);_0(this,s),Ze.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const mP=n=>{const e={};return Object.keys(n).forEach(t=>{U0(t)?e[t]=n[t]:hn(`Invalid parameter to update: ${t}`)}),e};function q0(){const n=Ze.domCache.get(this),e=Ze.innerParams.get(this);if(!e){H0(this);return}n.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Te.eventEmitter.emit("didDestroy"),gP(this)}const gP=n=>{H0(n),delete n.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},H0=n=>{n.isAwaitingPromise?(Fh(Ze,n),n.isAwaitingPromise=!0):(Fh(bs,n),Fh(Ze,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Fh=(n,e)=>{for(const t in n)n[t].delete(e)};var yP=Object.freeze({__proto__:null,_destroy:q0,close:yi,closeModal:yi,closePopup:yi,closeToast:yi,disableButtons:O0,disableInput:M0,disableLoading:Tc,enableButtons:V0,enableInput:L0,getInput:b0,handleAwaitingPromise:Tl,hideLoading:Tc,rejectPromise:P0,resetValidationMessage:j0,showValidationMessage:F0,update:$0});const vP=(n,e,t)=>{n.toast?wP(n,e,t):(EP(e),TP(e),CP(n,e,t))},wP=(n,e,t)=>{e.popup.onclick=()=>{n&&(_P(n)||n.timer||n.input)||t($s.close)}},_P=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Cc=!1;const EP=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Cc=!0)}}},TP=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Cc=!0)}}},CP=(n,e,t)=>{e.container.onclick=o=>{if(Cc){Cc=!1;return}o.target===e.container&&Kc(n.allowOutsideClick)&&t($s.backdrop)}},SP=n=>typeof n=="object"&&n.jquery,Xy=n=>n instanceof Element||SP(n),IP=n=>{const e={};return typeof n[0]=="object"&&!Xy(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,o)=>{const s=n[o];typeof s=="string"||Xy(s)?e[t]=s:s!==void 0&&wo(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof s}`)}),e};function AP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function PP(n){class e extends this{_main(o,s){return super._main(o,Object.assign({},n,s))}}return e}const RP=()=>Te.timeout&&Te.timeout.getTimerLeft(),W0=()=>{if(Te.timeout)return MI(),Te.timeout.stop()},K0=()=>{if(Te.timeout){const n=Te.timeout.start();return pp(n),n}},xP=()=>{const n=Te.timeout;return n&&(n.running?W0():K0())},kP=n=>{if(Te.timeout){const e=Te.timeout.increase(n);return pp(e,!0),e}},bP=()=>!!(Te.timeout&&Te.timeout.isRunning());let Jy=!1;const yf={};function NP(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";yf[n]=this,Jy||(document.body.addEventListener("click",DP),Jy=!0)}const DP=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in yf){const o=e.getAttribute(t);if(o){yf[t].fire({template:o});return}}};class VP{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const o=this._getHandlersByEventName(e);o.includes(t)||o.push(t)}once(e,t){var o=this;const s=function(){o.removeListener(e,s);for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];t.apply(o,d)};this.on(e,s)}emit(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(l=>{try{l.apply(this,o)}catch(d){console.error(d)}})}removeListener(e,t){const o=this._getHandlersByEventName(e),s=o.indexOf(t);s>-1&&o.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Te.eventEmitter=new VP;const OP=(n,e)=>{Te.eventEmitter.on(n,e)},LP=(n,e)=>{Te.eventEmitter.once(n,e)},MP=(n,e)=>{if(!n){Te.eventEmitter.reset();return}e?Te.eventEmitter.removeListener(n,e):Te.eventEmitter.removeAllListeners(n)};var FP=Object.freeze({__proto__:null,argsToParams:IP,bindClickHandler:NP,clickCancel:SA,clickConfirm:E0,clickDeny:CA,enableLoading:Ns,fire:AP,getActions:wl,getCancelButton:Us,getCloseButton:cp,getConfirmButton:vr,getContainer:fn,getDenyButton:_o,getFocusableElements:dp,getFooter:m0,getHtmlContainer:lp,getIcon:vl,getIconContent:bI,getImage:p0,getInputLabel:NI,getLoader:zs,getPopup:Ke,getProgressSteps:up,getTimerLeft:RP,getTimerProgressBar:Gc,getTitle:f0,getValidationMessage:Qc,increaseTimer:kP,isDeprecatedParameter:z0,isLoading:VI,isTimerRunning:bP,isUpdatableParameter:U0,isValidParameter:B0,isVisible:TA,mixin:PP,off:MP,on:OP,once:LP,resumeTimer:K0,showLoading:Ns,stopTimer:W0,toggleTimer:xP});class jP{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Q0=["swal-title","swal-html","swal-footer"],BP=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return QP(t),Object.assign(UP(t),zP(t),$P(t),qP(t),HP(t),WP(t),KP(t,Q0))},UP=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(o=>{go(o,["name","value"]);const s=o.getAttribute("name"),l=o.getAttribute("value");!s||!l||(typeof Cs[s]=="boolean"?e[s]=l!=="false":typeof Cs[s]=="object"?e[s]=JSON.parse(l):e[s]=l)}),e},zP=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(o=>{const s=o.getAttribute("name"),l=o.getAttribute("value");!s||!l||(e[s]=new Function(`return ${l}`)())}),e},$P=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(o=>{go(o,["type","color","aria-label"]);const s=o.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=o.innerHTML,e[`show${op(s)}Button`]=!0,o.hasAttribute("color")&&(e[`${s}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),e},qP=n=>{const e={},t=n.querySelector("swal-image");return t&&(go(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},HP=n=>{const e={},t=n.querySelector("swal-icon");return t&&(go(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},WP=n=>{const e={},t=n.querySelector("swal-input");t&&(go(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const o=Array.from(n.querySelectorAll("swal-input-option"));return o.length&&(e.inputOptions={},o.forEach(s=>{go(s,["value"]);const l=s.getAttribute("value");if(!l)return;const d=s.innerHTML;e.inputOptions[l]=d})),e},KP=(n,e)=>{const t={};for(const o in e){const s=e[o],l=n.querySelector(s);l&&(go(l,[]),t[s.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},QP=n=>{const e=Q0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const o=t.tagName.toLowerCase();e.includes(o)||hn(`Unrecognized element <${o}>`)})},go=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&hn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},G0=10,GP=n=>{const e=fn(),t=Ke();typeof n.willOpen=="function"&&n.willOpen(t),Te.eventEmitter.emit("willOpen",t);const s=window.getComputedStyle(document.body).overflowY;JP(e,t,n),setTimeout(()=>{YP(e,t)},G0),hp()&&(XP(e,n.scrollbarPadding,s),NA()),!Yc()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),Te.eventEmitter.emit("didOpen",t),wr(e,W["no-transition"])},Sc=n=>{const e=Ke();if(n.target!==e)return;const t=fn();e.removeEventListener("animationend",Sc),e.removeEventListener("transitionend",Sc),t.style.overflowY="auto"},YP=(n,e)=>{v0(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Sc),e.addEventListener("transitionend",Sc)):n.style.overflowY="auto"},XP=(n,e,t)=>{DA(),e&&t!=="hidden"&&BA(t),setTimeout(()=>{n.scrollTop=0})},JP=(n,e,t)=>{qe(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Nt(e,"grid"),setTimeout(()=>{qe(e,t.showClass.popup),e.style.removeProperty("opacity")},G0)):Nt(e,"grid"),qe([document.documentElement,document.body],W.shown),t.heightAuto&&t.backdrop&&!t.toast&&qe([document.documentElement,document.body],W["height-auto"])};var Zy={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ZP(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Zy.email),n.input==="url"&&(n.inputValidator=Zy.url))}function eR(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(hn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function tR(n){ZP(n),n.showLoaderOnConfirm&&!n.preConfirm&&hn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),eR(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),HI(n)}let fr;var qu=new WeakMap;class ft{constructor(){if(CI(this,qu,void 0),typeof window>"u")return;fr=this;for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,SI(qu,this,this._main(fr.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pP(Object.assign({},t,e)),Te.currentInstance){const l=bs.swalPromiseResolve.get(Te.currentInstance),{isAwaitingPromise:d}=Te.currentInstance;Te.currentInstance._destroy(),d||l({isDismissed:!0}),hp()&&S0()}Te.currentInstance=fr;const o=rR(e,t);tR(o),Object.freeze(o),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);const s=iR(fr);return _0(fr,o),Ze.innerParams.set(fr,o),nR(fr,s,o)}then(e){return zy(qu,this).then(e)}finally(e){return zy(qu,this).finally(e)}}const nR=(n,e,t)=>new Promise((o,s)=>{const l=d=>{n.close({isDismissed:!0,dismiss:d})};bs.swalPromiseResolve.set(n,o),bs.swalPromiseReject.set(n,s),e.confirmButton.onclick=()=>{rP(n)},e.denyButton.onclick=()=>{iP(n)},e.cancelButton.onclick=()=>{oP(n,l)},e.closeButton.onclick=()=>{l($s.close)},vP(t,e,l),IA(Te,t,l),QA(n,t),GP(t),oR(Te,t,l),sR(e,t),setTimeout(()=>{e.container.scrollTop=0})}),rR=(n,e)=>{const t=BP(n),o=Object.assign({},Cs,e,t,n);return o.showClass=Object.assign({},Cs.showClass,o.showClass),o.hideClass=Object.assign({},Cs.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},iR=n=>{const e={popup:Ke(),container:fn(),actions:wl(),confirmButton:vr(),denyButton:_o(),cancelButton:Us(),loader:zs(),closeButton:cp(),validationMessage:Qc(),progressSteps:up()};return Ze.domCache.set(n,e),e},oR=(n,e,t)=>{const o=Gc();Wt(o),e.timer&&(n.timeout=new jP(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Nt(o),Cn(o,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&pp(e.timer)})))},sR=(n,e)=>{if(!e.toast){if(!Kc(e.allowEnterKey)){h0("allowEnterKey"),uR();return}aR(n)||lR(n,e)||gf(-1,1)}},aR=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&dn(t))return t.focus(),!0;return!1},lR=(n,e)=>e.focusDeny&&dn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&dn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&dn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,uR=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}ft.prototype.disableButtons=O0;ft.prototype.enableButtons=V0;ft.prototype.getInput=b0;ft.prototype.disableInput=M0;ft.prototype.enableInput=L0;ft.prototype.hideLoading=Tc;ft.prototype.disableLoading=Tc;ft.prototype.showValidationMessage=F0;ft.prototype.resetValidationMessage=j0;ft.prototype.close=yi;ft.prototype.closePopup=yi;ft.prototype.closeModal=yi;ft.prototype.closeToast=yi;ft.prototype.rejectPromise=P0;ft.prototype.update=$0;ft.prototype._destroy=q0;Object.assign(ft,FP);Object.keys(yP).forEach(n=>{ft[n]=function(){return fr&&fr[n]?fr[n](...arguments):null}});ft.DismissReason=$s;ft.version="11.14.5";const Sn=ft;Sn.default=Sn;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Cl=X.createContext(),cR=({children:n})=>{//! States
const[e,t]=X.useState([]),[o,s]=X.useState(0);//! Function AddCart 
const l=(E,C)=>{const D=d(E.id);let M=[...e];D?M=e.map(z=>z.id===E.id?{...z,quantity:z.quantity+C}:z):M.push({...E,quantity:C}),t(M),s(M.length)};//! Function isInCart
const d=E=>e.some(C=>C.id===E);//! Function deleteProductCart
const h=E=>{Sn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(C=>{if(C.isConfirmed){const D=e.filter(M=>M.id!==E);t(D),Sn.fire({icon:"success",title:"Product Removed",text:"The product has been successfully removed from your cart."})}})};//! Function getTotalItems
const g=()=>e.reduce((E,C)=>E+C.quantity,0);//! Function getTotalPrice
const v=X.useMemo(()=>e.reduce((E,C)=>E+C.price*C.quantity,0),[e]);//! Function clearCart
const _=()=>{t([])};return k.jsx(Cl.Provider,{value:{cart:e,clearCart:_,addCart:l,quantity:o,totalItems:g(),getTotalPrice:v,deleteItem:h},children:n})},dR=({checked:n,setChecked:e})=>{const t=n?"dark mode":"light mode";return k.jsx("button",{className:"btn-themeSwitch",onClick:()=>e(o=>!o),"aria-pressed":n,title:t,children:n?k.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"})}):k.jsxs("svg",{width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24","aria-label":"sol",children:[k.jsx("path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C12.4142 1.25 12.75 1.58579 12.75 2V4C12.75 4.41421 12.4142 4.75 12 4.75C11.5858 4.75 11.25 4.41421 11.25 4V2C11.25 1.58579 11.5858 1.25 12 1.25ZM3.66865 3.71609C3.94815 3.41039 4.42255 3.38915 4.72825 3.66865L6.95026 5.70024C7.25596 5.97974 7.2772 6.45413 6.9977 6.75983C6.7182 7.06553 6.2438 7.08677 5.9381 6.80727L3.71609 4.77569C3.41039 4.49619 3.38915 4.02179 3.66865 3.71609ZM20.3314 3.71609C20.6109 4.02179 20.5896 4.49619 20.2839 4.77569L18.0619 6.80727C17.7562 7.08677 17.2818 7.06553 17.0023 6.75983C16.7228 6.45413 16.744 5.97974 17.0497 5.70024L19.2718 3.66865C19.5775 3.38915 20.0518 3.41039 20.3314 3.71609ZM1.25 12C1.25 11.5858 1.58579 11.25 2 11.25H4C4.41421 11.25 4.75 11.5858 4.75 12C4.75 12.4142 4.41421 12.75 4 12.75H2C1.58579 12.75 1.25 12.4142 1.25 12ZM19.25 12C19.25 11.5858 19.5858 11.25 20 11.25H22C22.4142 11.25 22.75 11.5858 22.75 12C22.75 12.4142 22.4142 12.75 22 12.75H20C19.5858 12.75 19.25 12.4142 19.25 12ZM17.0255 17.0252C17.3184 16.7323 17.7933 16.7323 18.0862 17.0252L20.3082 19.2475C20.6011 19.5404 20.601 20.0153 20.3081 20.3082C20.0152 20.6011 19.5403 20.601 19.2475 20.3081L17.0255 18.0858C16.7326 17.7929 16.7326 17.3181 17.0255 17.0252ZM6.97467 17.0253C7.26756 17.3182 7.26756 17.7931 6.97467 18.086L4.75244 20.3082C4.45955 20.6011 3.98468 20.6011 3.69178 20.3082C3.39889 20.0153 3.39889 19.5404 3.69178 19.2476L5.91401 17.0253C6.2069 16.7324 6.68177 16.7324 6.97467 17.0253ZM12 19.25C12.4142 19.25 12.75 19.5858 12.75 20V22C12.75 22.4142 12.4142 22.75 12 22.75C11.5858 22.75 11.25 22.4142 11.25 22V20C11.25 19.5858 11.5858 19.25 12 19.25Z"})]})})},hR=()=>{//! Context
const{theme:n,setTheme:e}=X.useContext(Wc),{totalItems:t}=X.useContext(Cl);return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"operations-container",children:[k.jsx("section",{className:"section-themSwitch",children:k.jsx(dR,{checked:n,setChecked:e})}),k.jsx("section",{className:"section-cart",children:k.jsx(Jt,{to:"/cart",children:k.jsx("div",{className:"cart-icon-box",children:k.jsxs("div",{className:"cart-icon",title:"cart",children:[k.jsxs("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("path",{d:"M14.6646 2.32919C15.0351 2.14395 15.4856 2.29412 15.6708 2.6646L17.872 7.06692C19.2251 7.17087 20.0742 7.43628 20.6221 8.11398C21.0575 8.65255 21.1984 9.3226 21.1466 10.25H2.85346C2.80168 9.3226 2.94261 8.65255 3.378 8.11398C3.92585 7.43629 4.77494 7.17088 6.12802 7.06693L8.32918 2.6646C8.51442 2.29412 8.96493 2.14395 9.33541 2.32919C9.70589 2.51443 9.85606 2.96494 9.67082 3.33542L7.83589 7.00528C8.31911 7.00001 8.84638 7.00001 9.42196 7.00001H14.5781C15.1537 7.00001 15.6809 7.00001 16.1641 7.00528L14.3292 3.33542C14.1439 2.96494 14.2941 2.51443 14.6646 2.32919Z",fill:"currentColor"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55514 14.2572C3.34814 13.2912 3.17096 12.4643 3.04514 11.75H20.9549C20.8291 12.4643 20.6519 13.2911 20.4449 14.2571L20.0164 16.2572C19.5294 18.5297 19.2859 19.666 18.4608 20.333C17.6357 21 16.4737 21 14.1495 21H9.85053C7.52639 21 6.36432 21 5.53925 20.333C4.71418 19.666 4.47069 18.5297 3.98372 16.2572L3.55514 14.2572ZM10 13.25C9.58579 13.25 9.25 13.5858 9.25 14C9.25 14.4142 9.58579 14.75 10 14.75H14C14.4142 14.75 14.75 14.4142 14.75 14C14.75 13.5858 14.4142 13.25 14 13.25H10Z",fill:"currentColor"})]}),k.jsx("p",{children:t})]})})})})]})})},fR=()=>{//! Theme: light / dark
const{theme:n}=X.useContext(Wc);return k.jsxs("div",{className:`header-container-${n?"light":"dark"}`,children:[k.jsx(wI,{}),k.jsx(_I,{}),k.jsx(hR,{})]})},pR=()=>k.jsxs("div",{className:"footer-container",children:[k.jsx("small",{children:"© ALL RIGHTS RESERVED"}),k.jsx("p",{children:"clicky.com Jardín Alto 7700, Vitacura"})]}),mR=({children:n})=>{//! Theme: light / dark
const{theme:e}=X.useContext(Wc);return k.jsxs(k.Fragment,{children:[k.jsx(fR,{}),k.jsx("div",{className:`layout-container-${e?"light":"dark"}`,children:n}),k.jsx(pR,{})]})},gR=({addCart:n,stock:e})=>{let[t,o]=X.useState(1),s=()=>{t<e?o(h=>h+1):Sn.fire({icon:"error",title:"Limit Reached",text:`You can only add up to ${e} ${e===1?"unit":"units"}.`})},l=()=>{o(h=>h>1?h-1:h)};const d=h=>{let g=Math.max(1,parseInt(h.target.value||1));g>e?(Sn.fire({icon:"error",title:"Limit Reached",text:`You can only add up to ${e} ${e===1?"unit":"units"}.`}),o(e)):o(g)};return k.jsxs(k.Fragment,{children:[k.jsx("h3",{children:"Quantity: "}),k.jsxs("p",{children:["Stock available: ",e]}),k.jsxs("div",{className:"input-container",children:[k.jsx("button",{className:"btn-decrement",onClick:l,children:"-"}),k.jsx("input",{type:"number",value:t,onChange:d,min:"1",max:e}),k.jsx("button",{className:"btn-increment",onClick:s,children:"+"})]}),k.jsxs("div",{className:"btnDetail-container",children:[k.jsx("button",{className:"btn-addCartDetail",onClick:()=>n(t),children:"Add Cart"}),k.jsx(Jt,{to:"/",children:k.jsx("button",{className:"btn-continueShopping",children:"Continue Shopping"})})]})]})},yR=({product:n})=>{//! Context
const{addCart:e}=X.useContext(Cl);//! States
const[t,o]=X.useState(!1);//! Function handleCart
const s=l=>{if(l>n.stock){Sn.fire({icon:"error",title:"Limit Reached",text:`You can only add up to ${n.stock} ${n.stock===1?"unit":"units"}.`});return}Sn.fire({icon:"success",title:"Product Added",text:`${l} ${l===1?"unit":"units"} added to the cart!`}),e(n,l),o(!0)};return n?k.jsxs("div",{className:"itemDetail",children:[k.jsx("img",{src:n.image,alt:n.title}),k.jsxs("div",{className:"detail-container",children:[k.jsxs("section",{className:"section-title",children:[k.jsx("h2",{children:n.title}),k.jsx("hr",{}),k.jsxs("p",{className:"price",children:["$",n.price," CLP"]})]}),k.jsxs("section",{className:"section-details",children:[k.jsx("h3",{children:"Product Details"}),k.jsxs("dl",{children:[k.jsx("dt",{children:"Size: "}),k.jsxs("dd",{children:["Keyboard ",n.category," %"]}),k.jsx("dt",{children:"Description: "}),k.jsx("dd",{children:n.description})]})]}),k.jsx("section",{className:"section-quantity",children:t?k.jsx(k.Fragment,{children:k.jsxs("div",{className:"btnDetail-container",children:[k.jsx(Jt,{to:"/cart",children:k.jsx("button",{className:"btn-addCartDetail",children:"Go to Cart"})}),k.jsx(Jt,{to:"/",children:k.jsx("button",{className:"btn-continueShopping",children:"Continue Shopping"})})]})}):k.jsx(k.Fragment,{children:k.jsx(gR,{addCart:s,stock:n.stock})})})]})]}):k.jsxs("div",{className:"product-notFound-container",children:[k.jsx("h2",{className:"title-notFound",children:"Oops! Product not found"}),k.jsx(Jt,{to:"/",children:k.jsx("button",{className:"btn-productNotFound",children:"Go Back Home"})})]})},vR=()=>{const[n,e]=X.useState(null),[t,o]=X.useState(!1),{id:s}=wf();return X.useEffect(()=>{(async()=>{o(!0);try{const d=Wf(Es,"products",s),h=await sI(d);h.exists()&&e({...h.data(),id:s})}catch(d){console.error("Error fetching products:",d)}finally{o(!1)}})()},[s]),t?k.jsx(Rc,{}):k.jsx(yR,{product:n})},wR=()=>k.jsxs("div",{className:"notFound-container",children:[k.jsx("h1",{className:"notFound-title",children:"404"}),k.jsx("p",{className:"notFound-message",children:"Oops! The page you're looking for doesn't exist."}),k.jsx(Jt,{to:"/",className:"notFound-link",children:"Go back home"})]}),_R=({item:n})=>{const{deleteItem:e}=X.useContext(Cl);return k.jsxs("div",{className:"cartItem",children:[k.jsx("img",{src:n.image}),k.jsxs("section",{className:"productCart-container",children:[k.jsxs("div",{className:"productCart-title-container",children:[k.jsx("h1",{children:n.title}),k.jsxs("p",{children:["Keyboard ",n.category,"%"]})]}),k.jsxs("div",{className:"productCart-information-container",children:[k.jsxs("p",{className:"price-productCart",children:["$",n.price," CLP"]}),k.jsxs("p",{className:"quantity-productCart",children:["Quantity: ",n.quantity]})]}),k.jsx("div",{className:"productCart-operation-container",children:k.jsx("button",{className:"btn-productCart-delete",title:"delete",onClick:()=>e(n.id),children:k.jsx("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M5.755,20.283,4,8H20L18.245,20.283A2,2,0,0,1,16.265,22H7.735A2,2,0,0,1,5.755,20.283ZM21,4H16V3a1,1,0,0,0-1-1H9A1,1,0,0,0,8,3V4H3A1,1,0,0,0,3,6H21a1,1,0,0,0,0-2Z",fill:"currentColor"})})})})]})]})},ER=async(n,e)=>{const t=[];for(const s of n){const l=Wf(Es,"products",s.id);t.push({ref:l,id:s.id,quantity:s.quantity})}const o=pf(Es,"orders");try{return await hI(Es,async l=>{const d=[];let h=0;for(const E of t){const{ref:C,quantity:D}=E,M=await l.get(C);if(!M.exists()){Sn.fire({icon:"error",title:"Oops...",text:"Product does not exist!",confirmButtonText:"OK"});return}const z=M.data(),F=n.find(ae=>ae.id===M.id);h+=z.price*D;const se=z.stock-F.quantity;if(se<0){Sn.fire({icon:"error",title:"Stock insuficiente",text:`Producto: ${z.title}, no tiene suficiente stock. 
                               Stock actual: ${z.stock}, cantidad solicitada: ${F.quantity}`,confirmButtonText:"Aceptar"});return}d.push({productId:M.id,stock:se})}for(const E of t){const{ref:C,id:D}=E,M=d.find(z=>z.productId===D);M&&l.update(C,{stock:M.stock})}const g={products:[...n],user:e,total:h,estado:"generada",timestamp:fI()};return{id:(await aI(o,g)).id,...g}})}catch(s){throw console.error("Error fetching products:",s),new Error(s)}};var Hu={exports:{}},fi={},jh={exports:{}},Bh,ev;function TR(){if(ev)return Bh;ev=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bh=n,Bh}var Uh,tv;function CR(){if(tv)return Uh;tv=1;var n=TR();function e(){}function t(){}return t.resetWarningCache=e,Uh=function(){function o(d,h,g,v,_,E){if(E!==n){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}o.isRequired=o;function s(){return o}var l={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Uh}var nv;function Y0(){return nv||(nv=1,jh.exports=CR()()),jh.exports}var Wu={exports:{}},Mn={},Ku={exports:{}},rv;function X0(){return rv||(rv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",o="contents",s=/input|select|textarea|button|object|iframe/;function l(E,C){return C.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function d(E){var C=E.offsetWidth<=0&&E.offsetHeight<=0;if(C&&!E.innerHTML)return!0;try{var D=window.getComputedStyle(E),M=D.getPropertyValue("display");return C?M!==o&&l(E,D):M===t}catch{return console.warn("Failed to inspect element style"),!1}}function h(E){for(var C=E,D=E.getRootNode&&E.getRootNode();C&&C!==document.body;){if(D&&C===D&&(C=D.host.parentNode),d(C))return!1;C=C.parentNode}return!0}function g(E,C){var D=E.nodeName.toLowerCase(),M=s.test(D)&&!E.disabled||D==="a"&&E.href||C;return M&&h(E)}function v(E){var C=E.getAttribute("tabindex");C===null&&(C=void 0);var D=isNaN(C);return(D||C>=0)&&g(E,!D)}function _(E){var C=[].slice.call(E.querySelectorAll("*"),0).reduce(function(D,M){return D.concat(M.shadowRoot?_(M.shadowRoot):[M])},[]);return C.filter(v)}n.exports=e.default}(Ku,Ku.exports)),Ku.exports}var iv;function SR(){if(iv)return Mn;iv=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.resetState=d,Mn.log=h,Mn.handleBlur=g,Mn.handleFocus=v,Mn.markForFocusLater=_,Mn.returnFocus=E,Mn.popWithoutFocus=C,Mn.setupScopedFocus=D,Mn.teardownScopedFocus=M;var n=X0(),e=t(n);function t(z){return z&&z.__esModule?z:{default:z}}var o=[],s=null,l=!1;function d(){o=[]}function h(){}function g(){l=!0}function v(){if(l){if(l=!1,!s)return;setTimeout(function(){if(!s.contains(document.activeElement)){var z=(0,e.default)(s)[0]||s;z.focus()}},0)}}function _(){o.push(document.activeElement)}function E(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=null;try{o.length!==0&&(F=o.pop(),F.focus({preventScroll:z}));return}catch{console.warn(["You tried to return focus to",F,"but it is not in the DOM anymore"].join(" "))}}function C(){o.length>0&&o.pop()}function D(z){s=z,window.addEventListener?(window.addEventListener("blur",g,!1),document.addEventListener("focus",v,!0)):(window.attachEvent("onBlur",g),document.attachEvent("onFocus",v))}function M(){s=null,window.addEventListener?(window.removeEventListener("blur",g),document.removeEventListener("focus",v)):(window.detachEvent("onBlur",g),document.detachEvent("onFocus",v))}return Mn}var Qu={exports:{}},ov;function IR(){return ov||(ov=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=X0(),o=s(t);function s(h){return h&&h.__esModule?h:{default:h}}function l(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return h.activeElement.shadowRoot?l(h.activeElement.shadowRoot):h.activeElement}function d(h,g){var v=(0,o.default)(h);if(!v.length){g.preventDefault();return}var _=void 0,E=g.shiftKey,C=v[0],D=v[v.length-1],M=l();if(h===M){if(!E)return;_=D}if(D===M&&!E&&(_=C),C===M&&E&&(_=D),_){g.preventDefault(),_.focus();return}var z=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),F=z!=null&&z[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(F){var se=v.indexOf(M);if(se>-1&&(se+=E?-1:1),_=v[se],typeof _>"u"){g.preventDefault(),_=E?D:C,_.focus();return}g.preventDefault(),_.focus()}}n.exports=e.default}(Qu,Qu.exports)),Qu.exports}var Zn={},zh,sv;function AR(){if(sv)return zh;sv=1;var n=function(){};return zh=n,zh}var hr={},$h={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var av;function PR(){return av||(av=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}($h)),$h.exports}var lv;function wp(){if(lv)return hr;lv=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.canUseDOM=hr.SafeNodeList=hr.SafeHTMLCollection=void 0;var n=PR(),e=t(n);function t(l){return l&&l.__esModule?l:{default:l}}var o=e.default,s=o.canUseDOM?window.HTMLElement:{};return hr.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},hr.SafeNodeList=o.canUseDOM?window.NodeList:{},hr.canUseDOM=o.canUseDOM,hr.default=s,hr}var uv;function J0(){if(uv)return Zn;uv=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.resetState=l,Zn.log=d,Zn.assertNodeList=h,Zn.setElement=g,Zn.validateElement=v,Zn.hide=_,Zn.show=E,Zn.documentNotReadyOrSSRTesting=C;var n=AR(),e=o(n),t=wp();function o(D){return D&&D.__esModule?D:{default:D}}var s=null;function l(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):s.length!=null?s.forEach(function(D){return D.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(D){return D.removeAttribute("aria-hidden")})),s=null}function d(){}function h(D,M){if(!D||!D.length)throw new Error("react-modal: No elements were found for selector "+M+".")}function g(D){var M=D;if(typeof M=="string"&&t.canUseDOM){var z=document.querySelectorAll(M);h(z,M),M=z}return s=M||s,s}function v(D){var M=D||s;return M?Array.isArray(M)||M instanceof HTMLCollection||M instanceof NodeList?M:[M]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function _(D){var M=!0,z=!1,F=void 0;try{for(var se=v(D)[Symbol.iterator](),ae;!(M=(ae=se.next()).done);M=!0){var ue=ae.value;ue.setAttribute("aria-hidden","true")}}catch(fe){z=!0,F=fe}finally{try{!M&&se.return&&se.return()}finally{if(z)throw F}}}function E(D){var M=!0,z=!1,F=void 0;try{for(var se=v(D)[Symbol.iterator](),ae;!(M=(ae=se.next()).done);M=!0){var ue=ae.value;ue.removeAttribute("aria-hidden")}}catch(fe){z=!0,F=fe}finally{try{!M&&se.return&&se.return()}finally{if(z)throw F}}}function C(){s=null}return Zn}var so={},cv;function RR(){if(cv)return so;cv=1,Object.defineProperty(so,"__esModule",{value:!0}),so.resetState=o,so.log=s;var n={},e={};function t(v,_){v.classList.remove(_)}function o(){var v=document.getElementsByTagName("html")[0];for(var _ in n)t(v,n[_]);var E=document.body;for(var C in e)t(E,e[C]);n={},e={}}function s(){}var l=function(_,E){return _[E]||(_[E]=0),_[E]+=1,E},d=function(_,E){return _[E]&&(_[E]-=1),E},h=function(_,E,C){C.forEach(function(D){l(E,D),_.add(D)})},g=function(_,E,C){C.forEach(function(D){d(E,D),E[D]===0&&_.remove(D)})};return so.add=function(_,E){return h(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},so.remove=function(_,E){return g(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},so}var fs={},dv;function Z0(){if(dv)return fs;dv=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.log=o,fs.resetState=s;function n(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var e=function l(){var d=this;n(this,l),this.register=function(h){d.openInstances.indexOf(h)===-1&&(d.openInstances.push(h),d.emit("register"))},this.deregister=function(h){var g=d.openInstances.indexOf(h);g!==-1&&(d.openInstances.splice(g,1),d.emit("deregister"))},this.subscribe=function(h){d.subscribers.push(h)},this.emit=function(h){d.subscribers.forEach(function(g){return g(h,d.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function o(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(l){return console.log(l)}),console.log("end portalOpenInstances ----------")}function s(){t=new e}return fs.default=t,fs}var Ba={},hv;function xR(){if(hv)return Ba;hv=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.resetState=d,Ba.log=h;var n=Z0(),e=t(n);function t(_){return _&&_.__esModule?_:{default:_}}var o=void 0,s=void 0,l=[];function d(){for(var _=[o,s],E=0;E<_.length;E++){var C=_[E];C&&C.parentNode&&C.parentNode.removeChild(C)}o=s=null,l=[]}function h(){console.log("bodyTrap ----------"),console.log(l.length);for(var _=[o,s],E=0;E<_.length;E++){var C=_[E],D=C||{};console.log(D.nodeName,D.className,D.id)}console.log("edn bodyTrap ----------")}function g(){l.length!==0&&l[l.length-1].focusContent()}function v(_,E){!o&&!s&&(o=document.createElement("div"),o.setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",g),s=o.cloneNode(),s.addEventListener("focus",g)),l=E,l.length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(o.parentElement&&o.parentElement.removeChild(o),s.parentElement&&s.parentElement.removeChild(s))}return e.default.subscribe(v),Ba}var fv;function kR(){return fv||(fv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(ne){for(var ie=1;ie<arguments.length;ie++){var Ie=arguments[ie];for(var $ in Ie)Object.prototype.hasOwnProperty.call(Ie,$)&&(ne[$]=Ie[$])}return ne},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},s=function(){function ne(ie,Ie){for(var $=0;$<Ie.length;$++){var K=Ie[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ie,K.key,K)}}return function(ie,Ie,$){return Ie&&ne(ie.prototype,Ie),$&&ne(ie,$),ie}}(),l=sl(),d=Y0(),h=Ne(d),g=SR(),v=fe(g),_=IR(),E=Ne(_),C=J0(),D=fe(C),M=RR(),z=fe(M),F=wp(),se=Ne(F),ae=Z0(),ue=Ne(ae);xR();function fe(ne){if(ne&&ne.__esModule)return ne;var ie={};if(ne!=null)for(var Ie in ne)Object.prototype.hasOwnProperty.call(ne,Ie)&&(ie[Ie]=ne[Ie]);return ie.default=ne,ie}function Ne(ne){return ne&&ne.__esModule?ne:{default:ne}}function Ae(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")}function O(ne,ie){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:ne}function I(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,ie):ne.__proto__=ie)}var P={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},N=function(ie){return ie.code==="Tab"||ie.keyCode===9},R=function(ie){return ie.code==="Escape"||ie.keyCode===27},x=0,S=function(ne){I(ie,ne);function ie(Ie){Ae(this,ie);var $=O(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,Ie));return $.setOverlayRef=function(K){$.overlay=K,$.props.overlayRef&&$.props.overlayRef(K)},$.setContentRef=function(K){$.content=K,$.props.contentRef&&$.props.contentRef(K)},$.afterClose=function(){var K=$.props,le=K.appElement,te=K.ariaHideApp,V=K.htmlOpenClassName,Q=K.bodyOpenClassName,me=K.parentSelector,xe=me&&me().ownerDocument||document;Q&&z.remove(xe.body,Q),V&&z.remove(xe.getElementsByTagName("html")[0],V),te&&x>0&&(x-=1,x===0&&D.show(le)),$.props.shouldFocusAfterRender&&($.props.shouldReturnFocusAfterClose?(v.returnFocus($.props.preventScroll),v.teardownScopedFocus()):v.popWithoutFocus()),$.props.onAfterClose&&$.props.onAfterClose(),ue.default.deregister($)},$.open=function(){$.beforeOpen(),$.state.afterOpen&&$.state.beforeClose?(clearTimeout($.closeTimer),$.setState({beforeClose:!1})):($.props.shouldFocusAfterRender&&(v.setupScopedFocus($.node),v.markForFocusLater()),$.setState({isOpen:!0},function(){$.openAnimationFrame=requestAnimationFrame(function(){$.setState({afterOpen:!0}),$.props.isOpen&&$.props.onAfterOpen&&$.props.onAfterOpen({overlayEl:$.overlay,contentEl:$.content})})}))},$.close=function(){$.props.closeTimeoutMS>0?$.closeWithTimeout():$.closeWithoutTimeout()},$.focusContent=function(){return $.content&&!$.contentHasFocus()&&$.content.focus({preventScroll:!0})},$.closeWithTimeout=function(){var K=Date.now()+$.props.closeTimeoutMS;$.setState({beforeClose:!0,closesAt:K},function(){$.closeTimer=setTimeout($.closeWithoutTimeout,$.state.closesAt-Date.now())})},$.closeWithoutTimeout=function(){$.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},$.afterClose)},$.handleKeyDown=function(K){N(K)&&(0,E.default)($.content,K),$.props.shouldCloseOnEsc&&R(K)&&(K.stopPropagation(),$.requestClose(K))},$.handleOverlayOnClick=function(K){$.shouldClose===null&&($.shouldClose=!0),$.shouldClose&&$.props.shouldCloseOnOverlayClick&&($.ownerHandlesClose()?$.requestClose(K):$.focusContent()),$.shouldClose=null},$.handleContentOnMouseUp=function(){$.shouldClose=!1},$.handleOverlayOnMouseDown=function(K){!$.props.shouldCloseOnOverlayClick&&K.target==$.overlay&&K.preventDefault()},$.handleContentOnClick=function(){$.shouldClose=!1},$.handleContentOnMouseDown=function(){$.shouldClose=!1},$.requestClose=function(K){return $.ownerHandlesClose()&&$.props.onRequestClose(K)},$.ownerHandlesClose=function(){return $.props.onRequestClose},$.shouldBeClosed=function(){return!$.state.isOpen&&!$.state.beforeClose},$.contentHasFocus=function(){return document.activeElement===$.content||$.content.contains(document.activeElement)},$.buildClassName=function(K,le){var te=(typeof le>"u"?"undefined":o(le))==="object"?le:{base:P[K],afterOpen:P[K]+"--after-open",beforeClose:P[K]+"--before-close"},V=te.base;return $.state.afterOpen&&(V=V+" "+te.afterOpen),$.state.beforeClose&&(V=V+" "+te.beforeClose),typeof le=="string"&&le?V+" "+le:V},$.attributesFromObject=function(K,le){return Object.keys(le).reduce(function(te,V){return te[K+"-"+V]=le[V],te},{})},$.state={afterOpen:!1,beforeClose:!1},$.shouldClose=null,$.moveFromContentToOverlay=null,$}return s(ie,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function($,K){this.props.isOpen&&!$.isOpen?this.open():!this.props.isOpen&&$.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!K.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var $=this.props,K=$.appElement,le=$.ariaHideApp,te=$.htmlOpenClassName,V=$.bodyOpenClassName,Q=$.parentSelector,me=Q&&Q().ownerDocument||document;V&&z.add(me.body,V),te&&z.add(me.getElementsByTagName("html")[0],te),le&&(x+=1,D.hide(K)),ue.default.register(this)}},{key:"render",value:function(){var $=this.props,K=$.id,le=$.className,te=$.overlayClassName,V=$.defaultStyles,Q=$.children,me=le?{}:V.content,xe=te?{}:V.overlay;if(this.shouldBeClosed())return null;var ke={ref:this.setOverlayRef,className:this.buildClassName("overlay",te),style:t({},xe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},De=t({id:K,ref:this.setContentRef,style:t({},me,this.props.style.content),className:this.buildClassName("content",le),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ue=this.props.contentElement(De,Q);return this.props.overlayElement(ke,Ue)}}]),ie}(l.Component);S.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},S.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),parentSelector:h.default.func,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.oneOfType([h.default.instanceOf(se.default),h.default.instanceOf(F.SafeHTMLCollection),h.default.instanceOf(F.SafeNodeList),h.default.arrayOf(h.default.instanceOf(se.default))]),onAfterOpen:h.default.func,onAfterClose:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,data:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func,testId:h.default.string},e.default=S,n.exports=e.default}(Wu,Wu.exports)),Wu.exports}function e_(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function t_(n){function e(t){var o=this.constructor.getDerivedStateFromProps(n,t);return o??null}this.setState(e.bind(this))}function n_(n,e){try{var t=this.props,o=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,o)}finally{this.props=t,this.state=o}}e_.__suppressDeprecationWarning=!0;t_.__suppressDeprecationWarning=!0;n_.__suppressDeprecationWarning=!0;function bR(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,o=null,s=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),t!==null||o!==null||s!==null){var l=n.displayName||n.name,d=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+d+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(o!==null?`
  `+o:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=e_,e.componentWillReceiveProps=t_),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=n_;var h=e.componentDidUpdate;e.componentDidUpdate=function(v,_,E){var C=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;h.call(this,v,_,C)}}return n}const NR=Object.freeze(Object.defineProperty({__proto__:null,polyfill:bR},Symbol.toStringTag,{value:"Module"})),DR=a1(NR);var pv;function VR(){if(pv)return fi;pv=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.bodyOpenClassName=fi.portalClassName=void 0;var n=Object.assign||function(R){for(var x=1;x<arguments.length;x++){var S=arguments[x];for(var ne in S)Object.prototype.hasOwnProperty.call(S,ne)&&(R[ne]=S[ne])}return R},e=function(){function R(x,S){for(var ne=0;ne<S.length;ne++){var ie=S[ne];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(x,ie.key,ie)}}return function(x,S,ne){return S&&R(x.prototype,S),ne&&R(x,ne),x}}(),t=sl(),o=F(t),s=vf(),l=F(s),d=Y0(),h=F(d),g=kR(),v=F(g),_=J0(),E=z(_),C=wp(),D=F(C),M=DR;function z(R){if(R&&R.__esModule)return R;var x={};if(R!=null)for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(x[S]=R[S]);return x.default=R,x}function F(R){return R&&R.__esModule?R:{default:R}}function se(R,x){if(!(R instanceof x))throw new TypeError("Cannot call a class as a function")}function ae(R,x){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:R}function ue(R,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);R.prototype=Object.create(x&&x.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(R,x):R.__proto__=x)}var fe=fi.portalClassName="ReactModalPortal",Ne=fi.bodyOpenClassName="ReactModal__Body--open",Ae=C.canUseDOM&&l.default.createPortal!==void 0,O=function(x){return document.createElement(x)},I=function(){return Ae?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function P(R){return R()}var N=function(R){ue(x,R);function x(){var S,ne,ie,Ie;se(this,x);for(var $=arguments.length,K=Array($),le=0;le<$;le++)K[le]=arguments[le];return Ie=(ne=(ie=ae(this,(S=x.__proto__||Object.getPrototypeOf(x)).call.apply(S,[this].concat(K))),ie),ie.removePortal=function(){!Ae&&l.default.unmountComponentAtNode(ie.node);var te=P(ie.props.parentSelector);te&&te.contains(ie.node)?te.removeChild(ie.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ie.portalRef=function(te){ie.portal=te},ie.renderPortal=function(te){var V=I(),Q=V(ie,o.default.createElement(v.default,n({defaultStyles:x.defaultStyles},te)),ie.node);ie.portalRef(Q)},ne),ae(ie,Ie)}return e(x,[{key:"componentDidMount",value:function(){if(C.canUseDOM){Ae||(this.node=O("div")),this.node.className=this.props.portalClassName;var ne=P(this.props.parentSelector);ne.appendChild(this.node),!Ae&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ne){var ie=P(ne.parentSelector),Ie=P(this.props.parentSelector);return{prevParent:ie,nextParent:Ie}}},{key:"componentDidUpdate",value:function(ne,ie,Ie){if(C.canUseDOM){var $=this.props,K=$.isOpen,le=$.portalClassName;ne.portalClassName!==le&&(this.node.className=le);var te=Ie.prevParent,V=Ie.nextParent;V!==te&&(te.removeChild(this.node),V.appendChild(this.node)),!(!ne.isOpen&&!K)&&!Ae&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!C.canUseDOM||!this.node||!this.portal)){var ne=this.portal.state,ie=Date.now(),Ie=ne.isOpen&&this.props.closeTimeoutMS&&(ne.closesAt||ie+this.props.closeTimeoutMS);Ie?(ne.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Ie-ie)):this.removePortal()}}},{key:"render",value:function(){if(!C.canUseDOM||!Ae)return null;!this.node&&Ae&&(this.node=O("div"));var ne=I();return ne(o.default.createElement(v.default,n({ref:this.portalRef,defaultStyles:x.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ne){E.setElement(ne)}}]),x}(t.Component);return N.propTypes={isOpen:h.default.bool.isRequired,style:h.default.shape({content:h.default.object,overlay:h.default.object}),portalClassName:h.default.string,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,className:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),overlayClassName:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),appElement:h.default.oneOfType([h.default.instanceOf(D.default),h.default.instanceOf(C.SafeHTMLCollection),h.default.instanceOf(C.SafeNodeList),h.default.arrayOf(h.default.instanceOf(D.default))]),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,ariaHideApp:h.default.bool,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,parentSelector:h.default.func,aria:h.default.object,data:h.default.object,role:h.default.string,contentLabel:h.default.string,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func},N.defaultProps={isOpen:!1,portalClassName:fe,bodyOpenClassName:Ne,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(x,S){return o.default.createElement("div",x,S)},contentElement:function(x,S){return o.default.createElement("div",x,S)}},N.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,M.polyfill)(N),fi.default=N,fi}var mv;function OR(){return mv||(mv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=VR(),o=s(t);function s(l){return l&&l.__esModule?l:{default:l}}e.default=o.default,n.exports=e.default}(Hu,Hu.exports)),Hu.exports}var LR=OR();const MR=gv(LR),FR=({isOpen:n,onRequestClose:e,onSubmit:t})=>{//! States 
const[o,s]=X.useState(""),[l,d]=X.useState(""),[h,g]=X.useState(""),[v,_]=X.useState(""),[E,C]=X.useState(""),D=M=>{if(M.preventDefault(),!/^\d{9}$/.test(h)){Sn.fire({icon:"error",title:"Error",text:"El número de teléfono debe tener 9 dígitos sin espacios.",confirmButtonText:"OK"});return}v===E?(t({name:o,lastName:l,email:v,phone:h}),e()):Sn.fire({icon:"error",title:"Error",text:"Emails do not match!",confirmButtonText:"OK"})};return k.jsxs(MR,{isOpen:n,onRequestClose:e,contentLabel:"Order Information",className:"modal-content",overlayClassName:"modal-overlay",ariaHideApp:!1,children:[k.jsx("h2",{className:"modal-title",children:"Complete your Order"}),k.jsxs("form",{onSubmit:D,className:"form-modal",children:[k.jsx("input",{type:"text",name:"name",placeholder:"Name",value:o,onChange:M=>s(M.target.value),className:"input-field",required:!0}),k.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:l,onChange:M=>d(M.target.value),className:"input-field",required:!0}),k.jsx("input",{type:"number",name:"phone",placeholder:"Ej: 9 53635246",value:h,onChange:M=>g(M.target.value),className:"input-field",required:!0}),k.jsx("input",{type:"email",name:"email",placeholder:"ejemplo@gmail.com",value:v,onChange:M=>_(M.target.value),className:"input-field",required:!0}),k.jsx("input",{type:"email",name:"confirmEmail",placeholder:"Confirm Email",value:E,onChange:M=>C(M.target.value),className:"input-field",required:!0}),k.jsx("button",{type:"submit",className:"btn-submit",children:"Submit"}),k.jsx("button",{type:"button",onClick:e,className:"btn-cancel",children:"Cancel"})]})]})},jR=()=>{//! Context
const{cart:n,totalItems:e,getTotalPrice:t,clearCart:o}=X.useContext(Cl);//! State
const[s,l]=X.useState(!1),[d,h]=X.useState(!1),g=Av(),v=async _=>{h(!0);try{const E=await ER(n,_);o(),l(!1),g("/order-details",{state:E})}catch(E){console.error("Error during purchase:",E)}finally{h(!1)}};return d?k.jsx(Rc,{}):k.jsx(k.Fragment,{children:k.jsxs("div",{className:"cart-page",children:[k.jsx("section",{className:"cart-details",children:n.length?k.jsx(k.Fragment,{children:n.map(_=>k.jsx(_R,{item:_},_.id))}):k.jsxs("div",{className:"cart-empty-container",children:[k.jsx("h1",{className:"title-cartEmpty",children:"The cart is empty"}),k.jsx(Jt,{to:"/",children:k.jsx("button",{className:"btn-cartEmpty",children:"Go back Home"})})]})}),n.length>0&&k.jsxs("section",{className:"cart-summary",children:[k.jsx("h2",{children:"Purchase Summary"}),k.jsxs("p",{children:["Total products: (",e,")"]}),k.jsxs("p",{children:["Total: $",t," CLP"]}),k.jsx("button",{className:"btn-finishOrder",onClick:()=>l(!0),children:"End purchase"}),k.jsx(FR,{isOpen:s,onRequestClose:()=>l(!1),onSubmit:v})]})]})})},BR=()=>{const n=Vs(),[e,t]=X.useState(null),[o,s]=X.useState(!0);if(X.useEffect(()=>{(()=>{const h=n.state;h&&t(h),s(!1)})()},[n.state]),o)return k.jsx(Rc,{});if(!e)return k.jsx("h1",{children:"No order information available"});const l=()=>{const d=new Date;return`${d.getDate().toString().padStart(2,"0")}/${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getFullYear()}`};return k.jsxs("div",{className:"order-details",children:[k.jsx("h2",{className:"thank-you",children:"Thank You for Your Order!"}),k.jsx("p",{className:"review-info",children:"Review your order information below:"}),k.jsxs("div",{className:"order-date",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Date:"})," ",l()]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Order ID:"})," ",e.id]})]}),k.jsxs("div",{className:"items",children:[k.jsx("h3",{children:"Order Information"}),k.jsxs("div",{className:"items-info",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Name:"})," ",e.user.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Last Name:"})," ",e.user.lastName]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Phone:"})," ",e.user.phone]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Email:"})," ",e.user.email]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Total:"})," $",e.total]})]}),k.jsx("h3",{children:"Items: "}),k.jsx("ul",{className:"product-list",children:e.products.map(d=>k.jsxs("li",{className:"product-item",children:[k.jsx("img",{src:d.image,alt:d.title}),k.jsx("p",{children:d.title}),k.jsxs("p",{children:["keyboard ",d.category,"%"]}),k.jsxs("p",{children:["$",d.price," CLP"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Quantity:"})," ",d.quantity]})]},d.id))})]}),k.jsx(Jt,{to:"/",children:k.jsx("button",{className:"btn-goBackHome",children:"Go Back Home"})})]})},UR=()=>k.jsx(k.Fragment,{children:k.jsx(EI,{children:k.jsx(cR,{children:k.jsx(hE,{basename:"/Clicky",children:k.jsx(mR,{children:k.jsxs(iE,{children:[k.jsx(ao,{path:"/",element:k.jsx(Uy,{})}),k.jsx(ao,{path:"/category/:categoryId",element:k.jsx(Uy,{})}),k.jsx(ao,{path:"/detail/:id",element:k.jsx(vR,{})}),k.jsx(ao,{path:"/cart",element:k.jsx(jR,{})}),k.jsx(ao,{path:"/order-details",element:k.jsx(BR,{})}),k.jsx(ao,{path:"*",element:k.jsx(wR,{})})]})})})})})});y1.createRoot(document.getElementById("root")).render(k.jsx(X.StrictMode,{children:k.jsx(UR,{})}));
